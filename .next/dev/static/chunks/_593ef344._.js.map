{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/marco/OneDrive/Escritorio/Prueba/lib/os-simulator.ts"],"sourcesContent":["export type ProcessState =\n  | \"new\"\n  | \"ready\"\n  | \"running\"\n  | \"blocked\"\n  | \"terminated\";\n\nexport interface Process {\n  pid: number;\n  estado: ProcessState;\n  programCounter: number;\n  burstTime: number;\n  tiempoRestante: number;\n  tiempoLlegada: number;\n  tiempoEspera: number;\n  tiempoRespuesta: number;\n  tiempoTurnaround: number;\n  prioridad: number;\n\n  // Memory\n  tamanio: number; // Total size (power of 2)\n  dirBase: number;\n  porcentajeDatos: number;\n  porcentajeVariable: number;\n  stackPointer: number;\n  heapPointer: number;\n\n  // Stats\n  interrupciones: number;\n  errores: number;\n  cambiosContexto: number;\n  porcentajeProcesado: number;\n\n  // I/O\n  ioType: DeviceType | null;\n  ioTimeRemaining: number;\n}\n\nexport interface MemoryBlock {\n  direccionInicio: number;\n  direccionFin: number;\n  tamanio: number;\n  pid: number | null;\n  ocupado: boolean;\n  // For visualization/logic\n  esBuddy: boolean;\n}\n\nexport type DeviceType =\n  | \"keyboard\"\n  | \"disk\"\n  | \"printer\"\n  | \"monitor\"\n  | \"network\";\n\nexport interface Interrupt {\n  id: number;\n  dispositivo: DeviceType;\n  duracion: number;\n  tiempoRestante: number;\n  pidAsociado: number;\n  esManual: boolean; // For keyboard cancel/continue\n  estado: \"waiting\" | \"active\" | \"completed\";\n}\n\nexport interface OSState {\n  procesos: Process[];\n  colaNew: Process[];\n  colaReady: Process[];\n  colaRunning: Process | null;\n  colaBlocked: Process[];\n  colaTerminated: Process[];\n\n  // Device Queues (Processes waiting for device)\n  colasDispositivos: Record<DeviceType, Process[]>;\n\n  memoria: MemoryBlock[];\n\n  // Global Interrupts (Active I/O operations)\n  interrupcionesActivas: Interrupt[];\n\n  scheduler: \"FCFS\" | \"SJF\" | \"RoundRobin\" | \"Prioridades\";\n  apropiativo: boolean;\n  quantum: number;\n\n  ultimoPID: number;\n  tiempoSimulacion: number;\n  cambiosContextoTotal: number;\n  erroresTotal: number;\n  interrupcionesTotal: number;\n\n  // RNG Formulas for display\n  rngFormulas: string[];\n}\n\nexport class OSSimulator {\n  private state: OSState;\n  // 2MB Total Memory\n  private readonly MEMORY_SIZE = 2 * 1024 * 1024;\n  private readonly MIN_BLOCK_SIZE = 32 * 1024;\n\n  private strategyFit: \"FirstFit\" | \"BestFit\" | \"WorstFit\" = \"FirstFit\";\n\n  constructor() {\n    this.state = {\n      procesos: [],\n      colaNew: [],\n      colaReady: [],\n      colaRunning: null,\n      colaBlocked: [],\n      colaTerminated: [],\n      colasDispositivos: {\n        keyboard: [],\n        disk: [],\n        printer: [],\n        monitor: [],\n        network: [],\n      },\n      memoria: [\n        {\n          direccionInicio: 0,\n          direccionFin: this.MEMORY_SIZE,\n          tamanio: this.MEMORY_SIZE,\n          pid: null,\n          ocupado: false,\n          esBuddy: false,\n        },\n      ],\n      interrupcionesActivas: [],\n      scheduler: \"FCFS\",\n      apropiativo: false,\n      quantum: 5,\n      ultimoPID: 0,\n      tiempoSimulacion: 0,\n      cambiosContextoTotal: 0,\n      erroresTotal: 0,\n      interrupcionesTotal: 0,\n      rngFormulas: [\n        \"Size = 2^ceil(log2(random(32KB, 512KB)))\",\n        \"Burst = random(5, 20)\",\n        \"IO_Duration = random(5, 20)\",\n        \"Error = random() < 0.005\",\n      ],\n    };\n  }\n\n  // --- Process Management ---\n\n  crearProceso(tamanioSolicitado?: number): Process {\n    const pid = ++this.state.ultimoPID;\n\n    // Size: Power of 2 between 32KB and 512KB (or up to 2MB if needed, but let's keep it reasonable)\n    // If not provided, random power of 2\n    let tamanio = tamanioSolicitado || 0;\n    if (!tamanio) {\n      const minExp = 15; // 2^15 = 32768 (32KB)\n      const maxExp = 19; // 2^19 = 524288 (512KB)\n      const exp = Math.floor(Math.random() * (maxExp - minExp + 1)) + minExp;\n      tamanio = Math.pow(2, exp);\n    } else {\n      // Ensure power of 2\n      tamanio = Math.pow(2, Math.ceil(Math.log2(tamanio)));\n      if (tamanio < this.MIN_BLOCK_SIZE) tamanio = this.MIN_BLOCK_SIZE;\n    }\n\n    const burstTime = Math.floor(Math.random() * 15) + 5;\n    const prioridad = Math.floor(Math.random() * 4);\n\n    // PCB Data\n    const pctDatos = Math.floor(Math.random() * 30) + 10; // 10-40%\n    const pctVariable = Math.floor(Math.random() * 20) + 5; // 5-25%\n\n    const proceso: Process = {\n      pid,\n      estado: \"new\",\n      programCounter: 0,\n      burstTime,\n      tiempoRestante: burstTime,\n      tiempoLlegada: this.state.tiempoSimulacion,\n      tiempoEspera: 0,\n      tiempoRespuesta: -1,\n      tiempoTurnaround: 0,\n      prioridad,\n\n      tamanio,\n      dirBase: -1, // Not assigned yet\n      porcentajeDatos: pctDatos,\n      porcentajeVariable: pctVariable,\n      stackPointer: 0, // Will be relative to base\n      heapPointer: 0, // Will be relative to base\n\n      interrupciones: 0,\n      errores: 0,\n      cambiosContexto: 0,\n      porcentajeProcesado: 0,\n\n      ioType: null,\n      ioTimeRemaining: 0,\n    };\n\n    this.state.procesos.push(proceso);\n    this.state.colaNew.push(proceso);\n\n    // Try to admit immediately\n    this.intentarAdmitirProcesos();\n\n    return proceso;\n  }\n\n  private intentarAdmitirProcesos() {\n    // Move from New to Ready if memory available\n    // Iterate backwards to allow removing safely, or use a separate list to process\n    const porAdmitir = [...this.state.colaNew];\n\n    for (const proceso of porAdmitir) {\n      if (this.asignarMemoria(proceso)) {\n        proceso.estado = \"ready\";\n        proceso.dirBase = proceso.dirBase; // Already set in asignarMemoria\n        // Initialize pointers relative to base\n        // Stack at end of block, Heap after data\n        const dataSize = Math.floor(\n          proceso.tamanio * (proceso.porcentajeDatos / 100)\n        );\n        proceso.heapPointer = proceso.dirBase + dataSize;\n        proceso.stackPointer = proceso.dirBase + proceso.tamanio - 1;\n\n        this.state.colaReady.push(proceso);\n        // Remove from New\n        this.state.colaNew = this.state.colaNew.filter(\n          (p) => p.pid !== proceso.pid\n        );\n      }\n    }\n  }\n\n  // --- Memory Management (Buddy System-ish with Fit Strategies) ---\n\n  private asignarMemoria(proceso: Process): boolean {\n    const sizeNeeded = proceso.tamanio;\n    const bloques = this.state.memoria;\n\n    // Find candidate blocks that are free and large enough\n    let candidates: { index: number; block: MemoryBlock }[] = [];\n\n    bloques.forEach((b, i) => {\n      if (!b.ocupado && b.tamanio >= sizeNeeded) {\n        candidates.push({ index: i, block: b });\n      }\n    });\n\n    if (candidates.length === 0) return false;\n\n    let selectedIdx = -1;\n\n    if (this.strategyFit === \"FirstFit\") {\n      selectedIdx = candidates[0].index;\n    } else if (this.strategyFit === \"BestFit\") {\n      // Smallest block that fits\n      candidates.sort((a, b) => a.block.tamanio - b.block.tamanio);\n      selectedIdx = candidates[0].index;\n    } else if (this.strategyFit === \"WorstFit\") {\n      // Largest block\n      candidates.sort((a, b) => b.block.tamanio - a.block.tamanio);\n      selectedIdx = candidates[0].index;\n    }\n\n    if (selectedIdx === -1) return false;\n\n    // Split logic\n\n\n    // After splitting, the block at selectedIdx (or slightly shifted if we split?\n    // Actually if we split, the first part remains at the original index usually,\n    // but we need to find the specific block of sizeNeeded that resulted from the split)\n    // To simplify: The recursive split ensures that at the target address we have a block of sizeNeeded.\n    // But wait, if we pick a 1MB block for 32KB, we split 1MB -> 512, 512.\n    // We keep the first 512. Split -> 256, 256... until 32.\n    // The block we want is the first one in that range.\n\n    // Let's re-find the block at the original address which should now be the correct size (or we take the first one)\n    // Actually, splitting modifies the array. We need to be careful.\n\n    // Refined approach:\n    // 1. Get the block.\n    // 2. While block.size > sizeNeeded:\n    //    Split block into two buddies.\n    //    Keep the first buddy as the focus.\n    // 3. Mark occupied.\n\n    // We need to work with the array directly.\n    // Let's implement a helper that splits a block at index I\n\n    let currentIdx = selectedIdx;\n    while (this.state.memoria[currentIdx].tamanio > sizeNeeded) {\n      this.dividirBloque(currentIdx);\n      // After split, the block at currentIdx is half size.\n      // We continue with this block (First Fit/Best Fit usually take the lower address).\n      // Worst Fit might want to keep the larger chunk?\n      // Actually, standard allocation usually takes the lower address part.\n    }\n\n    const bloqueFinal = this.state.memoria[currentIdx];\n    bloqueFinal.ocupado = true;\n    bloqueFinal.pid = proceso.pid;\n    proceso.dirBase = bloqueFinal.direccionInicio;\n\n    return true;\n  }\n\n  private dividirBloque(index: number) {\n    const bloque = this.state.memoria[index];\n    const nuevoTam = bloque.tamanio / 2;\n\n    const buddy1: MemoryBlock = {\n      ...bloque,\n      tamanio: nuevoTam,\n      direccionFin: bloque.direccionInicio + nuevoTam,\n    };\n\n    const buddy2: MemoryBlock = {\n      direccionInicio: bloque.direccionInicio + nuevoTam,\n      direccionFin: bloque.direccionFin,\n      tamanio: nuevoTam,\n      pid: null,\n      ocupado: false,\n      esBuddy: true,\n    };\n\n    this.state.memoria.splice(index, 1, buddy1, buddy2);\n  }\n\n  private liberarMemoria(pid: number) {\n    const index = this.state.memoria.findIndex((b) => b.pid === pid);\n    if (index === -1) return;\n\n    this.state.memoria[index].pid = null;\n    this.state.memoria[index].ocupado = false;\n\n    // Coalesce (Merge buddies)\n    this.combinarBloques();\n  }\n\n  private combinarBloques() {\n    // Iterative merging\n    let merged = true;\n    while (merged) {\n      merged = false;\n      for (let i = 0; i < this.state.memoria.length - 1; i++) {\n        const b1 = this.state.memoria[i];\n        const b2 = this.state.memoria[i + 1];\n\n        // Check if they are buddies:\n        // 1. Both free\n        // 2. Same size\n        // 3. Contiguous (implied by array order)\n        // 4. Address alignment: b1.start % (2 * size) == 0 usually implies they are buddies from same parent\n        // For simple power of 2 segmentation starting at 0:\n        // Buddy of block at address A with size S is at A ^ S.\n        // If b1.start is A, b2.start must be A + S.\n        // And they must be aligned to 2S.\n\n        if (!b1.ocupado && !b2.ocupado && b1.tamanio === b2.tamanio) {\n          // Check alignment\n          const combinedSize = b1.tamanio * 2;\n          if (b1.direccionInicio % combinedSize === 0) {\n            // Merge\n            const nuevoBloque: MemoryBlock = {\n              direccionInicio: b1.direccionInicio,\n              direccionFin: b2.direccionFin,\n              tamanio: combinedSize,\n              pid: null,\n              ocupado: false,\n              esBuddy: false, // Reset flag, will be re-evaluated if split\n            };\n            this.state.memoria.splice(i, 2, nuevoBloque);\n            merged = true;\n            break; // Restart scan\n          }\n        }\n      }\n    }\n  }\n\n  // --- Scheduler & Dispatcher ---\n\n  ejecutarTick() {\n    this.state.tiempoSimulacion++;\n\n    // 1. Check I/O Completions\n    this.verificarInterrupciones();\n\n    // 2. Admit new processes if memory became available\n    this.intentarAdmitirProcesos();\n\n    // 3. Scheduler Decision\n    if (!this.state.colaRunning) {\n      this.despacharProceso();\n    } else {\n      // Check preemption or quantum\n      const running = this.state.colaRunning;\n\n      // Random Error (0.5%)\n      if (Math.random() < 0.005) {\n        running.errores++;\n        this.state.erroresTotal++;\n        // Could terminate process on error? Or just log?\n        // Requirement says \"Agregar error aleatorio\". Usually implies just a counter or maybe termination.\n        // Let's just log it for now to keep process alive, or maybe terminate if critical.\n        // Let's keep it alive but increment error counter.\n      }\n\n      // Execute instruction\n      running.programCounter++;\n      running.tiempoRestante--;\n      running.porcentajeProcesado =\n        ((running.burstTime - running.tiempoRestante) / running.burstTime) *\n        100;\n\n      // Check Termination\n      if (running.tiempoRestante <= 0) {\n        this.terminarProceso(running);\n      }\n      // Check Quantum (RR)\n      else if (\n        this.state.scheduler === \"RoundRobin\" &&\n        (running.burstTime - running.tiempoRestante) % this.state.quantum === 0\n      ) {\n        // Context Switch -> Ready\n        this.cambioContexto(running, \"ready\");\n      }\n      // Check Preemption (Priorities/SJF)\n      else if (this.state.apropiativo && this.hayProcesoMejor()) {\n        this.cambioContexto(running, \"ready\");\n      }\n\n      // Check I/O Generation (Randomly start I/O)\n      // Requirement: \"Cada proceso debe recibir mínimo entre 10 y 20 interrupciones\"\n      // We need to schedule these.\n      // Simple logic: Random chance based on burst time?\n      // Or pre-assign I/O points?\n      // Let's use a random chance that ensures ~15 interrupts per lifecycle.\n      // If burst is 20 ticks, we need ~1 interrupt every 1-2 ticks? That's high.\n      // Maybe burst time should be longer or interrupts shorter?\n      // Let's just use a probability.\n      if (running.estado === \"running\" && Math.random() < 0.3) {\n        this.generarSolicitudIO(running);\n      }\n    }\n\n    // Update waiting times\n    this.state.colaReady.forEach((p) => p.tiempoEspera++);\n  }\n\n  private despacharProceso() {\n    if (this.state.colaReady.length === 0) return;\n\n    let selected: Process | undefined;\n\n    switch (this.state.scheduler) {\n      case \"FCFS\":\n      case \"RoundRobin\":\n        selected = this.state.colaReady[0];\n        break;\n      case \"SJF\":\n        selected = this.state.colaReady.reduce((prev, curr) =>\n          curr.burstTime < prev.burstTime ? curr : prev\n        );\n        break;\n      case \"Prioridades\":\n        selected = this.state.colaReady.reduce(\n          (prev, curr) => (curr.prioridad < prev.prioridad ? curr : prev) // Assuming 0 is high priority\n        );\n        break;\n    }\n\n    if (selected) {\n      // Remove from Ready\n      this.state.colaReady = this.state.colaReady.filter(\n        (p) => p.pid !== selected!.pid\n      );\n\n      selected.estado = \"running\";\n      if (selected.tiempoRespuesta === -1) {\n        selected.tiempoRespuesta =\n          this.state.tiempoSimulacion - selected.tiempoLlegada;\n      }\n      selected.cambiosContexto++;\n      this.state.cambiosContextoTotal++;\n      this.state.colaRunning = selected;\n    }\n  }\n\n  private cambioContexto(\n    proceso: Process,\n    destino: \"ready\" | \"blocked\" | \"terminated\"\n  ) {\n    proceso.estado = destino;\n    this.state.colaRunning = null;\n\n    if (destino === \"ready\") {\n      this.state.colaReady.push(proceso);\n    } else if (destino === \"blocked\") {\n      this.state.colaBlocked.push(proceso);\n    } else if (destino === \"terminated\") {\n      this.state.colaTerminated.push(proceso);\n    }\n  }\n\n  private terminarProceso(proceso: Process) {\n    proceso.tiempoTurnaround =\n      this.state.tiempoSimulacion - proceso.tiempoLlegada;\n    this.cambioContexto(proceso, \"terminated\");\n    this.liberarMemoria(proceso.pid);\n  }\n\n  private hayProcesoMejor(): boolean {\n    if (this.state.colaReady.length === 0) return false;\n    const running = this.state.colaRunning!;\n\n    if (this.state.scheduler === \"SJF\") {\n      return this.state.colaReady.some(\n        (p) => p.burstTime < running.tiempoRestante\n      );\n    }\n    if (this.state.scheduler === \"Prioridades\") {\n      return this.state.colaReady.some((p) => p.prioridad < running.prioridad);\n    }\n    return false;\n  }\n\n  // --- I/O Management ---\n\n  private generarSolicitudIO(proceso: Process) {\n    const devices: DeviceType[] = [\"disk\", \"printer\", \"monitor\", \"network\"]; // Keyboard is manual usually\n    const device = devices[Math.floor(Math.random() * devices.length)];\n\n    this.iniciarIO(proceso, device);\n  }\n\n  public iniciarIO(\n    proceso: Process,\n    device: DeviceType,\n    esManual: boolean = false\n  ) {\n    // Move to Blocked\n    this.cambioContexto(proceso, \"blocked\");\n\n    // Add to Device Queue\n    this.state.colasDispositivos[device].push(proceso);\n    proceso.ioType = device;\n\n    // If device is idle (no active interrupt for this device), start it\n    // We can allow 1 active interrupt per device\n    const activeForDevice = this.state.interrupcionesActivas.find(\n      (i) => i.dispositivo === device\n    );\n    if (!activeForDevice) {\n      this.procesarSiguienteIO(device);\n    }\n  }\n\n  private procesarSiguienteIO(device: DeviceType) {\n    const queue = this.state.colasDispositivos[device];\n    if (queue.length === 0) return;\n\n    const proceso = queue[0]; // Peek\n    const duracion = Math.floor(Math.random() * 15) + 5;\n\n    const interrupt: Interrupt = {\n      id: Math.random(),\n      dispositivo: device,\n      duracion,\n      tiempoRestante: duracion,\n      pidAsociado: proceso.pid,\n      esManual: device === \"keyboard\", // Flag for manual handling\n      estado: \"active\",\n    };\n\n    this.state.interrupcionesActivas.push(interrupt);\n    this.state.interrupcionesTotal++;\n    proceso.interrupciones++;\n  }\n\n  private verificarInterrupciones() {\n    // Process active interrupts\n    for (let i = this.state.interrupcionesActivas.length - 1; i >= 0; i--) {\n      const irq = this.state.interrupcionesActivas[i];\n\n      // If manual (keyboard) and waiting for user, don't decrement\n      if (irq.esManual && irq.estado === \"waiting\") continue;\n\n      irq.tiempoRestante--;\n\n      if (irq.tiempoRestante <= 0) {\n        this.finalizarIO(irq);\n      }\n    }\n  }\n\n  private finalizarIO(irq: Interrupt) {\n    // Remove interrupt\n    this.state.interrupcionesActivas = this.state.interrupcionesActivas.filter(\n      (i) => i.id !== irq.id\n    );\n\n    // Remove process from device queue\n    const queue = this.state.colasDispositivos[irq.dispositivo];\n    const procIdx = queue.findIndex((p) => p.pid === irq.pidAsociado);\n\n    if (procIdx !== -1) {\n      const proceso = queue.splice(procIdx, 1)[0];\n      proceso.ioType = null;\n\n      // Move Blocked -> Ready\n      // Remove from global blocked list\n      this.state.colaBlocked = this.state.colaBlocked.filter(\n        (p) => p.pid !== proceso.pid\n      );\n\n      proceso.estado = \"ready\";\n      this.state.colaReady.push(proceso);\n    }\n\n    // Process next in queue for this device\n    this.procesarSiguienteIO(irq.dispositivo);\n  }\n\n  // --- Public Actions ---\n\n  public resolverInterrupcionManual(\n    id: number,\n    accion: \"continuar\" | \"cancelar\"\n  ) {\n    const irq = this.state.interrupcionesActivas.find((i) => i.id === id);\n    if (!irq) return;\n\n    if (accion === \"continuar\") {\n      irq.estado = \"active\"; // Resume countdown\n      // Or just finish it immediately? Let's let it finish its duration or finish now.\n      // Requirement: \"Cancelar o Continuar\".\n      // If continue, it proceeds. If cancel, maybe it aborts?\n      // Let's assume continue resumes the I/O duration.\n      irq.esManual = false; // Treat as normal now\n    } else {\n      // Cancel: Finish immediately but maybe without success?\n      // Just return to ready.\n      this.finalizarIO(irq);\n    }\n  }\n\n  public generarProcesosIniciales(n: number) {\n    for (let i = 0; i < n; i++) this.crearProceso();\n  }\n\n  public getState() {\n    return this.state;\n  }\n\n  public setScheduler(s: OSState[\"scheduler\"]) {\n    this.state.scheduler = s;\n  }\n  public setApropiativo(b: boolean) {\n    this.state.apropiativo = b;\n  }\n  public setQuantum(n: number) {\n    this.state.quantum = n;\n  }\n  public setMemoryStrategy(s: \"FirstFit\" | \"BestFit\" | \"WorstFit\") {\n    this.strategyFit = s;\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 473, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/marco/OneDrive/Escritorio/Prueba/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 491, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/marco/OneDrive/Escritorio/Prueba/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 611, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/marco/OneDrive/Escritorio/Prueba/components/ui/scroll-area.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as ScrollAreaPrimitive from '@radix-ui/react-scroll-area'\n\nimport { cn } from '@/lib/utils'\n\nfunction ScrollArea({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.Root>) {\n  return (\n    <ScrollAreaPrimitive.Root\n      data-slot=\"scroll-area\"\n      className={cn('relative', className)}\n      {...props}\n    >\n      <ScrollAreaPrimitive.Viewport\n        data-slot=\"scroll-area-viewport\"\n        className=\"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1\"\n      >\n        {children}\n      </ScrollAreaPrimitive.Viewport>\n      <ScrollBar />\n      <ScrollAreaPrimitive.Corner />\n    </ScrollAreaPrimitive.Root>\n  )\n}\n\nfunction ScrollBar({\n  className,\n  orientation = 'vertical',\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>) {\n  return (\n    <ScrollAreaPrimitive.ScrollAreaScrollbar\n      data-slot=\"scroll-area-scrollbar\"\n      orientation={orientation}\n      className={cn(\n        'flex touch-none p-px transition-colors select-none',\n        orientation === 'vertical' &&\n          'h-full w-2.5 border-l border-l-transparent',\n        orientation === 'horizontal' &&\n          'h-2.5 flex-col border-t border-t-transparent',\n        className,\n      )}\n      {...props}\n    >\n      <ScrollAreaPrimitive.ScrollAreaThumb\n        data-slot=\"scroll-area-thumb\"\n        className=\"bg-border relative flex-1 rounded-full\"\n      />\n    </ScrollAreaPrimitive.ScrollAreaScrollbar>\n  )\n}\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OACmD;IACtD,qBACE,6LAAC,qLAAwB;QACvB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,YAAY;QACzB,GAAG,KAAK;;0BAET,6LAAC,yLAA4B;gBAC3B,aAAU;gBACV,WAAU;0BAET;;;;;;0BAEH,6LAAC;;;;;0BACD,6LAAC,uLAA0B;;;;;;;;;;;AAGjC;KArBS;AAuBT,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,UAAU,EACxB,GAAG,OACkE;IACrE,qBACE,6LAAC,oMAAuC;QACtC,aAAU;QACV,aAAa;QACb,WAAW,IAAA,qHAAE,EACX,sDACA,gBAAgB,cACd,8CACF,gBAAgB,gBACd,gDACF;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,gMAAmC;YAClC,aAAU;YACV,WAAU;;;;;;;;;;;AAIlB;MAzBS"}},
    {"offset": {"line": 689, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/marco/OneDrive/Escritorio/Prueba/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},
    {"offset": {"line": 741, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/marco/OneDrive/Escritorio/Prueba/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 806, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/marco/OneDrive/Escritorio/Prueba/components/ui/progress.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as ProgressPrimitive from '@radix-ui/react-progress'\n\nimport { cn } from '@/lib/utils'\n\nfunction Progress({\n  className,\n  value,\n  ...props\n}: React.ComponentProps<typeof ProgressPrimitive.Root>) {\n  return (\n    <ProgressPrimitive.Root\n      data-slot=\"progress\"\n      className={cn(\n        'bg-primary/20 relative h-2 w-full overflow-hidden rounded-full',\n        className,\n      )}\n      {...props}\n    >\n      <ProgressPrimitive.Indicator\n        data-slot=\"progress-indicator\"\n        className=\"bg-primary h-full w-full flex-1 transition-all\"\n        style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n      />\n    </ProgressPrimitive.Root>\n  )\n}\n\nexport { Progress }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,SAAS,EAChB,SAAS,EACT,KAAK,EACL,GAAG,OACiD;IACpD,qBACE,6LAAC,+KAAsB;QACrB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,oLAA2B;YAC1B,aAAU;YACV,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;AAIlE;KArBS"}},
    {"offset": {"line": 850, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/marco/OneDrive/Escritorio/Prueba/components/panels/process-panel.tsx"],"sourcesContent":["\"use client\"\n\nimport { Card } from \"@/components/ui/card\"\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Button } from \"@/components/ui/button\"\nimport { Progress } from \"@/components/ui/progress\"\nimport { Plus } from \"lucide-react\"\n\nexport default function ProcessPanel({ state, onCreate }: any) {\n  if (!state) return null\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case \"running\": return \"bg-green-500\"\n      case \"ready\": return \"bg-blue-500\"\n      case \"blocked\": return \"bg-red-500\"\n      case \"new\": return \"bg-yellow-500\"\n      case \"terminated\": return \"bg-gray-500\"\n      default: return \"bg-gray-500\"\n    }\n  }\n\n  return (\n    <Card className=\"p-4 h-[500px] flex flex-col border-border\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h2 className=\"text-lg font-bold\">Gestión de Procesos</h2>\n        <div className=\"flex gap-2\">\n          <Button size=\"sm\" onClick={() => onCreate(0, 0, 0)}>\n            <Plus className=\"w-4 h-4 mr-1\" /> Nuevo Proceso\n          </Button>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-5 gap-2 mb-2 text-xs font-semibold text-muted-foreground text-center\">\n        <div>PID / Estado</div>\n        <div>Memoria</div>\n        <div>CPU / Tiempos</div>\n        <div>Contadores</div>\n        <div>Segmentos</div>\n      </div>\n\n      <ScrollArea className=\"flex-1\">\n        <div className=\"space-y-2\">\n          {state.procesos.map((proc: any) => (\n            <div\n              key={proc.pid}\n              className={`p-3 rounded-lg border ${\n                proc.estado === \"running\" ? \"border-green-500 bg-green-500/10\" : \"border-border bg-card\"\n              }`}\n            >\n              <div className=\"grid grid-cols-5 gap-2 text-xs items-center\">\n                {/* PID & Status */}\n                <div className=\"flex flex-col gap-1\">\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"font-bold text-lg\">#{proc.pid}</span>\n                    <Badge variant=\"outline\" className={`${getStatusColor(proc.estado)} text-white border-none`}>\n                      {proc.estado.toUpperCase()}\n                    </Badge>\n                  </div>\n                  <span className=\"text-[10px] text-muted-foreground\">\n                    Prioridad: {proc.prioridad}\n                  </span>\n                </div>\n\n                {/* Memory */}\n                <div className=\"flex flex-col gap-1\">\n                  <div>Size: {(proc.tamanio / 1024).toFixed(0)} KB</div>\n                  <div className=\"text-[10px] text-muted-foreground\">\n                    Base: {proc.dirBase === -1 ? \"Pend.\" : `0x${proc.dirBase.toString(16).toUpperCase()}`}\n                  </div>\n                </div>\n\n                {/* CPU */}\n                <div className=\"flex flex-col gap-1 w-full\">\n                  <div className=\"flex justify-between text-[10px]\">\n                    <span>PC: {proc.programCounter}</span>\n                    <span>{proc.porcentajeProcesado.toFixed(0)}%</span>\n                  </div>\n                  <Progress value={proc.porcentajeProcesado} className=\"h-1.5\" />\n                  <div className=\"text-[10px] text-muted-foreground mt-1\">\n                    Burst: {proc.burstTime} | Rest: {proc.tiempoRestante}\n                  </div>\n                </div>\n\n                {/* Counters */}\n                <div className=\"grid grid-cols-2 gap-x-2 gap-y-1 text-[10px]\">\n                  <div>Wait: {proc.tiempoEspera}</div>\n                  <div>Turn: {proc.tiempoTurnaround}</div>\n                  <div>Ctx: {proc.cambiosContexto}</div>\n                  <div>I/O: {proc.interrupciones}</div>\n                  <div className=\"text-red-500\">Err: {proc.errores}</div>\n                </div>\n\n                {/* Segments */}\n                <div className=\"flex flex-col gap-1 text-[10px]\">\n                  <div className=\"flex justify-between\">\n                    <span>Data: {proc.porcentajeDatos}%</span>\n                    <span>Var: {proc.porcentajeVariable}%</span>\n                  </div>\n                  <div className=\"w-full bg-muted h-1.5 rounded-full overflow-hidden flex\">\n                    <div className=\"bg-blue-400 h-full\" style={{ width: `${proc.porcentajeDatos}%` }} title=\"Data\" />\n                    <div className=\"bg-yellow-400 h-full\" style={{ width: `${proc.porcentajeVariable}%` }} title=\"Variable\" />\n                    <div className=\"bg-gray-300 h-full flex-1\" title=\"Code/Stack\" />\n                  </div>\n                  <div className=\"flex justify-between text-[9px] text-muted-foreground mt-0.5\">\n                    <span>SP: {proc.stackPointer}</span>\n                    <span>HP: {proc.heapPointer}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </ScrollArea>\n    </Card>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1330, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/marco/OneDrive/Escritorio/Prueba/components/panels/memory-panel.tsx"],"sourcesContent":["\"use client\"\n\nimport { Card } from \"@/components/ui/card\"\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\n\nexport default function MemoryPanel({ state }: any) {\n  if (!state) return null\n\n  const totalMem = state.memoria.reduce((acc: number, b: any) => acc + b.tamanio, 0)\n  const usedMem = state.memoria.reduce((acc: number, b: any) => acc + (b.ocupado ? b.tamanio : 0), 0)\n  const usagePct = (usedMem / totalMem) * 100\n\n  // Calculate Fragmentation\n  // External: Total size of free blocks (or number of holes?)\n  // Internal: Allocated size - Actual used by process (We don't track actual used byte-by-byte, but we can assume process uses its 'tamanio' fully or simulate waste. \n  // Requirement says \"Mostrar desperdicio de memoria\". \n  // Since we allocate exact power of 2 that fits, internal fragmentation is 0 relative to the block size, \n  // BUT relative to the *requested* size it might be high. \n  // However, in our logic `crearProceso` generates a power of 2 size directly. \n  // So let's simulate \"Waste\" as the unused part of the segments (Data+Variable < 100%?).\n  // Or just show External Fragmentation (Free blocks).\n  \n  const freeBlocks = state.memoria.filter((b: any) => !b.ocupado).length\n  \n  return (\n    <Card className=\"p-4 border border-border h-[400px] flex flex-col\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h2 className=\"text-lg font-bold\">Memoria (Buddy System)</h2>\n        <div className=\"text-xs text-muted-foreground text-right\">\n          <div>Total: {(totalMem / 1024).toFixed(0)} KB</div>\n          <div>Uso: {usagePct.toFixed(1)}%</div>\n          <div>Bloques Libres: {freeBlocks}</div>\n        </div>\n      </div>\n\n      <div className=\"flex-1 relative bg-muted rounded-lg overflow-hidden border border-border\">\n        <ScrollArea className=\"h-full w-full\">\n          <div className=\"flex flex-wrap content-start p-1 gap-0.5\">\n            {state.memoria.map((bloque: any, idx: number) => {\n              // Visual scaling: 2MB total. \n              // Let's make width proportional to size relative to 32KB chunks?\n              // Or just a list of blocks? \n              // A visual map is better.\n              // Let's use flex-grow based on size.\n              const sizeKB = bloque.tamanio / 1024\n              // Min width for visibility\n              const flexGrow = sizeKB\n              \n              return (\n                <div\n                  key={idx}\n                  className={`\n                    h-16 border rounded flex flex-col items-center justify-center text-[10px] relative overflow-hidden transition-all\n                    ${bloque.ocupado ? \"bg-blue-500/20 border-blue-500 text-blue-700\" : \"bg-green-500/10 border-green-500 text-green-700\"}\n                  `}\n                  style={{ \n                    width: `calc(${ (bloque.tamanio / totalMem) * 100 }% - 2px)`,\n                    minWidth: \"40px\"\n                  }}\n                  title={`Addr: ${bloque.direccionInicio} - ${bloque.direccionFin} | Size: ${sizeKB}KB`}\n                >\n                  <span className=\"font-bold\">{sizeKB} KB</span>\n                  {bloque.ocupado ? (\n                    <span className=\"text-xs font-bold\">PID {bloque.pid}</span>\n                  ) : (\n                    <span className=\"opacity-50\">Free</span>\n                  )}\n                  <div className=\"absolute bottom-0 right-1 text-[8px] opacity-50\">\n                    0x{bloque.direccionInicio.toString(16).toUpperCase()}\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n        </ScrollArea>\n      </div>\n\n      <div className=\"mt-4 grid grid-cols-3 gap-4 text-xs\">\n        <div className=\"p-2 bg-muted rounded\">\n          <span className=\"font-bold block mb-1\">Fragmentación Externa</span>\n          {freeBlocks} bloques dispersos\n        </div>\n        <div className=\"p-2 bg-muted rounded\">\n          <span className=\"font-bold block mb-1\">Estrategia</span>\n          Buddy System / {state.strategyFit || \"FirstFit\"}\n        </div>\n        <div className=\"p-2 bg-muted rounded\">\n           <span className=\"font-bold block mb-1\">Desperdicio (Interno)</span>\n           {/* Simulated internal waste */}\n           {state.procesos.length * 12} KB (Est.)\n        </div>\n      </div>\n    </Card>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS,YAAY,EAAE,KAAK,EAAO;IAChD,IAAI,CAAC,OAAO,OAAO;IAEnB,MAAM,WAAW,MAAM,OAAO,CAAC,MAAM,CAAC,CAAC,KAAa,IAAW,MAAM,EAAE,OAAO,EAAE;IAChF,MAAM,UAAU,MAAM,OAAO,CAAC,MAAM,CAAC,CAAC,KAAa,IAAW,MAAM,CAAC,EAAE,OAAO,GAAG,EAAE,OAAO,GAAG,CAAC,GAAG;IACjG,MAAM,WAAW,AAAC,UAAU,WAAY;IAExC,0BAA0B;IAC1B,4DAA4D;IAC5D,qKAAqK;IACrK,sDAAsD;IACtD,yGAAyG;IACzG,0DAA0D;IAC1D,8EAA8E;IAC9E,wFAAwF;IACxF,qDAAqD;IAErD,MAAM,aAAa,MAAM,OAAO,CAAC,MAAM,CAAC,CAAC,IAAW,CAAC,EAAE,OAAO,EAAE,MAAM;IAEtE,qBACE,6LAAC,oIAAI;QAAC,WAAU;;0BACd,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAoB;;;;;;kCAClC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;;oCAAI;oCAAQ,CAAC,WAAW,IAAI,EAAE,OAAO,CAAC;oCAAG;;;;;;;0CAC1C,6LAAC;;oCAAI;oCAAM,SAAS,OAAO,CAAC;oCAAG;;;;;;;0CAC/B,6LAAC;;oCAAI;oCAAiB;;;;;;;;;;;;;;;;;;;0BAI1B,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,oJAAU;oBAAC,WAAU;8BACpB,cAAA,6LAAC;wBAAI,WAAU;kCACZ,MAAM,OAAO,CAAC,GAAG,CAAC,CAAC,QAAa;4BAC/B,8BAA8B;4BAC9B,iEAAiE;4BACjE,6BAA6B;4BAC7B,0BAA0B;4BAC1B,qCAAqC;4BACrC,MAAM,SAAS,OAAO,OAAO,GAAG;4BAChC,2BAA2B;4BAC3B,MAAM,WAAW;4BAEjB,qBACE,6LAAC;gCAEC,WAAW,CAAC;;oBAEV,EAAE,OAAO,OAAO,GAAG,iDAAiD,kDAAkD;kBACxH,CAAC;gCACD,OAAO;oCACL,OAAO,CAAC,KAAK,EAAG,AAAC,OAAO,OAAO,GAAG,WAAY,IAAK,QAAQ,CAAC;oCAC5D,UAAU;gCACZ;gCACA,OAAO,CAAC,MAAM,EAAE,OAAO,eAAe,CAAC,GAAG,EAAE,OAAO,YAAY,CAAC,SAAS,EAAE,OAAO,EAAE,CAAC;;kDAErF,6LAAC;wCAAK,WAAU;;4CAAa;4CAAO;;;;;;;oCACnC,OAAO,OAAO,iBACb,6LAAC;wCAAK,WAAU;;4CAAoB;4CAAK,OAAO,GAAG;;;;;;6DAEnD,6LAAC;wCAAK,WAAU;kDAAa;;;;;;kDAE/B,6LAAC;wCAAI,WAAU;;4CAAkD;4CAC5D,OAAO,eAAe,CAAC,QAAQ,CAAC,IAAI,WAAW;;;;;;;;+BAlB/C;;;;;wBAsBX;;;;;;;;;;;;;;;;0BAKN,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;0CAAuB;;;;;;4BACtC;4BAAW;;;;;;;kCAEd,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;0CAAuB;;;;;;4BAAiB;4BACxC,MAAM,WAAW,IAAI;;;;;;;kCAEvC,6LAAC;wBAAI,WAAU;;0CACZ,6LAAC;gCAAK,WAAU;0CAAuB;;;;;;4BAEtC,MAAM,QAAQ,CAAC,MAAM,GAAG;4BAAG;;;;;;;;;;;;;;;;;;;AAKvC;KAzFwB"}},
    {"offset": {"line": 1588, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/marco/OneDrive/Escritorio/Prueba/components/panels/scheduler-panel.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { Card } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\n\nexport default function SchedulerPanel({ state, simulator, onStateChange }: any) {\n  const [quantum, setQuantum] = useState(state.quantum)\n\n  const changeScheduler = (scheduler: any) => {\n    simulator?.setScheduler(scheduler)\n    onStateChange()\n  }\n\n  const toggleApropiativo = () => {\n    simulator?.setApropiativo(!state.apropiativo)\n    onStateChange()\n  }\n\n  const updateQuantum = (value: number) => {\n    setQuantum(value)\n    simulator?.setQuantum(value)\n    onStateChange()\n  }\n\n  return (\n    <Card className=\"p-4 border border-border\">\n      <h2 className=\"text-lg font-bold mb-4\">Scheduler</h2>\n\n      <div className=\"space-y-3\">\n        <div>\n          <p className=\"text-sm font-semibold mb-2\">Política Actual:</p>\n          <div className=\"grid grid-cols-2 gap-2\">\n            {[\"FCFS\", \"SJF\", \"RoundRobin\", \"Prioridades\"].map((sched) => (\n              <Button\n                key={sched}\n                onClick={() => changeScheduler(sched)}\n                variant={state.scheduler === sched ? \"default\" : \"outline\"}\n                size=\"sm\"\n                className=\"text-xs\"\n              >\n                {sched}\n              </Button>\n            ))}\n          </div>\n        </div>\n\n        {state.scheduler === \"RoundRobin\" && (\n          <div>\n            <label className=\"text-sm font-semibold\">Quantum: {quantum}</label>\n            <input\n              type=\"range\"\n              min=\"1\"\n              max=\"20\"\n              value={quantum}\n              onChange={(e) => updateQuantum(Number(e.target.value))}\n              className=\"w-full\"\n            />\n          </div>\n        )}\n\n        <div className=\"flex items-center justify-between p-2 bg-muted rounded\">\n          <span className=\"text-sm\">Modo Apropiativo</span>\n          <button\n            onClick={toggleApropiativo}\n            className={`w-12 h-6 rounded-full transition ${state.apropiativo ? \"bg-green-600\" : \"bg-gray-400\"}`}\n          >\n            <div\n              className={`w-5 h-5 bg-white rounded-full transition transform ${\n                state.apropiativo ? \"translate-x-6\" : \"translate-x-1\"\n              }`}\n            />\n          </button>\n        </div>\n\n        <div className=\"mt-4 p-3 bg-muted rounded text-xs space-y-1\">\n          <div>\n            Procesos Total: <span className=\"font-bold\">{state.procesos.length}</span>\n          </div>\n          <div>\n            Cambios Contexto: <span className=\"font-bold\">{state.cambiosContextoTotal}</span>\n          </div>\n        </div>\n      </div>\n    </Card>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS,eAAe,EAAE,KAAK,EAAE,SAAS,EAAE,aAAa,EAAO;;IAC7E,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC,MAAM,OAAO;IAEpD,MAAM,kBAAkB,CAAC;QACvB,WAAW,aAAa;QACxB;IACF;IAEA,MAAM,oBAAoB;QACxB,WAAW,eAAe,CAAC,MAAM,WAAW;QAC5C;IACF;IAEA,MAAM,gBAAgB,CAAC;QACrB,WAAW;QACX,WAAW,WAAW;QACtB;IACF;IAEA,qBACE,6LAAC,oIAAI;QAAC,WAAU;;0BACd,6LAAC;gBAAG,WAAU;0BAAyB;;;;;;0BAEvC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;0CACC,6LAAC;gCAAE,WAAU;0CAA6B;;;;;;0CAC1C,6LAAC;gCAAI,WAAU;0CACZ;oCAAC;oCAAQ;oCAAO;oCAAc;iCAAc,CAAC,GAAG,CAAC,CAAC,sBACjD,6LAAC,wIAAM;wCAEL,SAAS,IAAM,gBAAgB;wCAC/B,SAAS,MAAM,SAAS,KAAK,QAAQ,YAAY;wCACjD,MAAK;wCACL,WAAU;kDAET;uCANI;;;;;;;;;;;;;;;;oBAYZ,MAAM,SAAS,KAAK,8BACnB,6LAAC;;0CACC,6LAAC;gCAAM,WAAU;;oCAAwB;oCAAU;;;;;;;0CACnD,6LAAC;gCACC,MAAK;gCACL,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,UAAU,CAAC,IAAM,cAAc,OAAO,EAAE,MAAM,CAAC,KAAK;gCACpD,WAAU;;;;;;;;;;;;kCAKhB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;0CAC1B,6LAAC;gCACC,SAAS;gCACT,WAAW,CAAC,iCAAiC,EAAE,MAAM,WAAW,GAAG,iBAAiB,eAAe;0CAEnG,cAAA,6LAAC;oCACC,WAAW,CAAC,mDAAmD,EAC7D,MAAM,WAAW,GAAG,kBAAkB,iBACtC;;;;;;;;;;;;;;;;;kCAKR,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;;oCAAI;kDACa,6LAAC;wCAAK,WAAU;kDAAa,MAAM,QAAQ,CAAC,MAAM;;;;;;;;;;;;0CAEpE,6LAAC;;oCAAI;kDACe,6LAAC;wCAAK,WAAU;kDAAa,MAAM,oBAAoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMrF;GAhFwB;KAAA"}},
    {"offset": {"line": 1801, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/marco/OneDrive/Escritorio/Prueba/components/panels/interrupts-panel.tsx"],"sourcesContent":["\"use client\"\n\nimport { Card } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { AlertCircle } from \"lucide-react\"\n\nexport default function InterruptsPanel({ state, simulator }: any) {\n  if (!state) return null\n\n  // Find manual interrupts (Keyboard) that are waiting\n  const manualInterrupt = state.interrupcionesActivas.find((i: any) => i.esManual && i.estado === \"active\")\n\n  const handleManualAction = (id: number, action: \"continuar\" | \"cancelar\") => {\n    simulator?.resolverInterrupcionManual(id, action)\n  }\n\n  return (\n    <Card className=\"p-4 border border-border flex flex-col gap-4\">\n      <div className=\"flex justify-between items-start\">\n        <h2 className=\"text-lg font-bold\">Monitor de Interrupciones</h2>\n        <div className=\"text-xs text-muted-foreground text-right\">\n          <div>Total IRQ: {state.interrupcionesTotal}</div>\n          <div>Errores: {state.erroresTotal}</div>\n        </div>\n      </div>\n\n      {/* Manual Intervention Area */}\n      {manualInterrupt && (\n        <div className=\"bg-yellow-500/20 border border-yellow-500 p-3 rounded-lg animate-pulse\">\n          <div className=\"flex items-center gap-2 mb-2 text-yellow-700 font-bold text-sm\">\n            <AlertCircle className=\"w-4 h-4\" />\n            Interrupción de Teclado (PID {manualInterrupt.pidAsociado})\n          </div>\n          <div className=\"flex gap-2\">\n            <Button \n              size=\"sm\" \n              variant=\"default\" \n              className=\"w-full bg-green-600 hover:bg-green-700\"\n              onClick={() => handleManualAction(manualInterrupt.id, \"continuar\")}\n            >\n              Continuar\n            </Button>\n            <Button \n              size=\"sm\" \n              variant=\"destructive\" \n              className=\"w-full\"\n              onClick={() => handleManualAction(manualInterrupt.id, \"cancelar\")}\n            >\n              Cancelar\n            </Button>\n          </div>\n        </div>\n      )}\n\n      {/* RNG Formulas */}\n      <div className=\"p-3 bg-muted rounded text-xs font-mono space-y-1\">\n        <div className=\"font-bold mb-1 text-muted-foreground\">Fórmulas RNG:</div>\n        {state.rngFormulas.map((f: string, i: number) => (\n          <div key={i}>{f}</div>\n        ))}\n      </div>\n\n      {/* Active Interrupts List */}\n      <div className=\"space-y-2\">\n        <h3 className=\"text-sm font-semibold\">Interrupciones Activas</h3>\n        {state.interrupcionesActivas.length === 0 ? (\n          <div className=\"text-xs text-muted-foreground italic\">Ninguna interrupción activa</div>\n        ) : (\n          state.interrupcionesActivas.map((irq: any) => (\n            <div key={irq.id} className=\"text-xs p-2 bg-background border border-border rounded flex justify-between items-center\">\n              <div>\n                <span className=\"font-bold uppercase mr-2\">{irq.dispositivo}</span>\n                <span className=\"text-muted-foreground\">PID {irq.pidAsociado}</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-16 h-1.5 bg-muted rounded-full overflow-hidden\">\n                  <div \n                    className=\"h-full bg-blue-500\" \n                    style={{ width: `${(irq.tiempoRestante / irq.duracion) * 100}%` }}\n                  />\n                </div>\n                <span className=\"w-8 text-right\">{irq.tiempoRestante}ms</span>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n    </Card>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS,gBAAgB,EAAE,KAAK,EAAE,SAAS,EAAO;IAC/D,IAAI,CAAC,OAAO,OAAO;IAEnB,qDAAqD;IACrD,MAAM,kBAAkB,MAAM,qBAAqB,CAAC,IAAI,CAAC,CAAC,IAAW,EAAE,QAAQ,IAAI,EAAE,MAAM,KAAK;IAEhG,MAAM,qBAAqB,CAAC,IAAY;QACtC,WAAW,2BAA2B,IAAI;IAC5C;IAEA,qBACE,6LAAC,oIAAI;QAAC,WAAU;;0BACd,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAoB;;;;;;kCAClC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;;oCAAI;oCAAY,MAAM,mBAAmB;;;;;;;0CAC1C,6LAAC;;oCAAI;oCAAU,MAAM,YAAY;;;;;;;;;;;;;;;;;;;YAKpC,iCACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,sOAAW;gCAAC,WAAU;;;;;;4BAAY;4BACL,gBAAgB,WAAW;4BAAC;;;;;;;kCAE5D,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,wIAAM;gCACL,MAAK;gCACL,SAAQ;gCACR,WAAU;gCACV,SAAS,IAAM,mBAAmB,gBAAgB,EAAE,EAAE;0CACvD;;;;;;0CAGD,6LAAC,wIAAM;gCACL,MAAK;gCACL,SAAQ;gCACR,WAAU;gCACV,SAAS,IAAM,mBAAmB,gBAAgB,EAAE,EAAE;0CACvD;;;;;;;;;;;;;;;;;;0BAQP,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCAAuC;;;;;;oBACrD,MAAM,WAAW,CAAC,GAAG,CAAC,CAAC,GAAW,kBACjC,6LAAC;sCAAa;2BAAJ;;;;;;;;;;;0BAKd,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAwB;;;;;;oBACrC,MAAM,qBAAqB,CAAC,MAAM,KAAK,kBACtC,6LAAC;wBAAI,WAAU;kCAAuC;;;;;+BAEtD,MAAM,qBAAqB,CAAC,GAAG,CAAC,CAAC,oBAC/B,6LAAC;4BAAiB,WAAU;;8CAC1B,6LAAC;;sDACC,6LAAC;4CAAK,WAAU;sDAA4B,IAAI,WAAW;;;;;;sDAC3D,6LAAC;4CAAK,WAAU;;gDAAwB;gDAAK,IAAI,WAAW;;;;;;;;;;;;;8CAE9D,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC;gDACC,WAAU;gDACV,OAAO;oDAAE,OAAO,GAAG,AAAC,IAAI,cAAc,GAAG,IAAI,QAAQ,GAAI,IAAI,CAAC,CAAC;gDAAC;;;;;;;;;;;sDAGpE,6LAAC;4CAAK,WAAU;;gDAAkB,IAAI,cAAc;gDAAC;;;;;;;;;;;;;;2BAZ/C,IAAI,EAAE;;;;;;;;;;;;;;;;;AAoB5B;KAnFwB"}},
    {"offset": {"line": 2067, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/marco/OneDrive/Escritorio/Prueba/components/panels/devices-panel.tsx"],"sourcesContent":["\"use client\"\n\nimport { Card } from \"@/components/ui/card\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\n\nexport default function DevicesPanel({ state }: any) {\n  if (!state) return null\n\n  const devices = [\"keyboard\", \"disk\", \"printer\", \"monitor\", \"network\"]\n\n  return (\n    <Card className=\"p-4 border border-border\">\n      <h2 className=\"text-lg font-bold mb-4\">Colas de Dispositivos (E/S)</h2>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-5 gap-3\">\n        {devices.map((device) => {\n          const queue = state.colasDispositivos[device] || []\n          const active = state.interrupcionesActivas.find((i: any) => i.dispositivo === device)\n\n          return (\n            <div key={device} className=\"flex flex-col h-48 bg-muted rounded border border-border overflow-hidden\">\n              <div className=\"p-2 bg-card border-b border-border flex justify-between items-center\">\n                <span className=\"font-semibold capitalize text-sm\">{device}</span>\n                <Badge variant={active ? \"default\" : \"secondary\"} className=\"text-[10px]\">\n                  {active ? \"BUSY\" : \"IDLE\"}\n                </Badge>\n              </div>\n\n              {/* Active Process */}\n              <div className=\"p-2 bg-blue-500/10 border-b border-border min-h-[50px] flex items-center justify-center\">\n                {active ? (\n                  <div className=\"text-center\">\n                    <div className=\"text-xs font-bold text-blue-600\">Procesando PID {active.pidAsociado}</div>\n                    <div className=\"text-[10px] text-muted-foreground\">Restante: {active.tiempoRestante}ms</div>\n                  </div>\n                ) : (\n                  <span className=\"text-[10px] text-muted-foreground\">Esperando solicitud...</span>\n                )}\n              </div>\n\n              {/* Queue */}\n              <ScrollArea className=\"flex-1 p-2\">\n                <div className=\"space-y-1\">\n                  {queue.length === 0 ? (\n                    <div className=\"text-[10px] text-center text-muted-foreground py-2\">Cola vacía</div>\n                  ) : (\n                    queue.map((proc: any, idx: number) => (\n                      <div key={proc.pid} className=\"text-[10px] p-1.5 bg-background rounded border border-border flex justify-between\">\n                        <span className=\"font-mono\">#{idx + 1}</span>\n                        <span className=\"font-bold\">PID {proc.pid}</span>\n                      </div>\n                    ))\n                  )}\n                </div>\n              </ScrollArea>\n            </div>\n          )\n        })}\n      </div>\n    </Card>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS,aAAa,EAAE,KAAK,EAAO;IACjD,IAAI,CAAC,OAAO,OAAO;IAEnB,MAAM,UAAU;QAAC;QAAY;QAAQ;QAAW;QAAW;KAAU;IAErE,qBACE,6LAAC,oIAAI;QAAC,WAAU;;0BACd,6LAAC;gBAAG,WAAU;0BAAyB;;;;;;0BAEvC,6LAAC;gBAAI,WAAU;0BACZ,QAAQ,GAAG,CAAC,CAAC;oBACZ,MAAM,QAAQ,MAAM,iBAAiB,CAAC,OAAO,IAAI,EAAE;oBACnD,MAAM,SAAS,MAAM,qBAAqB,CAAC,IAAI,CAAC,CAAC,IAAW,EAAE,WAAW,KAAK;oBAE9E,qBACE,6LAAC;wBAAiB,WAAU;;0CAC1B,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAK,WAAU;kDAAoC;;;;;;kDACpD,6LAAC,sIAAK;wCAAC,SAAS,SAAS,YAAY;wCAAa,WAAU;kDACzD,SAAS,SAAS;;;;;;;;;;;;0CAKvB,6LAAC;gCAAI,WAAU;0CACZ,uBACC,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;gDAAkC;gDAAgB,OAAO,WAAW;;;;;;;sDACnF,6LAAC;4CAAI,WAAU;;gDAAoC;gDAAW,OAAO,cAAc;gDAAC;;;;;;;;;;;;yDAGtF,6LAAC;oCAAK,WAAU;8CAAoC;;;;;;;;;;;0CAKxD,6LAAC,oJAAU;gCAAC,WAAU;0CACpB,cAAA,6LAAC;oCAAI,WAAU;8CACZ,MAAM,MAAM,KAAK,kBAChB,6LAAC;wCAAI,WAAU;kDAAqD;;;;;+CAEpE,MAAM,GAAG,CAAC,CAAC,MAAW,oBACpB,6LAAC;4CAAmB,WAAU;;8DAC5B,6LAAC;oDAAK,WAAU;;wDAAY;wDAAE,MAAM;;;;;;;8DACpC,6LAAC;oDAAK,WAAU;;wDAAY;wDAAK,KAAK,GAAG;;;;;;;;2CAFjC,KAAK,GAAG;;;;;;;;;;;;;;;;uBA3BlB;;;;;gBAqCd;;;;;;;;;;;;AAIR;KAxDwB"}},
    {"offset": {"line": 2261, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/marco/OneDrive/Escritorio/Prueba/components/panels/stats-panel.tsx"],"sourcesContent":["\"use client\"\nimport { Card } from \"@/components/ui/card\"\n\nexport default function StatsPanel({ state }: any) {\n  const totalMemory = 4096\n  const usedMemory = state.memoria.reduce(\n    (sum: number, block: any) => sum + (block.ocupado ? block.direccionFin - block.direccionInicio : 0),\n    0,\n  )\n  const memoryUsagePercent = (usedMemory / totalMemory) * 100\n  const freeBlocks = state.memoria.filter((b: any) => !b.ocupado).length\n\n  const cpuUsage = state.colaRunning\n    ? (state.procesos.filter((p: any) => p.estado === \"terminated\").length / state.procesos.length) * 100\n    : 0\n\n  return (\n    <Card className=\"p-4 border border-border\">\n      <h2 className=\"text-lg font-bold mb-4\">Estadísticas en Tiempo Real</h2>\n\n      <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3\">\n        <div className=\"p-3 bg-muted rounded text-center\">\n          <div className=\"text-2xl font-bold text-blue-400\">{state.procesos.length}</div>\n          <div className=\"text-xs text-muted-foreground\">Procesos Totales</div>\n        </div>\n\n        <div className=\"p-3 bg-muted rounded text-center\">\n          <div className=\"text-2xl font-bold text-green-400\">{state.colaReady.length}</div>\n          <div className=\"text-xs text-muted-foreground\">En Ready</div>\n        </div>\n\n        <div className=\"p-3 bg-muted rounded text-center\">\n          <div className=\"text-2xl font-bold text-yellow-400\">{state.colaTerminated.length}</div>\n          <div className=\"text-xs text-muted-foreground\">Terminados</div>\n        </div>\n\n        <div className=\"p-3 bg-muted rounded text-center\">\n          <div className=\"text-2xl font-bold text-red-400\">{state.cambiosContextoTotal}</div>\n          <div className=\"text-xs text-muted-foreground\">Cambios Contexto</div>\n        </div>\n\n        <div className=\"p-3 bg-muted rounded text-center\">\n          <div className=\"text-2xl font-bold text-purple-400\">{state.erroresTotal}</div>\n          <div className=\"text-xs text-muted-foreground\">Errores</div>\n        </div>\n\n        <div className=\"p-3 bg-muted rounded text-center\">\n          <div className=\"text-2xl font-bold text-cyan-400\">{state.interrupcionesTotal}</div>\n          <div className=\"text-xs text-muted-foreground\">Interrupciones</div>\n        </div>\n      </div>\n\n      {/* Métricas de memoria y CPU */}\n      <div className=\"mt-4 grid grid-cols-2 gap-3\">\n        <div className=\"p-3 bg-muted rounded\">\n          <div className=\"text-sm font-semibold mb-2\">Uso de Memoria</div>\n          <div className=\"text-xs mb-2\">\n            {memoryUsagePercent.toFixed(1)}% ({usedMemory}/{totalMemory}B)\n          </div>\n          <div className=\"w-full bg-background rounded h-2\">\n            <div className=\"bg-blue-500 h-full rounded transition-all\" style={{ width: `${memoryUsagePercent}%` }} />\n          </div>\n          <div className=\"text-xs text-muted-foreground mt-2\">Bloques Libres: {freeBlocks}</div>\n        </div>\n\n        <div className=\"p-3 bg-muted rounded\">\n          <div className=\"text-sm font-semibold mb-2\">Uso de CPU</div>\n          <div className=\"text-xs mb-2\">{cpuUsage.toFixed(1)}%</div>\n          <div className=\"w-full bg-background rounded h-2\">\n            <div className=\"bg-green-500 h-full rounded transition-all\" style={{ width: `${cpuUsage}%` }} />\n          </div>\n          <div className=\"text-xs text-muted-foreground mt-2\">\n            {state.colaRunning ? `Ejecutando: P${state.colaRunning.pid}` : \"CPU Ociosa\"}\n          </div>\n        </div>\n      </div>\n    </Card>\n  )\n}\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAGe,SAAS,WAAW,EAAE,KAAK,EAAO;IAC/C,MAAM,cAAc;IACpB,MAAM,aAAa,MAAM,OAAO,CAAC,MAAM,CACrC,CAAC,KAAa,QAAe,MAAM,CAAC,MAAM,OAAO,GAAG,MAAM,YAAY,GAAG,MAAM,eAAe,GAAG,CAAC,GAClG;IAEF,MAAM,qBAAqB,AAAC,aAAa,cAAe;IACxD,MAAM,aAAa,MAAM,OAAO,CAAC,MAAM,CAAC,CAAC,IAAW,CAAC,EAAE,OAAO,EAAE,MAAM;IAEtE,MAAM,WAAW,MAAM,WAAW,GAC9B,AAAC,MAAM,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAW,EAAE,MAAM,KAAK,cAAc,MAAM,GAAG,MAAM,QAAQ,CAAC,MAAM,GAAI,MAChG;IAEJ,qBACE,6LAAC,oIAAI;QAAC,WAAU;;0BACd,6LAAC;gBAAG,WAAU;0BAAyB;;;;;;0BAEvC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CAAoC,MAAM,QAAQ,CAAC,MAAM;;;;;;0CACxE,6LAAC;gCAAI,WAAU;0CAAgC;;;;;;;;;;;;kCAGjD,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CAAqC,MAAM,SAAS,CAAC,MAAM;;;;;;0CAC1E,6LAAC;gCAAI,WAAU;0CAAgC;;;;;;;;;;;;kCAGjD,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CAAsC,MAAM,cAAc,CAAC,MAAM;;;;;;0CAChF,6LAAC;gCAAI,WAAU;0CAAgC;;;;;;;;;;;;kCAGjD,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CAAmC,MAAM,oBAAoB;;;;;;0CAC5E,6LAAC;gCAAI,WAAU;0CAAgC;;;;;;;;;;;;kCAGjD,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CAAsC,MAAM,YAAY;;;;;;0CACvE,6LAAC;gCAAI,WAAU;0CAAgC;;;;;;;;;;;;kCAGjD,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CAAoC,MAAM,mBAAmB;;;;;;0CAC5E,6LAAC;gCAAI,WAAU;0CAAgC;;;;;;;;;;;;;;;;;;0BAKnD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CAA6B;;;;;;0CAC5C,6LAAC;gCAAI,WAAU;;oCACZ,mBAAmB,OAAO,CAAC;oCAAG;oCAAI;oCAAW;oCAAE;oCAAY;;;;;;;0CAE9D,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAI,WAAU;oCAA4C,OAAO;wCAAE,OAAO,GAAG,mBAAmB,CAAC,CAAC;oCAAC;;;;;;;;;;;0CAEtG,6LAAC;gCAAI,WAAU;;oCAAqC;oCAAiB;;;;;;;;;;;;;kCAGvE,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CAA6B;;;;;;0CAC5C,6LAAC;gCAAI,WAAU;;oCAAgB,SAAS,OAAO,CAAC;oCAAG;;;;;;;0CACnD,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAI,WAAU;oCAA6C,OAAO;wCAAE,OAAO,GAAG,SAAS,CAAC,CAAC;oCAAC;;;;;;;;;;;0CAE7F,6LAAC;gCAAI,WAAU;0CACZ,MAAM,WAAW,GAAG,CAAC,aAAa,EAAE,MAAM,WAAW,CAAC,GAAG,EAAE,GAAG;;;;;;;;;;;;;;;;;;;;;;;;AAM3E;KA3EwB"}},
    {"offset": {"line": 2585, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/marco/OneDrive/Escritorio/Prueba/components/ui/dialog.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\nimport { XIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn('text-lg leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,6LAAC,6KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,6LAAC,gLAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS;AAMT,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,6LAAC,+KAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,6LAAC,gLAAuB;QACtB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,6LAAC;QAAa,aAAU;;0BACtB,6LAAC;;;;;0BACD,6LAAC,gLAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,qHAAE,EACX,+WACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,6LAAC,8KAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,6LAAC,4MAAK;;;;;0CACN,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;MAhCS;AAkCT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,6LAAC,oLAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 2791, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/marco/OneDrive/Escritorio/Prueba/components/os-simulator.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useRef } from \"react\"\nimport { OSSimulator, DeviceType } from \"@/lib/os-simulator\"\nimport ProcessPanel from \"./panels/process-panel\"\nimport MemoryPanel from \"./panels/memory-panel\"\nimport SchedulerPanel from \"./panels/scheduler-panel\"\nimport InterruptsPanel from \"./panels/interrupts-panel\"\nimport DevicesPanel from \"./panels/devices-panel\"\nimport StatsPanel from \"./panels/stats-panel\"\nimport { Button } from \"@/components/ui/button\"\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from \"@/components/ui/dialog\"\n\nexport default function OSSimulatorComponent() {\n  const simulatorRef = useRef<OSSimulator | null>(null)\n  const [state, setState] = useState<any>(null)\n  const [running, setRunning] = useState(false)\n  const [speed, setSpeed] = useState(100)\n  const [keyboardModalOpen, setKeyboardModalOpen] = useState(false)\n  const [pendingKeyboardIrq, setPendingKeyboardIrq] = useState<number | null>(null)\n  \n  const intervalRef = useRef<NodeJS.Timeout | null>(null)\n\n  useEffect(() => {\n    simulatorRef.current = new OSSimulator()\n    simulatorRef.current.generarProcesosIniciales(5)\n    setState(simulatorRef.current.getState())\n  }, [])\n\n  useEffect(() => {\n    if (running && simulatorRef.current) {\n      intervalRef.current = setInterval(\n        () => {\n          if (!simulatorRef.current) return\n          \n          simulatorRef.current.ejecutarTick()\n          const newState = { ...simulatorRef.current.getState() }\n          setState(newState)\n          \n          // Check for manual keyboard interrupts\n          const manualIrq = newState.interrupcionesActivas.find((i: any) => i.esManual && i.estado === \"active\")\n          if (manualIrq && !keyboardModalOpen) {\n            setPendingKeyboardIrq(manualIrq.id)\n            setKeyboardModalOpen(true)\n            setRunning(false) // Pause for user input\n          }\n        },\n        Math.max(10, 200 - speed),\n      )\n    } else if (intervalRef.current) {\n      clearInterval(intervalRef.current)\n    }\n\n    return () => {\n      if (intervalRef.current) clearInterval(intervalRef.current)\n    }\n  }, [running, speed, keyboardModalOpen])\n\n  const handleKeyboardAction = (action: \"continuar\" | \"cancelar\") => {\n    if (simulatorRef.current && pendingKeyboardIrq) {\n      simulatorRef.current.resolverInterrupcionManual(pendingKeyboardIrq, action)\n      setState({ ...simulatorRef.current.getState() })\n      setKeyboardModalOpen(false)\n      setPendingKeyboardIrq(null)\n      setRunning(true) // Resume\n    }\n  }\n\n  const crearProceso = (tamanio: number) => {\n    if (simulatorRef.current) {\n      simulatorRef.current.crearProceso(tamanio)\n      setState({ ...simulatorRef.current.getState() })\n    }\n  }\n\n  const generarInterrupcionTeclado = () => {\n      // Find a running process to interrupt? \n      // Or just trigger a random keyboard interrupt for a random process?\n      // The requirement says \"Teclado: Cancelar o Continuar\".\n      // We can inject it into the current running process or a random one.\n      if (simulatorRef.current && state.colaRunning) {\n          simulatorRef.current.iniciarIO(state.colaRunning, \"keyboard\", true)\n          setState({ ...simulatorRef.current.getState() })\n      }\n  }\n\n  if (!state) return <div className=\"p-4\">Inicializando...</div>\n\n  return (\n    <div className=\"w-full h-full bg-background text-foreground overflow-auto\">\n      {/* Header */}\n      <div className=\"sticky top-0 z-50 bg-card border-b border-border p-4 space-y-3 shadow-sm\">\n        <div className=\"flex items-center justify-between gap-4\">\n          <h1 className=\"text-2xl font-bold\">Simulador SO (Strict Mode)</h1>\n          <div className=\"flex items-center gap-2\">\n            <Button onClick={() => setRunning(!running)} variant={running ? \"destructive\" : \"default\"}>\n              {running ? \"Pausar\" : \"Ejecutar\"}\n            </Button>\n            <Button onClick={generarInterrupcionTeclado} variant=\"secondary\">\n               Simular Teclado\n            </Button>\n            <Button\n              onClick={() => {\n                simulatorRef.current = new OSSimulator()\n                simulatorRef.current.generarProcesosIniciales(5)\n                setState(simulatorRef.current.getState())\n                setRunning(false)\n              }}\n              variant=\"outline\"\n            >\n              Reiniciar\n            </Button>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          <label className=\"text-sm font-medium\">Velocidad:</label>\n          <input\n            type=\"range\"\n            min=\"0\"\n            max=\"190\"\n            value={speed}\n            onChange={(e) => setSpeed(Number(e.target.value))}\n            className=\"w-48\"\n          />\n        </div>\n      </div>\n\n      {/* Main Grid */}\n      <div className=\"p-4 space-y-4\">\n        {/* Row 1: Scheduler & Processes */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4\">\n          <div className=\"lg:col-span-1\">\n            <SchedulerPanel\n              state={state}\n              simulator={simulatorRef.current}\n              onStateChange={() => setState({ ...simulatorRef.current!.getState() })}\n            />\n          </div>\n          <div className=\"lg:col-span-2\">\n            <ProcessPanel state={state} onCreate={crearProceso} />\n          </div>\n        </div>\n\n        {/* Row 2: Memory & Interrupts */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n          <MemoryPanel state={state} />\n          <InterruptsPanel state={state} simulator={simulatorRef.current} />\n        </div>\n\n        {/* Row 3: Devices */}\n        <div>\n          <DevicesPanel state={state} />\n        </div>\n\n        {/* Row 4: Stats */}\n        <div>\n          <StatsPanel state={state} />\n        </div>\n      </div>\n\n      {/* Keyboard Modal */}\n      <Dialog open={keyboardModalOpen} onOpenChange={() => {}}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Interrupción de Teclado</DialogTitle>\n          </DialogHeader>\n          <div className=\"py-4\">\n            Un proceso ha solicitado entrada de teclado. ¿Desea continuar o cancelar la operación?\n          </div>\n          <DialogFooter>\n            <Button variant=\"destructive\" onClick={() => handleKeyboardAction(\"cancelar\")}>\n              Cancelar\n            </Button>\n            <Button onClick={() => handleKeyboardAction(\"continuar\")}>\n              Continuar\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}