{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/lib/process-manager.ts"],"sourcesContent":["import { Process } from \"./types\";\r\nimport { MemoryManager } from \"./memory-manager\";\r\nimport { Scheduler } from \"./scheduler\";\r\n\r\nexport class ProcessManager {\r\n  private procesos: Process[];\r\n  private colaNew: Process[];\r\n  private colaTerminated: Process[];\r\n  private ultimoPID: number = 0;\r\n  private readonly MIN_BLOCK_SIZE = 32 * 1024;\r\n\r\n  constructor() {\r\n    this.procesos = [];\r\n    this.colaNew = [];\r\n    this.colaTerminated = [];\r\n  }\r\n\r\n  public getAll() { return this.procesos; }\r\n  public getNew() { return this.colaNew; }\r\n  public getTerminated() { return this.colaTerminated; }\r\n  public getLastPID() { return this.ultimoPID; }\r\n\r\n  public crearProceso(\r\n    tiempoSimulacion: number,\r\n    tamanioSolicitado?: number,\r\n    burstTimeSolicitado?: number,\r\n    prioridadSolicitada?: number,\r\n    maxInterrupcionesSolicitadas?: number,\r\n    porcentajeDatosSolicitado?: number,\r\n    porcentajeVariableSolicitado?: number\r\n  ): Process {\r\n    const pid = ++this.ultimoPID;\r\n\r\n    let tamanio = tamanioSolicitado || 0;\r\n    if (!tamanio) {\r\n      const minExp = 15; // 32KB\r\n      const maxExp = 19; // 512KB\r\n      const exp = Math.floor(Math.random() * (maxExp - minExp + 1)) + minExp;\r\n      tamanio = Math.pow(2, exp);\r\n    } else {\r\n      tamanio = Math.pow(2, Math.ceil(Math.log2(tamanio)));\r\n      if (tamanio < this.MIN_BLOCK_SIZE) tamanio = this.MIN_BLOCK_SIZE;\r\n    }\r\n\r\n    const burstTime = burstTimeSolicitado ?? (Math.floor(Math.random() * 15) + 5);\r\n    const prioridad = prioridadSolicitada ?? (Math.floor(Math.random() * 4));\r\n    const pctDatos = porcentajeDatosSolicitado ?? (Math.floor(Math.random() * 30) + 10);\r\n    const pctVariable = porcentajeVariableSolicitado ?? (Math.floor(Math.random() * 20) + 5);\r\n\r\n    const proceso: Process = {\r\n      pid,\r\n      estado: \"new\",\r\n      programCounter: 0,\r\n      burstTime,\r\n      tiempoRestante: burstTime,\r\n      tiempoLlegada: tiempoSimulacion,\r\n      tiempoEspera: 0,\r\n      tiempoRespuesta: -1,\r\n      tiempoTurnaround: 0,\r\n      prioridad,\r\n      tamanio,\r\n      dirBase: -1,\r\n      porcentajeDatos: pctDatos,\r\n      porcentajeVariable: pctVariable,\r\n      stackPointer: 0,\r\n      heapPointer: 0,\r\n      interrupciones: 0,\r\n      maxInterrupciones: maxInterrupcionesSolicitadas ?? (Math.floor(Math.random() * 16) + 5), // 5 to 20\r\n      errores: 0,\r\n      cambiosContexto: 0,\r\n      porcentajeProcesado: 0,\r\n      ioType: null,\r\n      ioTimeRemaining: 0,\r\n      // Metrics fields\r\n      tiempoInicio: -1,\r\n      tiempoFinal: -1,\r\n      tiempoEsperaEnReady: 0,\r\n    };\r\n\r\n    this.procesos.push(proceso);\r\n    this.colaNew.push(proceso);\r\n    return proceso;\r\n  }\r\n\r\n  public admitirProcesos(memoria: MemoryManager, scheduler: Scheduler) {\r\n    const porAdmitir = [...this.colaNew];\r\n    for (const proceso of porAdmitir) {\r\n      if (memoria.asignarMemoria(proceso)) {\r\n        proceso.estado = \"ready\";\r\n        const dataSize = Math.floor(proceso.tamanio * (proceso.porcentajeDatos / 100));\r\n        proceso.heapPointer = proceso.dirBase + dataSize;\r\n        proceso.stackPointer = proceso.dirBase + proceso.tamanio - 1;\r\n\r\n        scheduler.add(proceso);\r\n        this.colaNew = this.colaNew.filter((p) => p.pid !== proceso.pid);\r\n      }\r\n    }\r\n  }\r\n\r\n  public terminarProceso(proceso: Process, tiempoSimulacion: number, memoria: MemoryManager) {\r\n    proceso.tiempoFinal = tiempoSimulacion;\r\n    proceso.tiempoTurnaround = tiempoSimulacion - proceso.tiempoLlegada;\r\n    proceso.estado = \"terminated\";\r\n    this.colaTerminated.push(proceso);\r\n    memoria.liberarMemoria(proceso.pid);\r\n  }\r\n\r\n  public getProcess(pid: number): Process | undefined {\r\n    return this.procesos.find(p => p.pid === pid);\r\n  }\r\n\r\n  public editarProceso(\r\n    pid: number,\r\n    updates: {\r\n      tamanio?: number;\r\n      burstTime?: number;\r\n      prioridad?: number;\r\n      porcentajeDatos?: number;\r\n      porcentajeVariable?: number;\r\n      maxInterrupciones?: number;\r\n    },\r\n    memoria: MemoryManager\r\n  ): boolean {\r\n    const proceso = this.getProcess(pid);\r\n    if (!proceso) return false;\r\n\r\n    // Si se cambia el tamaño, necesitamos reasignar memoria\r\n    if (updates.tamanio !== undefined && updates.tamanio !== proceso.tamanio) {\r\n      const nuevoTamanio = Math.pow(2, Math.ceil(Math.log2(updates.tamanio)));\r\n      if (nuevoTamanio < this.MIN_BLOCK_SIZE) return false;\r\n\r\n      // Liberar memoria actual\r\n      if (proceso.dirBase !== -1) {\r\n        memoria.liberarMemoria(proceso.pid);\r\n      }\r\n      proceso.dirBase = -1;\r\n      proceso.estado = \"new\";\r\n\r\n      // Actualizar tamaño\r\n      proceso.tamanio = nuevoTamanio;\r\n\r\n      // Intentar reasignar memoria\r\n      if (!memoria.asignarMemoria(proceso)) {\r\n        return false; // No hay memoria disponible\r\n      }\r\n\r\n      // Recalcular punteros\r\n      const dataSize = Math.floor(proceso.tamanio * (proceso.porcentajeDatos / 100));\r\n      proceso.heapPointer = proceso.dirBase + dataSize;\r\n      proceso.stackPointer = proceso.dirBase + proceso.tamanio - 1;\r\n    }\r\n\r\n    // Actualizar otros campos\r\n    if (updates.burstTime !== undefined) {\r\n      proceso.burstTime = updates.burstTime;\r\n      // Ajustar tiempo restante proporcionalmente si el proceso está corriendo\r\n      if (proceso.estado === \"running\" || proceso.tiempoRestante > 0) {\r\n        const ratio = proceso.tiempoRestante / (proceso.burstTime || 1);\r\n        proceso.tiempoRestante = Math.max(0, Math.floor(updates.burstTime * ratio));\r\n      } else {\r\n        proceso.tiempoRestante = updates.burstTime;\r\n      }\r\n      proceso.porcentajeProcesado = proceso.burstTime > 0\r\n        ? ((proceso.burstTime - proceso.tiempoRestante) / proceso.burstTime) * 100\r\n        : 0;\r\n    }\r\n\r\n    if (updates.prioridad !== undefined) {\r\n      proceso.prioridad = Math.max(0, Math.min(3, updates.prioridad));\r\n    }\r\n\r\n    if (updates.porcentajeDatos !== undefined) {\r\n      proceso.porcentajeDatos = Math.min(100, Math.max(0, updates.porcentajeDatos));\r\n      if (proceso.dirBase !== -1) {\r\n        const dataSize = Math.floor(proceso.tamanio * (proceso.porcentajeDatos / 100));\r\n        proceso.heapPointer = proceso.dirBase + dataSize;\r\n      }\r\n    }\r\n\r\n    if (updates.porcentajeVariable !== undefined) {\r\n      proceso.porcentajeVariable = Math.min(100, Math.max(0, updates.porcentajeVariable));\r\n    }\r\n\r\n    if (updates.maxInterrupciones !== undefined) {\r\n      proceso.maxInterrupciones = Math.max(1, Math.min(20, updates.maxInterrupciones));\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  public eliminarProceso(\r\n    pid: number,\r\n    memoria: MemoryManager,\r\n    scheduler: Scheduler,\r\n    dispatcher: any,\r\n    ioManager: any\r\n  ): boolean {\r\n    const proceso = this.getProcess(pid);\r\n    if (!proceso) return false;\r\n\r\n    // Si está corriendo, expropiarlo\r\n    if (proceso.estado === \"running\" && dispatcher) {\r\n      const running = dispatcher.getRunning();\r\n      if (running && running.pid === pid) {\r\n        dispatcher.preempt();\r\n      }\r\n    }\r\n\r\n    // Remover de todas las colas\r\n    this.colaNew = this.colaNew.filter(p => p.pid !== pid);\r\n\r\n    // Remover de cola ready (scheduler)\r\n    const readyQueue = scheduler.getQueue();\r\n    const readyIndex = readyQueue.findIndex(p => p.pid === pid);\r\n    if (readyIndex !== -1) {\r\n      readyQueue.splice(readyIndex, 1);\r\n    }\r\n\r\n    // Remover de colas de I/O\r\n    if (ioManager && typeof ioManager.removerInterrupcionesProceso === 'function') {\r\n      ioManager.removerInterrupcionesProceso(pid);\r\n    }\r\n\r\n    // Liberar memoria\r\n    if (proceso.dirBase !== -1) {\r\n      memoria.liberarMemoria(pid);\r\n    }\r\n\r\n    // Remover del array de procesos\r\n    this.procesos = this.procesos.filter(p => p.pid !== pid);\r\n    this.colaTerminated = this.colaTerminated.filter(p => p.pid !== pid);\r\n\r\n    return true;\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 198, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/lib/memory-manager.ts"],"sourcesContent":["import { MemoryBlock, Process, FragmentationInfo } from \"./types\";\r\n\r\nexport class MemoryManager {\r\n  private memoria: MemoryBlock[];\r\n  private strategyFit: \"FirstFit\" | \"BestFit\" | \"WorstFit\" = \"FirstFit\";\r\n  private readonly MEMORY_SIZE = 2 * 1024 * 1024; // 2MB\r\n  private rechazosFragmentacion: number = 0;  // Contador de rechazos por fragmentación\r\n\r\n  constructor() {\r\n    this.memoria = [\r\n      {\r\n        direccionInicio: 0,\r\n        direccionFin: this.MEMORY_SIZE,\r\n        tamanio: this.MEMORY_SIZE,\r\n        pid: null,\r\n        ocupado: false,\r\n        esBuddy: false,\r\n      },\r\n    ];\r\n  }\r\n\r\n  public getMemoryState(): MemoryBlock[] {\r\n    return this.memoria;\r\n  }\r\n\r\n  public getStrategy(): \"FirstFit\" | \"BestFit\" | \"WorstFit\" {\r\n    return this.strategyFit;\r\n  }\r\n\r\n  public setStrategy(strategy: \"FirstFit\" | \"BestFit\" | \"WorstFit\") {\r\n    this.strategyFit = strategy;\r\n  }\r\n\r\n  public getRechazosFragmentacion(): number {\r\n    return this.rechazosFragmentacion;\r\n  }\r\n\r\n  public resetRechazos() {\r\n    this.rechazosFragmentacion = 0;\r\n  }\r\n\r\n  public asignarMemoria(proceso: Process): boolean {\r\n    const sizeNeeded = proceso.tamanio;\r\n    const bloques = this.memoria;\r\n\r\n    // Find candidate blocks\r\n    let candidates: { index: number; block: MemoryBlock }[] = [];\r\n\r\n    bloques.forEach((b, i) => {\r\n      if (!b.ocupado && b.tamanio >= sizeNeeded) {\r\n        candidates.push({ index: i, block: b });\r\n      }\r\n    });\r\n\r\n    if (candidates.length === 0) {\r\n      // Verificar si hay memoria libre total suficiente pero fragmentada\r\n      const memoriaLibreTotal = bloques\r\n        .filter(b => !b.ocupado)\r\n        .reduce((sum, b) => sum + b.tamanio, 0);\r\n\r\n      if (memoriaLibreTotal >= sizeNeeded) {\r\n        this.rechazosFragmentacion++;  // Rechazo por fragmentación\r\n      }\r\n      return false;\r\n    }\r\n\r\n    let selectedIdx = -1;\r\n\r\n    if (this.strategyFit === \"FirstFit\") {\r\n      selectedIdx = candidates[0].index;\r\n    } else if (this.strategyFit === \"BestFit\") {\r\n      candidates.sort((a, b) => a.block.tamanio - b.block.tamanio);\r\n      selectedIdx = candidates[0].index;\r\n    } else if (this.strategyFit === \"WorstFit\") {\r\n      candidates.sort((a, b) => b.block.tamanio - a.block.tamanio);\r\n      selectedIdx = candidates[0].index;\r\n    }\r\n\r\n    if (selectedIdx === -1) return false;\r\n\r\n    // Split logic\r\n    let currentIdx = selectedIdx;\r\n    while (this.memoria[currentIdx].tamanio > sizeNeeded) {\r\n      this.dividirBloque(currentIdx);\r\n      // After split, we continue with the first block (usually lower address)\r\n    }\r\n\r\n    const bloqueFinal = this.memoria[currentIdx];\r\n    bloqueFinal.ocupado = true;\r\n    bloqueFinal.pid = proceso.pid;\r\n    proceso.dirBase = bloqueFinal.direccionInicio;\r\n\r\n    return true;\r\n  }\r\n\r\n  private dividirBloque(index: number) {\r\n    const bloque = this.memoria[index];\r\n    const nuevoTam = bloque.tamanio / 2;\r\n\r\n    const buddy1: MemoryBlock = {\r\n      ...bloque,\r\n      tamanio: nuevoTam,\r\n      direccionFin: bloque.direccionInicio + nuevoTam,\r\n    };\r\n\r\n    const buddy2: MemoryBlock = {\r\n      direccionInicio: bloque.direccionInicio + nuevoTam,\r\n      direccionFin: bloque.direccionFin,\r\n      tamanio: nuevoTam,\r\n      pid: null,\r\n      ocupado: false,\r\n      esBuddy: true,\r\n    };\r\n\r\n    this.memoria.splice(index, 1, buddy1, buddy2);\r\n  }\r\n\r\n  public liberarMemoria(pid: number) {\r\n    const index = this.memoria.findIndex((b) => b.pid === pid);\r\n    if (index === -1) return;\r\n\r\n    this.memoria[index].pid = null;\r\n    this.memoria[index].ocupado = false;\r\n\r\n    this.combinarBloques();\r\n  }\r\n\r\n  private combinarBloques() {\r\n    let merged = true;\r\n    while (merged) {\r\n      merged = false;\r\n      for (let i = 0; i < this.memoria.length - 1; i++) {\r\n        const b1 = this.memoria[i];\r\n        const b2 = this.memoria[i + 1];\r\n\r\n        if (!b1.ocupado && !b2.ocupado && b1.tamanio === b2.tamanio) {\r\n          const combinedSize = b1.tamanio * 2;\r\n          // Check alignment for buddy system\r\n          if (b1.direccionInicio % combinedSize === 0) {\r\n            const nuevoBloque: MemoryBlock = {\r\n              direccionInicio: b1.direccionInicio,\r\n              direccionFin: b2.direccionFin,\r\n              tamanio: combinedSize,\r\n              pid: null,\r\n              ocupado: false,\r\n              esBuddy: false,\r\n            };\r\n            this.memoria.splice(i, 2, nuevoBloque);\r\n            merged = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public getFragmentation(procesos: Process[]): FragmentationInfo {\r\n    let internal = 0;\r\n    let external = 0;\r\n    let externalHoles = 0;\r\n    let largestHole = 0;\r\n\r\n    this.memoria.forEach((b) => {\r\n      if (!b.ocupado) {\r\n        external += b.tamanio;\r\n        externalHoles++;\r\n        if (b.tamanio > largestHole) {\r\n          largestHole = b.tamanio;\r\n        }\r\n      } else if (b.pid !== null) {\r\n        const p = procesos.find((proc) => proc.pid === b.pid);\r\n        if (p) {\r\n          internal += (b.tamanio - p.tamanio);\r\n        }\r\n      }\r\n    });\r\n\r\n    return {\r\n      internal,\r\n      external,\r\n      externalHoles,\r\n      largestHole,\r\n      rechazosFragmentacion: this.rechazosFragmentacion\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Compactar memoria: mueve todos los bloques ocupados al inicio\r\n   * y combina todos los espacios libres en un solo bloque contiguo\r\n   */\r\n  public compactarMemoria(): { success: boolean; message: string } {\r\n    // Separar bloques ocupados y libres\r\n    const ocupados = this.memoria.filter(b => b.ocupado);\r\n\r\n    if (ocupados.length === 0) {\r\n      return { success: true, message: \"No hay bloques ocupados para compactar\" };\r\n    }\r\n\r\n    // Ordenar bloques ocupados por dirección para mantener orden\r\n    ocupados.sort((a, b) => a.direccionInicio - b.direccionInicio);\r\n\r\n    // Reconstruir memoria con bloques compactados\r\n    const nuevaMemoria: MemoryBlock[] = [];\r\n    let offset = 0;\r\n\r\n    // Colocar bloques ocupados al inicio\r\n    ocupados.forEach(bloque => {\r\n      const nuevoBloque: MemoryBlock = {\r\n        ...bloque,\r\n        direccionInicio: offset,\r\n        direccionFin: offset + bloque.tamanio,\r\n      };\r\n      nuevaMemoria.push(nuevoBloque);\r\n\r\n      // Actualizar dirBase del proceso\r\n      // (será manejado por el proceso después)\r\n      offset += bloque.tamanio;\r\n    });\r\n\r\n    // Crear un solo bloque libre con el espacio restante\r\n    if (offset < this.MEMORY_SIZE) {\r\n      nuevaMemoria.push({\r\n        direccionInicio: offset,\r\n        direccionFin: this.MEMORY_SIZE,\r\n        tamanio: this.MEMORY_SIZE - offset,\r\n        pid: null,\r\n        ocupado: false,\r\n        esBuddy: false,\r\n      });\r\n    }\r\n\r\n    this.memoria = nuevaMemoria;\r\n\r\n    return {\r\n      success: true,\r\n      message: `Memoria compactada: ${ocupados.length} bloques reorganizados`\r\n    };\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 411, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/lib/io-manager.ts"],"sourcesContent":["import { DeviceType, Interrupt, Process } from \"./types\";\r\n\r\nexport class IOManager {\r\n  private colasDispositivos: Record<DeviceType, Process[]>;\r\n  private interrupcionesActivas: Interrupt[];\r\n  private interrupcionesTotal: number = 0;\r\n\r\n  constructor() {\r\n    this.colasDispositivos = {\r\n      keyboard: [],\r\n      disk: [],\r\n      printer: [],\r\n      monitor: [],\r\n      network: [],\r\n    };\r\n    this.interrupcionesActivas = [];\r\n  }\r\n\r\n  public getDeviceQueues() {\r\n    return this.colasDispositivos;\r\n  }\r\n\r\n  public getActiveInterrupts() {\r\n    return this.interrupcionesActivas;\r\n  }\r\n\r\n  public getTotalInterrupts() {\r\n    return this.interrupcionesTotal;\r\n  }\r\n\r\n  public solicitarIO(proceso: Process, device: DeviceType) {\r\n    this.colasDispositivos[device].push(proceso);\r\n    proceso.ioType = device;\r\n\r\n    // If device is idle, start processing\r\n    const activeForDevice = this.interrupcionesActivas.find(\r\n      (i) => i.dispositivo === device\r\n    );\r\n    if (!activeForDevice) {\r\n      this.procesarSiguienteIO(device);\r\n    }\r\n  }\r\n\r\n  private procesarSiguienteIO(device: DeviceType) {\r\n    const queue = this.colasDispositivos[device];\r\n    if (queue.length === 0) return;\r\n\r\n    const proceso = queue[0]; // Peek\r\n    \r\n    // Requirement: Duration 5-20 depending on burst-time\r\n    // We can scale it: larger burst = longer I/O? Or inverse?\r\n    // Let's assume proportional.\r\n    const factor = Math.min(proceso.burstTime / 20, 1); // Normalize roughly\r\n    const duracion = Math.floor(Math.random() * 10) + 5 + Math.floor(factor * 5); // Base 5-15 + up to 5 based on burst\r\n\r\n    const interrupt: Interrupt = {\r\n      id: Math.random(),\r\n      dispositivo: device,\r\n      duracion,\r\n      tiempoRestante: duracion,\r\n      pidAsociado: proceso.pid,\r\n      esManual: device === \"keyboard\",\r\n      estado: \"active\",\r\n    };\r\n\r\n    this.interrupcionesActivas.push(interrupt);\r\n    this.interrupcionesTotal++;\r\n    proceso.interrupciones++;\r\n  }\r\n\r\n  public verificarInterrupciones(): Process[] {\r\n    const completedProcesses: Process[] = [];\r\n\r\n    for (let i = this.interrupcionesActivas.length - 1; i >= 0; i--) {\r\n      const irq = this.interrupcionesActivas[i];\r\n\r\n      if (irq.esManual && irq.estado === \"waiting\") continue;\r\n\r\n      irq.tiempoRestante--;\r\n\r\n      if (irq.tiempoRestante <= 0) {\r\n        const p = this.finalizarIO(irq);\r\n        if (p) completedProcesses.push(p);\r\n      }\r\n    }\r\n    return completedProcesses;\r\n  }\r\n\r\n  private finalizarIO(irq: Interrupt): Process | null {\r\n    this.interrupcionesActivas = this.interrupcionesActivas.filter(\r\n      (i) => i.id !== irq.id\r\n    );\r\n\r\n    const queue = this.colasDispositivos[irq.dispositivo];\r\n    const procIdx = queue.findIndex((p) => p.pid === irq.pidAsociado);\r\n\r\n    let proceso: Process | null = null;\r\n\r\n    if (procIdx !== -1) {\r\n      proceso = queue.splice(procIdx, 1)[0];\r\n      proceso.ioType = null;\r\n    }\r\n\r\n    this.procesarSiguienteIO(irq.dispositivo);\r\n    return proceso;\r\n  }\r\n\r\n  public resolverInterrupcionManual(id: number, accion: \"continuar\" | \"cancelar\"): Process | null {\r\n    const irq = this.interrupcionesActivas.find((i) => i.id === id);\r\n    if (!irq) return null;\r\n\r\n    if (accion === \"continuar\") {\r\n      irq.estado = \"active\";\r\n      irq.esManual = false;\r\n      return null;\r\n    } else {\r\n      // Cancel: Finish immediately\r\n      return this.finalizarIO(irq);\r\n    }\r\n  }\r\n\r\n  public removerInterrupcionesProceso(pid: number) {\r\n    // Remover de colas de dispositivos\r\n    Object.keys(this.colasDispositivos).forEach((device: any) => {\r\n      const queue = this.colasDispositivos[device as DeviceType];\r\n      const index = queue.findIndex((p: Process) => p.pid === pid);\r\n      if (index !== -1) {\r\n        queue.splice(index, 1);\r\n      }\r\n    });\r\n\r\n    // Remover interrupciones activas\r\n    this.interrupcionesActivas = this.interrupcionesActivas.filter(irq => irq.pidAsociado !== pid);\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 526, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/lib/scheduler.ts"],"sourcesContent":["import { Process } from \"./types\";\r\n\r\nexport class Scheduler {\r\n  private colaReady: Process[];\r\n  private algorithm: \"FCFS\" | \"SJF\" | \"RoundRobin\" | \"Prioridades\" = \"FCFS\";\r\n  private apropiativo: boolean = false;\r\n  private quantum: number = 5;\r\n\r\n  constructor() {\r\n    this.colaReady = [];\r\n  }\r\n\r\n  public getQueue() {\r\n    return this.colaReady;\r\n  }\r\n\r\n  public getAlgorithm() { return this.algorithm; }\r\n  public isApropiativo() { return this.apropiativo; }\r\n  public getQuantum() { return this.quantum; }\r\n\r\n  public setAlgorithm(algo: \"FCFS\" | \"SJF\" | \"RoundRobin\" | \"Prioridades\") {\r\n    this.algorithm = algo;\r\n  }\r\n\r\n  public setApropiativo(apropiativo: boolean) {\r\n    this.apropiativo = apropiativo;\r\n  }\r\n\r\n  public setQuantum(quantum: number) {\r\n    this.quantum = quantum;\r\n  }\r\n\r\n  public add(proceso: Process) {\r\n    proceso.estado = \"ready\";\r\n    this.colaReady.push(proceso);\r\n  }\r\n\r\n  public getNext(): Process | undefined {\r\n    if (this.colaReady.length === 0) return undefined;\r\n\r\n    let selectedIdx = 0;\r\n\r\n    switch (this.algorithm) {\r\n      case \"FCFS\":\r\n      case \"RoundRobin\":\r\n        selectedIdx = 0;\r\n        break;\r\n      case \"SJF\":\r\n        selectedIdx = this.findBestIndex((p) => p.burstTime);\r\n        break;\r\n      case \"Prioridades\":\r\n        selectedIdx = this.findBestIndex((p) => p.prioridad);\r\n        break;\r\n    }\r\n\r\n    const selected = this.colaReady[selectedIdx];\r\n    this.colaReady.splice(selectedIdx, 1);\r\n    return selected;\r\n  }\r\n\r\n  private findBestIndex(metric: (p: Process) => number): number {\r\n    let bestIdx = 0;\r\n    let bestVal = metric(this.colaReady[0]);\r\n\r\n    for (let i = 1; i < this.colaReady.length; i++) {\r\n      const val = metric(this.colaReady[i]);\r\n      if (val < bestVal) {\r\n        bestVal = val;\r\n        bestIdx = i;\r\n      }\r\n    }\r\n    return bestIdx;\r\n  }\r\n\r\n  public debeExpropiar(running: Process): boolean {\r\n    if (!this.apropiativo) return false;\r\n    if (this.colaReady.length === 0) return false;\r\n\r\n    if (this.algorithm === \"SJF\") {\r\n      return this.colaReady.some((p) => p.burstTime < running.tiempoRestante);\r\n    }\r\n    if (this.algorithm === \"Prioridades\") {\r\n      return this.colaReady.some((p) => p.prioridad < running.prioridad);\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public checkQuantum(running: Process): boolean {\r\n    if (this.algorithm !== \"RoundRobin\") return false;\r\n    return (running.burstTime - running.tiempoRestante) % this.quantum === 0;\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAEO,MAAM;IACH,UAAqB;IACrB,YAA2D,OAAO;IAClE,cAAuB,MAAM;IAC7B,UAAkB,EAAE;IAE5B,aAAc;QACZ,IAAI,CAAC,SAAS,GAAG,EAAE;IACrB;IAEO,WAAW;QAChB,OAAO,IAAI,CAAC,SAAS;IACvB;IAEO,eAAe;QAAE,OAAO,IAAI,CAAC,SAAS;IAAE;IACxC,gBAAgB;QAAE,OAAO,IAAI,CAAC,WAAW;IAAE;IAC3C,aAAa;QAAE,OAAO,IAAI,CAAC,OAAO;IAAE;IAEpC,aAAa,IAAmD,EAAE;QACvE,IAAI,CAAC,SAAS,GAAG;IACnB;IAEO,eAAe,WAAoB,EAAE;QAC1C,IAAI,CAAC,WAAW,GAAG;IACrB;IAEO,WAAW,OAAe,EAAE;QACjC,IAAI,CAAC,OAAO,GAAG;IACjB;IAEO,IAAI,OAAgB,EAAE;QAC3B,QAAQ,MAAM,GAAG;QACjB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;IACtB;IAEO,UAA+B;QACpC,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,KAAK,GAAG,OAAO;QAExC,IAAI,cAAc;QAElB,OAAQ,IAAI,CAAC,SAAS;YACpB,KAAK;YACL,KAAK;gBACH,cAAc;gBACd;YACF,KAAK;gBACH,cAAc,IAAI,CAAC,aAAa,CAAC,CAAC,IAAM,EAAE,SAAS;gBACnD;YACF,KAAK;gBACH,cAAc,IAAI,CAAC,aAAa,CAAC,CAAC,IAAM,EAAE,SAAS;gBACnD;QACJ;QAEA,MAAM,WAAW,IAAI,CAAC,SAAS,CAAC,YAAY;QAC5C,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,aAAa;QACnC,OAAO;IACT;IAEQ,cAAc,MAA8B,EAAU;QAC5D,IAAI,UAAU;QACd,IAAI,UAAU,OAAO,IAAI,CAAC,SAAS,CAAC,EAAE;QAEtC,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,IAAK;YAC9C,MAAM,MAAM,OAAO,IAAI,CAAC,SAAS,CAAC,EAAE;YACpC,IAAI,MAAM,SAAS;gBACjB,UAAU;gBACV,UAAU;YACZ;QACF;QACA,OAAO;IACT;IAEO,cAAc,OAAgB,EAAW;QAC9C,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,OAAO;QAC9B,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,KAAK,GAAG,OAAO;QAExC,IAAI,IAAI,CAAC,SAAS,KAAK,OAAO;YAC5B,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,SAAS,GAAG,QAAQ,cAAc;QACxE;QACA,IAAI,IAAI,CAAC,SAAS,KAAK,eAAe;YACpC,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,SAAS,GAAG,QAAQ,SAAS;QACnE;QACA,OAAO;IACT;IAEO,aAAa,OAAgB,EAAW;QAC7C,IAAI,IAAI,CAAC,SAAS,KAAK,cAAc,OAAO;QAC5C,OAAO,CAAC,QAAQ,SAAS,GAAG,QAAQ,cAAc,IAAI,IAAI,CAAC,OAAO,KAAK;IACzE;AACF"}},
    {"offset": {"line": 617, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/lib/dispatcher.ts"],"sourcesContent":["import { Process } from \"./types\";\r\n\r\nexport class Dispatcher {\r\n  private colaRunning: Process | null = null;\r\n  private cambiosContextoTotal: number = 0;\r\n\r\n  public getRunning() {\r\n    return this.colaRunning;\r\n  }\r\n\r\n  public getTotalContextSwitches() {\r\n    return this.cambiosContextoTotal;\r\n  }\r\n\r\n  public dispatch(proceso: Process, tiempoSimulacion: number) {\r\n    this.colaRunning = proceso;\r\n    proceso.estado = \"running\";\r\n\r\n    if (proceso.tiempoRespuesta === -1) {\r\n      proceso.tiempoRespuesta = tiempoSimulacion - proceso.tiempoLlegada;\r\n      proceso.tiempoInicio = tiempoSimulacion; // Track first execution time\r\n    }\r\n\r\n    proceso.cambiosContexto++;\r\n    this.cambiosContextoTotal++;\r\n  }\r\n\r\n  public preempt(): Process | null {\r\n    if (!this.colaRunning) return null;\r\n    const p = this.colaRunning;\r\n    this.colaRunning = null;\r\n    return p;\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAEO,MAAM;IACH,cAA8B,KAAK;IACnC,uBAA+B,EAAE;IAElC,aAAa;QAClB,OAAO,IAAI,CAAC,WAAW;IACzB;IAEO,0BAA0B;QAC/B,OAAO,IAAI,CAAC,oBAAoB;IAClC;IAEO,SAAS,OAAgB,EAAE,gBAAwB,EAAE;QAC1D,IAAI,CAAC,WAAW,GAAG;QACnB,QAAQ,MAAM,GAAG;QAEjB,IAAI,QAAQ,eAAe,KAAK,CAAC,GAAG;YAClC,QAAQ,eAAe,GAAG,mBAAmB,QAAQ,aAAa;YAClE,QAAQ,YAAY,GAAG,kBAAkB,6BAA6B;QACxE;QAEA,QAAQ,eAAe;QACvB,IAAI,CAAC,oBAAoB;IAC3B;IAEO,UAA0B;QAC/B,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,OAAO;QAC9B,MAAM,IAAI,IAAI,CAAC,WAAW;QAC1B,IAAI,CAAC,WAAW,GAAG;QACnB,OAAO;IACT;AACF"}},
    {"offset": {"line": 654, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/lib/os-simulator.ts"],"sourcesContent":["import { OSState, Process, DeviceType, Interrupt, LogEntry, SimulationMetrics, GanttEntry } from \"./types\";\r\nimport { ProcessManager } from \"./process-manager\";\r\nimport { MemoryManager } from \"./memory-manager\";\r\nimport { IOManager } from \"./io-manager\";\r\nimport { Scheduler } from \"./scheduler\";\r\nimport { Dispatcher } from \"./dispatcher\";\r\n\r\nexport class OSSimulator {\r\n  private processManager: ProcessManager;\r\n  private memoryManager: MemoryManager;\r\n  private ioManager: IOManager;\r\n  private scheduler: Scheduler;\r\n  private dispatcher: Dispatcher;\r\n\r\n  private tiempoSimulacion: number = 0;\r\n  private erroresTotal: number = 0;\r\n  private logs: LogEntry[] = [];\r\n  private ultimoLogId: number = 0;\r\n  private readonly MAX_LOGS = 500;\r\n  private rngFormulas: string[] = [\r\n    \"Size = 2^ceil(log2(random(32KB, 512KB)))\",\r\n    \"Burst = random(5, 20)\",\r\n    \"IO_Duration = random(5, 20)\",\r\n    \"Error = random() < 0.005\",\r\n  ];\r\n\r\n  // Module 2: Gantt Chart\r\n  private ganttChart: GanttEntry[] = [];\r\n  private readonly MAX_GANTT_ENTRIES = 1000;\r\n\r\n  // Module 1: Metrics tracking\r\n  private idleTime: number = 0;\r\n\r\n  private agregarLog(tipo: LogEntry[\"tipo\"], mensaje: string, pid?: number) {\r\n    this.logs.push({\r\n      id: ++this.ultimoLogId,\r\n      tiempo: this.tiempoSimulacion,\r\n      tipo,\r\n      mensaje,\r\n      pid,\r\n    });\r\n    // Mantener solo los últimos MAX_LOGS\r\n    if (this.logs.length > this.MAX_LOGS) {\r\n      this.logs.shift();\r\n    }\r\n  }\r\n\r\n  constructor() {\r\n    this.processManager = new ProcessManager();\r\n    this.memoryManager = new MemoryManager();\r\n    this.ioManager = new IOManager();\r\n    this.scheduler = new Scheduler();\r\n    this.dispatcher = new Dispatcher();\r\n  }\r\n\r\n  public getState(): OSState {\r\n    const metrics = this.calculateMetrics();\r\n    const deadlockStatus = this.detectDeadlock();\r\n\r\n    return {\r\n      procesos: this.processManager.getAll(),\r\n      colaNew: this.processManager.getNew(),\r\n      colaReady: this.scheduler.getQueue(),\r\n      colaRunning: this.dispatcher.getRunning(),\r\n      colaBlocked: this.processManager.getAll().filter(p => p.estado === 'blocked'),\r\n      colaTerminated: this.processManager.getTerminated(),\r\n      colasDispositivos: this.ioManager.getDeviceQueues(),\r\n      memoria: this.memoryManager.getMemoryState(),\r\n      interrupcionesActivas: this.ioManager.getActiveInterrupts(),\r\n      scheduler: this.scheduler.getAlgorithm(),\r\n      apropiativo: this.scheduler.isApropiativo(),\r\n      quantum: this.scheduler.getQuantum(),\r\n      memoryStrategy: this.memoryManager.getStrategy(),\r\n      ultimoPID: this.processManager.getLastPID(),\r\n      tiempoSimulacion: this.tiempoSimulacion,\r\n      cambiosContextoTotal: this.dispatcher.getTotalContextSwitches(),\r\n      erroresTotal: this.erroresTotal,\r\n      interrupcionesTotal: this.ioManager.getTotalInterrupts(),\r\n      fragmentation: this.memoryManager.getFragmentation(this.processManager.getAll()),\r\n      rngFormulas: this.rngFormulas,\r\n      logs: [...this.logs].reverse(), // Mostrar los más recientes primero\r\n      metrics,\r\n      ganttChart: this.ganttChart,\r\n      deadlockStatus,\r\n    };\r\n  }\r\n\r\n  public ejecutarTick() {\r\n    this.tiempoSimulacion++;\r\n\r\n    // 1. I/O\r\n    const finishedIO = this.ioManager.verificarInterrupciones();\r\n    finishedIO.forEach(p => {\r\n      this.agregarLog(\"io\", `I/O completado para PID ${p.pid}`, p.pid);\r\n      this.agregarLog(\"process_state\", `PID ${p.pid} desbloqueado, movido a Ready`, p.pid);\r\n      this.scheduler.add(p);\r\n    });\r\n\r\n    // 2. Admit\r\n    const procesosAdmitidos = this.processManager.getNew();\r\n    this.processManager.admitirProcesos(this.memoryManager, this.scheduler);\r\n    const nuevosAdmitidos = this.processManager.getNew();\r\n    procesosAdmitidos.forEach(p => {\r\n      if (!nuevosAdmitidos.find(np => np.pid === p.pid)) {\r\n        this.agregarLog(\"memory\", `PID ${p.pid} admitido a memoria (${(p.tamanio / 1024).toFixed(0)} KB)`, p.pid);\r\n        this.agregarLog(\"process_state\", `PID ${p.pid} cambió de New a Ready`, p.pid);\r\n      }\r\n    });\r\n\r\n    // 3. Scheduler/Dispatcher\r\n    if (!this.dispatcher.getRunning()) {\r\n      const next = this.scheduler.getNext();\r\n      if (next) {\r\n        this.dispatcher.dispatch(next, this.tiempoSimulacion);\r\n        this.agregarLog(\"context_switch\", `Cambio de contexto: PID ${next.pid} ahora en ejecución`, next.pid);\r\n        this.agregarLog(\"scheduler\", `Planificador seleccionó PID ${next.pid} (${this.scheduler.getAlgorithm()})`, next.pid);\r\n\r\n        // Module 2: Track context switch in Gantt\r\n        this.addGanttEntry({ tiempo: this.tiempoSimulacion, pid: next.pid, tipo: \"context_switch\" });\r\n      } else {\r\n        // CPU is idle\r\n        this.idleTime++;\r\n        // Module 2: Track idle in Gantt\r\n        this.addGanttEntry({ tiempo: this.tiempoSimulacion, pid: null, tipo: \"idle\" });\r\n      }\r\n    } else {\r\n      const running = this.dispatcher.getRunning()!;\r\n\r\n      // Module 2: Track execution in Gantt\r\n      this.addGanttEntry({ tiempo: this.tiempoSimulacion, pid: running.pid, tipo: \"execute\" });\r\n\r\n      // Random Error (0.5%)\r\n      if (Math.random() < 0.005) {\r\n        running.errores++;\r\n        this.erroresTotal++;\r\n        this.agregarLog(\"error\", `Error detectado en PID ${running.pid}. Proceso terminado.`, running.pid);\r\n        // Requirement: Cancel process on error\r\n        const p = this.dispatcher.preempt();\r\n        if (p) {\r\n          // Log error or mark as error state? Terminated is fine.\r\n          this.processManager.terminarProceso(p, this.tiempoSimulacion, this.memoryManager);\r\n          return; // End tick for this process\r\n        }\r\n      }\r\n\r\n      // Tick\r\n      running.programCounter++;\r\n      running.tiempoRestante--;\r\n      running.porcentajeProcesado = ((running.burstTime - running.tiempoRestante) / running.burstTime) * 100;\r\n\r\n      // Terminate\r\n      if (running.tiempoRestante <= 0) {\r\n        const p = this.dispatcher.preempt(); // Remove from running\r\n        if (p) {\r\n          this.agregarLog(\"process_state\", `PID ${p.pid} terminado exitosamente`, p.pid);\r\n          this.processManager.terminarProceso(p, this.tiempoSimulacion, this.memoryManager);\r\n        }\r\n      }\r\n      // Quantum\r\n      else if (this.scheduler.checkQuantum(running)) {\r\n        const p = this.dispatcher.preempt();\r\n        if (p) {\r\n          this.agregarLog(\"context_switch\", `Quantum agotado para PID ${p.pid}. Movido a cola Ready`, p.pid);\r\n          this.scheduler.add(p);\r\n        }\r\n      }\r\n      // Preempt\r\n      else if (this.scheduler.debeExpropiar(running)) {\r\n        const p = this.dispatcher.preempt();\r\n        if (p) {\r\n          this.agregarLog(\"context_switch\", `PID ${p.pid} expropiado por planificador`, p.pid);\r\n          this.scheduler.add(p);\r\n        }\r\n      }\r\n      // I/O Chance\r\n      // Requirement: 5-20 interrupts total.\r\n      // Probability = (Remaining Interrupts) / (Remaining Time) ?\r\n      // Or just a fixed prob that is high enough.\r\n      else if (running.interrupciones < running.maxInterrupciones && Math.random() < 0.2) {\r\n        const devices: DeviceType[] = [\"disk\", \"printer\", \"monitor\", \"network\"];\r\n        const device = devices[Math.floor(Math.random() * devices.length)];\r\n\r\n        const p = this.dispatcher.preempt();\r\n        if (p) {\r\n          p.estado = \"blocked\";\r\n          this.agregarLog(\"process_state\", `PID ${p.pid} bloqueado por I/O (${device})`, p.pid);\r\n          this.agregarLog(\"io\", `Solicitud de I/O: PID ${p.pid} → ${device}`, p.pid);\r\n          this.ioManager.solicitarIO(p, device);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Update waiting time and ready time (for aging)\r\n    this.scheduler.getQueue().forEach(p => {\r\n      p.tiempoEspera++;\r\n      p.tiempoEsperaEnReady++;\r\n    });\r\n\r\n    // Module 4: Apply aging if using Priority scheduler\r\n    if (this.scheduler.getAlgorithm() === \"Prioridades\") {\r\n      this.applyAging();\r\n    }\r\n  }\r\n\r\n  // Module 2: Add entry to Gantt chart\r\n  private addGanttEntry(entry: GanttEntry): void {\r\n    this.ganttChart.push(entry);\r\n    // Keep only last MAX_GANTT_ENTRIES to prevent memory issues\r\n    if (this.ganttChart.length > this.MAX_GANTT_ENTRIES) {\r\n      this.ganttChart.shift();\r\n    }\r\n  }\r\n\r\n  // Module 4: Apply aging to processes in ready queue\r\n  private applyAging(): void {\r\n    const STARVATION_THRESHOLD = 10; // ticks without execution\r\n    const readyQueue = this.scheduler.getQueue();\r\n\r\n    readyQueue.forEach(p => {\r\n      if (p.tiempoEsperaEnReady >= STARVATION_THRESHOLD) {\r\n        // Decrease priority (lower number = higher priority)\r\n        if (p.prioridad > 0) {\r\n          p.prioridad--;\r\n          p.tiempoEsperaEnReady = 0; // Reset counter after aging\r\n          this.agregarLog(\"scheduler\", `Aging aplicado a PID ${p.pid}: prioridad aumentada a ${p.prioridad}`, p.pid);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  public crearProceso(\r\n    size?: number,\r\n    burstTime?: number,\r\n    prioridad?: number,\r\n    maxInterrupciones?: number,\r\n    porcentajeDatos?: number,\r\n    porcentajeVariable?: number\r\n  ) {\r\n    const proceso = this.processManager.crearProceso(\r\n      this.tiempoSimulacion,\r\n      size,\r\n      burstTime,\r\n      prioridad,\r\n      maxInterrupciones,\r\n      porcentajeDatos,\r\n      porcentajeVariable\r\n    );\r\n    this.agregarLog(\"process_state\", `Nuevo proceso creado: PID ${proceso.pid}`, proceso.pid);\r\n    return proceso;\r\n  }\r\n  public generarProcesosIniciales(n: number) { for (let i = 0; i < n; i++) this.crearProceso(); }\r\n  public resolverInterrupcionManual(id: number, accion: \"continuar\" | \"cancelar\") {\r\n    const p = this.ioManager.resolverInterrupcionManual(id, accion);\r\n    if (p) {\r\n      this.agregarLog(\"interrupt\", `Interrupción de teclado resuelta: ${accion} para PID ${p.pid}`, p.pid);\r\n      this.agregarLog(\"process_state\", `PID ${p.pid} desbloqueado después de I/O manual`, p.pid);\r\n      this.scheduler.add(p);\r\n    }\r\n  }\r\n\r\n  public setScheduler(s: \"FCFS\" | \"SJF\" | \"RoundRobin\" | \"Prioridades\") {\r\n    this.scheduler.setAlgorithm(s);\r\n    this.agregarLog(\"scheduler\", `Política de planificación cambiada a: ${s}`);\r\n  }\r\n  public setApropiativo(b: boolean) {\r\n    this.scheduler.setApropiativo(b);\r\n    this.agregarLog(\"scheduler\", `Modo apropiativo ${b ? \"activado\" : \"desactivado\"}`);\r\n  }\r\n  public setQuantum(n: number) {\r\n    this.scheduler.setQuantum(n);\r\n    this.agregarLog(\"scheduler\", `Quantum actualizado a: ${n}`);\r\n  }\r\n  public setMemoryStrategy(s: \"FirstFit\" | \"BestFit\" | \"WorstFit\") {\r\n    this.memoryManager.setStrategy(s);\r\n    this.agregarLog(\"memory\", `Estrategia de memoria cambiada a: ${s}`);\r\n  }\r\n\r\n  public editarProceso(\r\n    pid: number,\r\n    updates: {\r\n      tamanio?: number;\r\n      burstTime?: number;\r\n      prioridad?: number;\r\n      porcentajeDatos?: number;\r\n      porcentajeVariable?: number;\r\n      maxInterrupciones?: number;\r\n    }\r\n  ): boolean {\r\n    const resultado = this.processManager.editarProceso(pid, updates, this.memoryManager);\r\n    if (resultado) {\r\n      this.agregarLog(\"process_state\", `Proceso PID ${pid} editado`, pid);\r\n    }\r\n    return resultado;\r\n  }\r\n\r\n  public eliminarProceso(pid: number): boolean {\r\n    const resultado = this.processManager.eliminarProceso(\r\n      pid,\r\n      this.memoryManager,\r\n      this.scheduler,\r\n      this.dispatcher,\r\n      this.ioManager\r\n    );\r\n    if (resultado) {\r\n      this.agregarLog(\"process_state\", `Proceso PID ${pid} eliminado`, pid);\r\n    }\r\n    return resultado;\r\n  }\r\n\r\n  // Module 1: Calculate simulation metrics\r\n  private calculateMetrics(): SimulationMetrics {\r\n    const completedProcesses = this.processManager.getTerminated();\r\n    const totalProcesses = this.processManager.getAll().length;\r\n    const completedCount = completedProcesses.length;\r\n\r\n    if (completedCount === 0) {\r\n      return {\r\n        avgWaitingTime: 0,\r\n        avgTurnaroundTime: 0,\r\n        avgResponseTime: 0,\r\n        throughput: 0,\r\n        cpuUtilization: 0,\r\n        totalProcesses,\r\n        completedProcesses: 0,\r\n        idleTime: this.idleTime,\r\n      };\r\n    }\r\n\r\n    // Calculate averages\r\n    const totalWaitingTime = completedProcesses.reduce((sum, p) => sum + p.tiempoEspera, 0);\r\n    const totalTurnaroundTime = completedProcesses.reduce((sum, p) => sum + p.tiempoTurnaround, 0);\r\n    const totalResponseTime = completedProcesses.reduce((sum, p) => sum + (p.tiempoRespuesta >= 0 ? p.tiempoRespuesta : 0), 0);\r\n\r\n    const avgWaitingTime = totalWaitingTime / completedCount;\r\n    const avgTurnaroundTime = totalTurnaroundTime / completedCount;\r\n    const avgResponseTime = totalResponseTime / completedCount;\r\n\r\n    // Throughput: processes completed per unit time\r\n    const throughput = this.tiempoSimulacion > 0 ? completedCount / this.tiempoSimulacion : 0;\r\n\r\n    // CPU Utilization: % time CPU was not idle\r\n    const cpuUtilization = this.tiempoSimulacion > 0\r\n      ? ((this.tiempoSimulacion - this.idleTime) / this.tiempoSimulacion) * 100\r\n      : 0;\r\n\r\n    return {\r\n      avgWaitingTime,\r\n      avgTurnaroundTime,\r\n      avgResponseTime,\r\n      throughput,\r\n      cpuUtilization,\r\n      totalProcesses,\r\n      completedProcesses: completedCount,\r\n      idleTime: this.idleTime,\r\n    };\r\n  }\r\n\r\n  // Module 4: Detect deadlock (simplified version)\r\n  private detectDeadlock() {\r\n    // Simple deadlock detection: check if all processes are blocked waiting for I/O\r\n    // and no I/O operations are completing\r\n    const allProcesses = this.processManager.getAll();\r\n    const blockedProcesses = allProcesses.filter(p => p.estado === 'blocked');\r\n\r\n    // Basic deadlock: all non-terminated processes are blocked and there are no active interrupts finishing soon\r\n    const nonTerminated = allProcesses.filter(p => p.estado !== 'terminated');\r\n    const allBlocked = nonTerminated.length > 0 && blockedProcesses.length === nonTerminated.length;\r\n\r\n    if (allBlocked && nonTerminated.length > 1) {\r\n      return {\r\n        detected: true,\r\n        affectedProcesses: blockedProcesses.map(p => p.pid),\r\n        cycle: `Todos los procesos (${blockedProcesses.map(p => `P${p.pid}`).join(', ')}) están bloqueados esperando I/O`,\r\n        timestamp: this.tiempoSimulacion,\r\n      };\r\n    }\r\n\r\n    return {\r\n      detected: false,\r\n      affectedProcesses: [],\r\n      cycle: \"\",\r\n      timestamp: 0,\r\n    };\r\n  }\r\n\r\n  // Module 3: Compact memory\r\n  public compactarMemoria(): { success: boolean; message: string } {\r\n    const result = this.memoryManager.compactarMemoria();\r\n\r\n    if (result.success) {\r\n      // Update dirBase for all processes after compaction\r\n      const allProcesses = this.processManager.getAll();\r\n      const memoryBlocks = this.memoryManager.getMemoryState();\r\n\r\n      memoryBlocks.forEach(block => {\r\n        if (block.ocupado && block.pid !== null) {\r\n          const proceso = allProcesses.find(p => p.pid === block.pid);\r\n          if (proceso) {\r\n            proceso.dirBase = block.direccionInicio;\r\n            // Recalculate pointers\r\n            const dataSize = Math.floor(proceso.tamanio * (proceso.porcentajeDatos / 100));\r\n            proceso.heapPointer = proceso.dirBase + dataSize;\r\n            proceso.stackPointer = proceso.dirBase + proceso.tamanio - 1;\r\n          }\r\n        }\r\n      });\r\n\r\n      this.agregarLog(\"memory\", result.message);\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  // Module 5: Clear logs\r\n  public clearLogs(): void {\r\n    this.logs = [];\r\n    this.agregarLog(\"scheduler\", \"Logs limpiados\");\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1023, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/lib/scenario-manager.ts"],"sourcesContent":["import { Scenario, ProcessConfig, OSState } from \"./types\";\r\n\r\nexport class ScenarioManager {\r\n    private static readonly VERSION = \"1.0.0\";\r\n\r\n    /**\r\n     * Export current simulation state as a scenario\r\n     */\r\n    public static exportScenario(state: OSState): Scenario {\r\n        // Extract process configurations from current processes\r\n        const processConfigs: ProcessConfig[] = state.procesos\r\n            .filter(p => p.estado !== 'terminated') // Only export active processes\r\n            .map(p => ({\r\n                tamanio: p.tamanio,\r\n                burstTime: p.burstTime,\r\n                prioridad: p.prioridad,\r\n                maxInterrupciones: p.maxInterrupciones,\r\n                porcentajeDatos: p.porcentajeDatos,\r\n                porcentajeVariable: p.porcentajeVariable,\r\n            }));\r\n\r\n        return {\r\n            version: this.VERSION,\r\n            timestamp: Date.now(),\r\n            scheduler: {\r\n                algorithm: state.scheduler,\r\n                apropiativo: state.apropiativo,\r\n                quantum: state.quantum,\r\n            },\r\n            memoryStrategy: state.memoryStrategy,\r\n            processes: processConfigs,\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Download scenario as JSON file\r\n     */\r\n    public static downloadScenario(scenario: Scenario, filename?: string): void {\r\n        const json = JSON.stringify(scenario, null, 2);\r\n        const blob = new Blob([json], { type: 'application/json' });\r\n        const url = URL.createObjectURL(blob);\r\n\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n        link.download = filename || `os-scenario-${Date.now()}.json`;\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n        URL.revokeObjectURL(url);\r\n    }\r\n\r\n    /**\r\n     * Validate scenario structure\r\n     */\r\n    public static validateScenario(scenario: any): { valid: boolean; error?: string } {\r\n        if (!scenario || typeof scenario !== 'object') {\r\n            return { valid: false, error: 'Escenario inválido: no es un objeto JSON' };\r\n        }\r\n\r\n        if (!scenario.version) {\r\n            return { valid: false, error: 'Escenario inválido: falta versión' };\r\n        }\r\n\r\n        if (!scenario.scheduler || !scenario.scheduler.algorithm) {\r\n            return { valid: false, error: 'Escenario inválido: falta configuración de scheduler' };\r\n        }\r\n\r\n        const validAlgorithms = ['FCFS', 'SJF', 'RoundRobin', 'Prioridades'];\r\n        if (!validAlgorithms.includes(scenario.scheduler.algorithm)) {\r\n            return { valid: false, error: `Algoritmo inválido: ${scenario.scheduler.algorithm}` };\r\n        }\r\n\r\n        if (!scenario.memoryStrategy) {\r\n            return { valid: false, error: 'Escenario inválido: falta estrategia de memoria' };\r\n        }\r\n\r\n        const validStrategies = ['FirstFit', 'BestFit', 'WorstFit'];\r\n        if (!validStrategies.includes(scenario.memoryStrategy)) {\r\n            return { valid: false, error: `Estrategia de memoria inválida: ${scenario.memoryStrategy}` };\r\n        }\r\n\r\n        if (!Array.isArray(scenario.processes)) {\r\n            return { valid: false, error: 'Escenario inválido: procesos debe ser un array' };\r\n        }\r\n\r\n        // Validate each process\r\n        for (let i = 0; i < scenario.processes.length; i++) {\r\n            const p = scenario.processes[i];\r\n            if (!p.tamanio || !p.burstTime || p.prioridad === undefined) {\r\n                return { valid: false, error: `Proceso ${i}: faltan campos requeridos` };\r\n            }\r\n            if (p.tamanio < 32 * 1024 || p.tamanio > 2 * 1024 * 1024) {\r\n                return { valid: false, error: `Proceso ${i}: tamaño fuera de rango (32KB - 2MB)` };\r\n            }\r\n            if (p.burstTime < 1 || p.burstTime > 100) {\r\n                return { valid: false, error: `Proceso ${i}: burstTime fuera de rango (1-100)` };\r\n            }\r\n        }\r\n\r\n        return { valid: true };\r\n    }\r\n\r\n    /**\r\n     * Load scenario from JSON file\r\n     */\r\n    public static async loadScenarioFromFile(): Promise<Scenario | null> {\r\n        return new Promise((resolve) => {\r\n            const input = document.createElement('input');\r\n            input.type = 'file';\r\n            input.accept = '.json';\r\n\r\n            input.onchange = async (e: any) => {\r\n                const file = e.target.files[0];\r\n                if (!file) {\r\n                    resolve(null);\r\n                    return;\r\n                }\r\n\r\n                try {\r\n                    const text = await file.text();\r\n                    const scenario = JSON.parse(text);\r\n\r\n                    const validation = this.validateScenario(scenario);\r\n                    if (!validation.valid) {\r\n                        alert(`Error al cargar escenario: ${validation.error}`);\r\n                        resolve(null);\r\n                        return;\r\n                    }\r\n\r\n                    resolve(scenario);\r\n                } catch (error) {\r\n                    alert(`Error al parsear archivo: ${error}`);\r\n                    resolve(null);\r\n                }\r\n            };\r\n\r\n            input.click();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Export logs to CSV format\r\n     */\r\n    public static exportLogs(logs: any[]): void {\r\n        const headers = ['ID', 'Tiempo', 'Tipo', 'PID', 'Mensaje'];\r\n        const rows = logs.map(log => [\r\n            log.id,\r\n            log.tiempo,\r\n            log.tipo,\r\n            log.pid || '',\r\n            `\"${log.mensaje.replace(/\"/g, '\"\"')}\"` // Escape quotes\r\n        ]);\r\n\r\n        const csv = [\r\n            headers.join(','),\r\n            ...rows.map(row => row.join(','))\r\n        ].join('\\n');\r\n\r\n        const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\r\n        const url = URL.createObjectURL(blob);\r\n\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n        link.download = `os-logs-${Date.now()}.csv`;\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n        URL.revokeObjectURL(url);\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1228, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\r\nimport { twMerge } from 'tailwind-merge'\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,4QAAO,EAAC,IAAA,mPAAI,EAAC;AACtB"}},
    {"offset": {"line": 1246, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn('leading-none font-semibold', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn('px-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,gSAAC;QACC,aAAU;QACV,WAAW,IAAA,wNAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,gSAAC;QACC,aAAU;QACV,WAAW,IAAA,wNAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,gSAAC;QACC,aAAU;QACV,WAAW,IAAA,wNAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,gSAAC;QACC,aAAU;QACV,WAAW,IAAA,wNAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,gSAAC;QACC,aAAU;QACV,WAAW,IAAA,wNAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,gSAAC;QACC,aAAU;QACV,WAAW,IAAA,wNAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,gSAAC;QACC,aAAU;QACV,WAAW,IAAA,wNAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 1366, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/components/ui/scroll-area.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as ScrollAreaPrimitive from '@radix-ui/react-scroll-area'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction ScrollArea({\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof ScrollAreaPrimitive.Root>) {\r\n  return (\r\n    <ScrollAreaPrimitive.Root\r\n      data-slot=\"scroll-area\"\r\n      className={cn('relative', className)}\r\n      {...props}\r\n    >\r\n      <ScrollAreaPrimitive.Viewport\r\n        data-slot=\"scroll-area-viewport\"\r\n        className=\"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1\"\r\n      >\r\n        {children}\r\n      </ScrollAreaPrimitive.Viewport>\r\n      <ScrollBar />\r\n      <ScrollAreaPrimitive.Corner />\r\n    </ScrollAreaPrimitive.Root>\r\n  )\r\n}\r\n\r\nfunction ScrollBar({\r\n  className,\r\n  orientation = 'vertical',\r\n  ...props\r\n}: React.ComponentProps<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>) {\r\n  return (\r\n    <ScrollAreaPrimitive.ScrollAreaScrollbar\r\n      data-slot=\"scroll-area-scrollbar\"\r\n      orientation={orientation}\r\n      className={cn(\r\n        'flex touch-none p-px transition-colors select-none',\r\n        orientation === 'vertical' &&\r\n          'h-full w-2.5 border-l border-l-transparent',\r\n        orientation === 'horizontal' &&\r\n          'h-2.5 flex-col border-t border-t-transparent',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <ScrollAreaPrimitive.ScrollAreaThumb\r\n        data-slot=\"scroll-area-thumb\"\r\n        className=\"bg-border relative flex-1 rounded-full\"\r\n      />\r\n    </ScrollAreaPrimitive.ScrollAreaScrollbar>\r\n  )\r\n}\r\n\r\nexport { ScrollArea, ScrollBar }\r\n"],"names":[],"mappings":";;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OACmD;IACtD,qBACE,gSAAC,wRAAwB;QACvB,aAAU;QACV,WAAW,IAAA,wNAAE,EAAC,YAAY;QACzB,GAAG,KAAK;;0BAET,gSAAC,4RAA4B;gBAC3B,aAAU;gBACV,WAAU;0BAET;;;;;;0BAEH,gSAAC;;;;;0BACD,gSAAC,0RAA0B;;;;;;;;;;;AAGjC;KArBS;AAuBT,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,UAAU,EACxB,GAAG,OACkE;IACrE,qBACE,gSAAC,uSAAuC;QACtC,aAAU;QACV,aAAa;QACb,WAAW,IAAA,wNAAE,EACX,sDACA,gBAAgB,cACd,8CACF,gBAAgB,gBACd,gDACF;QAED,GAAG,KAAK;kBAET,cAAA,gSAAC,mSAAmC;YAClC,aAAU;YACV,WAAU;;;;;;;;;;;AAIlB;MAzBS"}},
    {"offset": {"line": 1444, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst badgeVariants = cva(\r\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\r\n        secondary:\r\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\r\n        destructive:\r\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\r\n        outline:\r\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction Badge({\r\n  className,\r\n  variant,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'span'> &\r\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\r\n  const Comp = asChild ? Slot : 'span'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"badge\"\r\n      className={cn(badgeVariants({ variant }), className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,6QAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,8QAAI,GAAG;IAE9B,qBACE,gSAAC;QACC,aAAU;QACV,WAAW,IAAA,wNAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},
    {"offset": {"line": 1496, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\r\n        destructive:\r\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\r\n        outline:\r\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\r\n        secondary:\r\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\r\n        ghost:\r\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\r\n        link: 'text-primary underline-offset-4 hover:underline',\r\n      },\r\n      size: {\r\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\r\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\r\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\r\n        icon: 'size-9',\r\n        'icon-sm': 'size-8',\r\n        'icon-lg': 'size-10',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n      size: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction Button({\r\n  className,\r\n  variant,\r\n  size,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'button'> &\r\n  VariantProps<typeof buttonVariants> & {\r\n    asChild?: boolean\r\n  }) {\r\n  const Comp = asChild ? Slot : 'button'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,6QAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,8QAAI,GAAG;IAE9B,qBACE,gSAAC;QACC,aAAU;QACV,WAAW,IAAA,wNAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 1561, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/components/ui/progress.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as ProgressPrimitive from '@radix-ui/react-progress'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Progress({\r\n  className,\r\n  value,\r\n  ...props\r\n}: React.ComponentProps<typeof ProgressPrimitive.Root>) {\r\n  return (\r\n    <ProgressPrimitive.Root\r\n      data-slot=\"progress\"\r\n      className={cn(\r\n        'bg-primary/20 relative h-2 w-full overflow-hidden rounded-full',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <ProgressPrimitive.Indicator\r\n        data-slot=\"progress-indicator\"\r\n        className=\"bg-primary h-full w-full flex-1 transition-all\"\r\n        style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\r\n      />\r\n    </ProgressPrimitive.Root>\r\n  )\r\n}\r\n\r\nexport { Progress }\r\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,SAAS,EAChB,SAAS,EACT,KAAK,EACL,GAAG,OACiD;IACpD,qBACE,gSAAC,kRAAsB;QACrB,aAAU;QACV,WAAW,IAAA,wNAAE,EACX,kEACA;QAED,GAAG,KAAK;kBAET,cAAA,gSAAC,uRAA2B;YAC1B,aAAU;YACV,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;AAIlE;KArBS"}},
    {"offset": {"line": 1605, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/components/ui/dialog.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\r\nimport { XIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Dialog({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\r\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\r\n}\r\n\r\nfunction DialogTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\r\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\r\n}\r\n\r\nfunction DialogPortal({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\r\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\r\n}\r\n\r\nfunction DialogClose({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\r\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\r\n}\r\n\r\nfunction DialogOverlay({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\r\n  return (\r\n    <DialogPrimitive.Overlay\r\n      data-slot=\"dialog-overlay\"\r\n      className={cn(\r\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogContent({\r\n  className,\r\n  children,\r\n  showCloseButton = true,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\r\n  showCloseButton?: boolean\r\n}) {\r\n  return (\r\n    <DialogPortal data-slot=\"dialog-portal\">\r\n      <DialogOverlay />\r\n      <DialogPrimitive.Content\r\n        data-slot=\"dialog-content\"\r\n        className={cn(\r\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\r\n          className,\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        {showCloseButton && (\r\n          <DialogPrimitive.Close\r\n            data-slot=\"dialog-close\"\r\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\r\n          >\r\n            <XIcon />\r\n            <span className=\"sr-only\">Close</span>\r\n          </DialogPrimitive.Close>\r\n        )}\r\n      </DialogPrimitive.Content>\r\n    </DialogPortal>\r\n  )\r\n}\r\n\r\nfunction DialogHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-header\"\r\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-footer\"\r\n      className={cn(\r\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogTitle({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\r\n  return (\r\n    <DialogPrimitive.Title\r\n      data-slot=\"dialog-title\"\r\n      className={cn('text-lg leading-none font-semibold', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogDescription({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\r\n  return (\r\n    <DialogPrimitive.Description\r\n      data-slot=\"dialog-description\"\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Dialog,\r\n  DialogClose,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogOverlay,\r\n  DialogPortal,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,gSAAC,gRAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,gSAAC,mRAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS;AAMT,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,gSAAC,kRAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,gSAAC,iRAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,gSAAC,mRAAuB;QACtB,aAAU;QACV,WAAW,IAAA,wNAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,gSAAC;QAAa,aAAU;;0BACtB,gSAAC;;;;;0BACD,gSAAC,mRAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,wNAAE,EACX,+WACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,gSAAC,iRAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,gSAAC,+SAAK;;;;;0CACN,gSAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;MAhCS;AAkCT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,gSAAC;QACC,aAAU;QACV,WAAW,IAAA,wNAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,gSAAC;QACC,aAAU;QACV,WAAW,IAAA,wNAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,gSAAC,iRAAqB;QACpB,aAAU;QACV,WAAW,IAAA,wNAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,gSAAC,uRAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,wNAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 1811, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\r\n  return (\r\n    <input\r\n      type={type}\r\n      data-slot=\"input\"\r\n      className={cn(\r\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\r\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\r\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,gSAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,wNAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 1842, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/components/ui/label.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as LabelPrimitive from '@radix-ui/react-label'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Label({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\r\n  return (\r\n    <LabelPrimitive.Root\r\n      data-slot=\"label\"\r\n      className={cn(\r\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Label }\r\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,gSAAC,+QAAmB;QAClB,aAAU;QACV,WAAW,IAAA,wNAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 1875, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/components/ui/select.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as SelectPrimitive from '@radix-ui/react-select'\r\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Select({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\r\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\r\n}\r\n\r\nfunction SelectGroup({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\r\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\r\n}\r\n\r\nfunction SelectValue({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\r\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\r\n}\r\n\r\nfunction SelectTrigger({\r\n  className,\r\n  size = 'default',\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\r\n  size?: 'sm' | 'default'\r\n}) {\r\n  return (\r\n    <SelectPrimitive.Trigger\r\n      data-slot=\"select-trigger\"\r\n      data-size={size}\r\n      className={cn(\r\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <SelectPrimitive.Icon asChild>\r\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\r\n      </SelectPrimitive.Icon>\r\n    </SelectPrimitive.Trigger>\r\n  )\r\n}\r\n\r\nfunction SelectContent({\r\n  className,\r\n  children,\r\n  position = 'popper',\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\r\n  return (\r\n    <SelectPrimitive.Portal>\r\n      <SelectPrimitive.Content\r\n        data-slot=\"select-content\"\r\n        className={cn(\r\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md',\r\n          position === 'popper' &&\r\n            'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\r\n          className,\r\n        )}\r\n        position={position}\r\n        {...props}\r\n      >\r\n        <SelectScrollUpButton />\r\n        <SelectPrimitive.Viewport\r\n          className={cn(\r\n            'p-1',\r\n            position === 'popper' &&\r\n              'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1',\r\n          )}\r\n        >\r\n          {children}\r\n        </SelectPrimitive.Viewport>\r\n        <SelectScrollDownButton />\r\n      </SelectPrimitive.Content>\r\n    </SelectPrimitive.Portal>\r\n  )\r\n}\r\n\r\nfunction SelectLabel({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\r\n  return (\r\n    <SelectPrimitive.Label\r\n      data-slot=\"select-label\"\r\n      className={cn('text-muted-foreground px-2 py-1.5 text-xs', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SelectItem({\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\r\n  return (\r\n    <SelectPrimitive.Item\r\n      data-slot=\"select-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\r\n        <SelectPrimitive.ItemIndicator>\r\n          <CheckIcon className=\"size-4\" />\r\n        </SelectPrimitive.ItemIndicator>\r\n      </span>\r\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\r\n    </SelectPrimitive.Item>\r\n  )\r\n}\r\n\r\nfunction SelectSeparator({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\r\n  return (\r\n    <SelectPrimitive.Separator\r\n      data-slot=\"select-separator\"\r\n      className={cn('bg-border pointer-events-none -mx-1 my-1 h-px', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SelectScrollUpButton({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\r\n  return (\r\n    <SelectPrimitive.ScrollUpButton\r\n      data-slot=\"select-scroll-up-button\"\r\n      className={cn(\r\n        'flex cursor-default items-center justify-center py-1',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <ChevronUpIcon className=\"size-4\" />\r\n    </SelectPrimitive.ScrollUpButton>\r\n  )\r\n}\r\n\r\nfunction SelectScrollDownButton({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\r\n  return (\r\n    <SelectPrimitive.ScrollDownButton\r\n      data-slot=\"select-scroll-down-button\"\r\n      className={cn(\r\n        'flex cursor-default items-center justify-center py-1',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <ChevronDownIcon className=\"size-4\" />\r\n    </SelectPrimitive.ScrollDownButton>\r\n  )\r\n}\r\n\r\nexport {\r\n  Select,\r\n  SelectContent,\r\n  SelectGroup,\r\n  SelectItem,\r\n  SelectLabel,\r\n  SelectScrollDownButton,\r\n  SelectScrollUpButton,\r\n  SelectSeparator,\r\n  SelectTrigger,\r\n  SelectValue,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,gSAAC,gRAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,gSAAC,iRAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,gSAAC,iRAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,gSAAC,mRAAuB;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,wNAAE,EACX,gzBACA;QAED,GAAG,KAAK;;YAER;0BACD,gSAAC,gRAAoB;gBAAC,OAAO;0BAC3B,cAAA,gSAAC,iVAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;MAxBS;AA0BT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,QAAQ,EACnB,GAAG,OACkD;IACrD,qBACE,gSAAC,kRAAsB;kBACrB,cAAA,gSAAC,mRAAuB;YACtB,aAAU;YACV,WAAW,IAAA,wNAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,gSAAC;;;;;8BACD,gSAAC,oRAAwB;oBACvB,WAAW,IAAA,wNAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,gSAAC;;;;;;;;;;;;;;;;AAIT;MAjCS;AAmCT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,gSAAC,iRAAqB;QACpB,aAAU;QACV,WAAW,IAAA,wNAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,gSAAC,gRAAoB;QACnB,aAAU;QACV,WAAW,IAAA,wNAAE,EACX,6aACA;QAED,GAAG,KAAK;;0BAET,gSAAC;gBAAK,WAAU;0BACd,cAAA,gSAAC,yRAA6B;8BAC5B,cAAA,gSAAC,2TAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,gSAAC,oRAAwB;0BAAE;;;;;;;;;;;;AAGjC;MAtBS;AAwBT,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,gSAAC,qRAAyB;QACxB,aAAU;QACV,WAAW,IAAA,wNAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,gSAAC,0RAA8B;QAC7B,aAAU;QACV,WAAW,IAAA,wNAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,gSAAC,2UAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;MAhBS;AAkBT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,gSAAC,4RAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,wNAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,gSAAC,iVAAe;YAAC,WAAU;;;;;;;;;;;AAGjC;MAhBS"}},
    {"offset": {"line": 2132, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/components/panels/process-details-modal.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\r\nimport { Process } from \"@/lib/types\"\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\n\r\ninterface ProcessDetailsModalProps {\r\n    process: Process | null;\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n}\r\n\r\nexport default function ProcessDetailsModal({ process, isOpen, onClose }: ProcessDetailsModalProps) {\r\n    if (!process) return null;\r\n\r\n    const getStateColor = (estado: string) => {\r\n        switch (estado) {\r\n            case \"new\": return \"bg-gray-500\"\r\n            case \"ready\": return \"bg-blue-500\"\r\n            case \"running\": return \"bg-green-500\"\r\n            case \"blocked\": return \"bg-yellow-500\"\r\n            case \"terminated\": return \"bg-red-500\"\r\n            default: return \"bg-gray-500\"\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Dialog open={isOpen} onOpenChange={onClose}>\r\n            <DialogContent className=\"max-w-2xl max-h-[80vh]\">\r\n                <DialogHeader>\r\n                    <DialogTitle className=\"flex items-center gap-3\">\r\n                        <span>Detalles del Proceso - PID {process.pid}</span>\r\n                        <Badge className={`${getStateColor(process.estado)} text-white`}>\r\n                            {process.estado.toUpperCase()}\r\n                        </Badge>\r\n                    </DialogTitle>\r\n                </DialogHeader>\r\n\r\n                <ScrollArea className=\"h-[60vh] pr-4\">\r\n                    <div className=\"space-y-4\">\r\n                        {/* Información Básica */}\r\n                        <div className=\"p-4 bg-muted rounded-lg\">\r\n                            <h3 className=\"text-sm font-bold mb-3 text-primary\">Información Básica</h3>\r\n                            <div className=\"grid grid-cols-2 gap-3 text-sm\">\r\n                                <div>\r\n                                    <span className=\"text-muted-foreground\">PID:</span>\r\n                                    <span className=\"ml-2 font-semibold\">{process.pid}</span>\r\n                                </div>\r\n                                <div>\r\n                                    <span className=\"text-muted-foreground\">Estado:</span>\r\n                                    <span className=\"ml-2 font-semibold capitalize\">{process.estado}</span>\r\n                                </div>\r\n                                <div>\r\n                                    <span className=\"text-muted-foreground\">Prioridad:</span>\r\n                                    <span className=\"ml-2 font-semibold\">{process.prioridad}</span>\r\n                                </div>\r\n                                <div>\r\n                                    <span className=\"text-muted-foreground\">Program Counter:</span>\r\n                                    <span className=\"ml-2 font-semibold\">{process.programCounter}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Tiempos de Ejecución */}\r\n                        <div className=\"p-4 bg-muted rounded-lg\">\r\n                            <h3 className=\"text-sm font-bold mb-3 text-primary\">Tiempos de Ejecución</h3>\r\n                            <div className=\"grid grid-cols-2 gap-3 text-sm\">\r\n                                <div>\r\n                                    <span className=\"text-muted-foreground\">Burst Time:</span>\r\n                                    <span className=\"ml-2 font-semibold\">{process.burstTime} ticks</span>\r\n                                </div>\r\n                                <div>\r\n                                    <span className=\"text-muted-foreground\">Tiempo Restante:</span>\r\n                                    <span className=\"ml-2 font-semibold\">{process.tiempoRestante} ticks</span>\r\n                                </div>\r\n                                <div>\r\n                                    <span className=\"text-muted-foreground\">Tiempo de Llegada:</span>\r\n                                    <span className=\"ml-2 font-semibold\">t={process.tiempoLlegada}</span>\r\n                                </div>\r\n                                <div>\r\n                                    <span className=\"text-muted-foreground\">Tiempo de Inicio:</span>\r\n                                    <span className=\"ml-2 font-semibold\">{process.tiempoInicio >= 0 ? `t=${process.tiempoInicio}` : \"No iniciado\"}</span>\r\n                                </div>\r\n                                <div>\r\n                                    <span className=\"text-muted-foreground\">Tiempo Final:</span>\r\n                                    <span className=\"ml-2 font-semibold\">{process.tiempoFinal >= 0 ? `t=${process.tiempoFinal}` : \"No terminado\"}</span>\r\n                                </div>\r\n                                <div>\r\n                                    <span className=\"text-muted-foreground\">Progreso:</span>\r\n                                    <span className=\"ml-2 font-semibold\">{process.porcentajeProcesado.toFixed(1)}%</span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Barra de Progreso */}\r\n                            <div className=\"mt-3\">\r\n                                <div className=\"w-full bg-background rounded h-3\">\r\n                                    <div\r\n                                        className=\"bg-gradient-to-r from-green-500 to-blue-500 h-full rounded transition-all\"\r\n                                        style={{ width: `${process.porcentajeProcesado}%` }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Métricas de Rendimiento */}\r\n                        <div className=\"p-4 bg-muted rounded-lg\">\r\n                            <h3 className=\"text-sm font-bold mb-3 text-primary\">Métricas de Rendimiento</h3>\r\n                            <div className=\"grid grid-cols-2 gap-3 text-sm\">\r\n                                <div>\r\n                                    <span className=\"text-muted-foreground\">Tiempo de Espera:</span>\r\n                                    <span className=\"ml-2 font-semibold text-blue-600\">{process.tiempoEspera} ticks</span>\r\n                                </div>\r\n                                <div>\r\n                                    <span className=\"text-muted-foreground\">Tiempo de Respuesta:</span>\r\n                                    <span className=\"ml-2 font-semibold text-purple-600\">\r\n                                        {process.tiempoRespuesta >= 0 ? `${process.tiempoRespuesta} ticks` : \"N/A\"}\r\n                                    </span>\r\n                                </div>\r\n                                <div>\r\n                                    <span className=\"text-muted-foreground\">Tiempo de Retorno:</span>\r\n                                    <span className=\"ml-2 font-semibold text-green-600\">\r\n                                        {process.tiempoTurnaround >= 0 ? `${process.tiempoTurnaround} ticks` : \"N/A\"}\r\n                                    </span>\r\n                                </div>\r\n                                <div>\r\n                                    <span className=\"text-muted-foreground\">Cambios de Contexto:</span>\r\n                                    <span className=\"ml-2 font-semibold\">{process.cambiosContexto}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Gestión de Memoria */}\r\n                        <div className=\"p-4 bg-muted rounded-lg\">\r\n                            <h3 className=\"text-sm font-bold mb-3 text-primary\">Gestión de Memoria</h3>\r\n                            <div className=\"grid grid-cols-2 gap-3 text-sm\">\r\n                                <div>\r\n                                    <span className=\"text-muted-foreground\">Tamaño:</span>\r\n                                    <span className=\"ml-2 font-semibold\">{(process.tamanio / 1024).toFixed(0)} KB</span>\r\n                                </div>\r\n                                <div>\r\n                                    <span className=\"text-muted-foreground\">Dirección Base:</span>\r\n                                    <span className=\"ml-2 font-mono text-xs\">0x{process.dirBase.toString(16).toUpperCase()}</span>\r\n                                </div>\r\n                                <div>\r\n                                    <span className=\"text-muted-foreground\">Stack Pointer:</span>\r\n                                    <span className=\"ml-2 font-mono text-xs\">0x{process.stackPointer.toString(16).toUpperCase()}</span>\r\n                                </div>\r\n                                <div>\r\n                                    <span className=\"text-muted-foreground\">Heap Pointer:</span>\r\n                                    <span className=\"ml-2 font-mono text-xs\">0x{process.heapPointer.toString(16).toUpperCase()}</span>\r\n                                </div>\r\n                                <div>\r\n                                    <span className=\"text-muted-foreground\">Datos:</span>\r\n                                    <span className=\"ml-2 font-semibold\">{process.porcentajeDatos}%</span>\r\n                                </div>\r\n                                <div>\r\n                                    <span className=\"text-muted-foreground\">Variables:</span>\r\n                                    <span className=\"ml-2 font-semibold\">{process.porcentajeVariable}%</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Interrupciones y Errores */}\r\n                        <div className=\"p-4 bg-muted rounded-lg\">\r\n                            <h3 className=\"text-sm font-bold mb-3 text-primary\">Interrupciones y Errores</h3>\r\n                            <div className=\"grid grid-cols-2 gap-3 text-sm\">\r\n                                <div>\r\n                                    <span className=\"text-muted-foreground\">Interrupciones:</span>\r\n                                    <span className=\"ml-2 font-semibold\">{process.interrupciones} / {process.maxInterrupciones}</span>\r\n                                </div>\r\n                                <div>\r\n                                    <span className=\"text-muted-foreground\">Errores:</span>\r\n                                    <span className=\"ml-2 font-semibold text-red-600\">{process.errores}</span>\r\n                                </div>\r\n                                {process.ioType && (\r\n                                    <>\r\n                                        <div>\r\n                                            <span className=\"text-muted-foreground\">Dispositivo I/O:</span>\r\n                                            <span className=\"ml-2 font-semibold capitalize\">{process.ioType}</span>\r\n                                        </div>\r\n                                        <div>\r\n                                            <span className=\"text-muted-foreground\">Tiempo I/O Restante:</span>\r\n                                            <span className=\"ml-2 font-semibold\">{process.ioTimeRemaining} ticks</span>\r\n                                        </div>\r\n                                    </>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Fórmulas de Cálculo */}\r\n                        <div className=\"p-4 bg-muted/50 rounded-lg border border-border\">\r\n                            <h3 className=\"text-xs font-bold mb-2 text-muted-foreground\">Fórmulas de Cálculo</h3>\r\n                            <div className=\"text-[10px] text-muted-foreground space-y-1\">\r\n                                <div>• <strong>Tiempo de Espera:</strong> Acumulado en cola Ready</div>\r\n                                <div>• <strong>Tiempo de Respuesta:</strong> {process.tiempoInicio} - {process.tiempoLlegada} = {process.tiempoRespuesta >= 0 ? process.tiempoRespuesta : \"N/A\"}</div>\r\n                                <div>• <strong>Tiempo de Retorno:</strong> {process.tiempoFinal >= 0 ? `${process.tiempoFinal} - ${process.tiempoLlegada} = ${process.tiempoTurnaround}` : \"Pendiente\"}</div>\r\n                                <div>• <strong>Progreso:</strong> ({process.burstTime - process.tiempoRestante} / {process.burstTime}) × 100 = {process.porcentajeProcesado.toFixed(1)}%</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </ScrollArea>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3120, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/components/panels/process-panel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Progress } from \"@/components/ui/progress\"\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from \"@/components/ui/dialog\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { Plus, Edit, Trash2, Info } from \"lucide-react\"\r\nimport { DeviceType } from \"@/lib/types\"\r\nimport ProcessDetailsModal from \"./process-details-modal\"\r\n\r\nexport default function ProcessPanel({ state, onCreate, onEdit, onDelete, simulator }: any) {\r\n  const [modalOpen, setModalOpen] = useState(false)\r\n  const [editModalOpen, setEditModalOpen] = useState(false)\r\n  const [editingPid, setEditingPid] = useState<number | null>(null)\r\n  const [detailsModalOpen, setDetailsModalOpen] = useState(false)\r\n  const [selectedProcess, setSelectedProcess] = useState<any>(null)\r\n  const [formData, setFormData] = useState({\r\n    nombre: \"\",\r\n    tamanio: \"\",\r\n    burst: \"\",\r\n    prioridad: \"\",\r\n    dispositivoIO: \"\",\r\n    maxInterrupciones: \"\",\r\n    porcentajeDatos: \"\",\r\n    porcentajeVariable: \"\",\r\n  })\r\n  const [editFormData, setEditFormData] = useState({\r\n    tamanio: \"\",\r\n    burst: \"\",\r\n    prioridad: \"\",\r\n    maxInterrupciones: \"\",\r\n    porcentajeDatos: \"\",\r\n    porcentajeVariable: \"\",\r\n  })\r\n\r\n  if (!state) return null\r\n\r\n  const handleCreateProcess = () => {\r\n    const tamanio = formData.tamanio ? parseInt(formData.tamanio) * 1024 : undefined // Convert KB to bytes\r\n    const burst = formData.burst ? parseInt(formData.burst) : undefined\r\n    const prioridad = formData.prioridad ? parseInt(formData.prioridad) : undefined\r\n    const maxInterrupciones = formData.maxInterrupciones ? parseInt(formData.maxInterrupciones) : undefined\r\n    const porcentajeDatos = formData.porcentajeDatos ? parseInt(formData.porcentajeDatos) : undefined\r\n    const porcentajeVariable = formData.porcentajeVariable ? parseInt(formData.porcentajeVariable) : undefined\r\n\r\n    onCreate(tamanio, burst, prioridad, maxInterrupciones, porcentajeDatos, porcentajeVariable)\r\n    setModalOpen(false)\r\n    setFormData({\r\n      nombre: \"\",\r\n      tamanio: \"\",\r\n      burst: \"\",\r\n      prioridad: \"\",\r\n      dispositivoIO: \"\",\r\n      maxInterrupciones: \"\",\r\n      porcentajeDatos: \"\",\r\n      porcentajeVariable: \"\",\r\n    })\r\n  }\r\n\r\n  const handleEditClick = (pid: number) => {\r\n    const proceso = state.procesos.find((p: any) => p.pid === pid)\r\n    if (proceso) {\r\n      setEditingPid(pid)\r\n      setEditFormData({\r\n        tamanio: (proceso.tamanio / 1024).toString(),\r\n        burst: proceso.burstTime.toString(),\r\n        prioridad: proceso.prioridad.toString(),\r\n        maxInterrupciones: proceso.maxInterrupciones.toString(),\r\n        porcentajeDatos: proceso.porcentajeDatos.toString(),\r\n        porcentajeVariable: proceso.porcentajeVariable.toString(),\r\n      })\r\n      setEditModalOpen(true)\r\n    }\r\n  }\r\n\r\n  const handleEditProcess = () => {\r\n    if (editingPid === null) return\r\n\r\n    const tamanio = editFormData.tamanio ? parseInt(editFormData.tamanio) * 1024 : undefined\r\n    const burst = editFormData.burst ? parseInt(editFormData.burst) : undefined\r\n    const prioridad = editFormData.prioridad ? parseInt(editFormData.prioridad) : undefined\r\n    const maxInterrupciones = editFormData.maxInterrupciones ? parseInt(editFormData.maxInterrupciones) : undefined\r\n    const porcentajeDatos = editFormData.porcentajeDatos ? parseInt(editFormData.porcentajeDatos) : undefined\r\n    const porcentajeVariable = editFormData.porcentajeVariable ? parseInt(editFormData.porcentajeVariable) : undefined\r\n\r\n    onEdit(editingPid, {\r\n      tamanio,\r\n      burstTime: burst,\r\n      prioridad,\r\n      maxInterrupciones,\r\n      porcentajeDatos,\r\n      porcentajeVariable,\r\n    })\r\n    setEditModalOpen(false)\r\n    setEditingPid(null)\r\n  }\r\n\r\n  const handleDeleteClick = (pid: number) => {\r\n    if (confirm(`¿Está seguro de eliminar el proceso PID ${pid}?`)) {\r\n      onDelete(pid)\r\n    }\r\n  }\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case \"running\": return \"bg-green-500\"\r\n      case \"ready\": return \"bg-blue-500\"\r\n      case \"blocked\": return \"bg-red-500\"\r\n      case \"new\": return \"bg-yellow-500\"\r\n      case \"terminated\": return \"bg-gray-500\"\r\n      default: return \"bg-gray-500\"\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Card className=\"p-4 h-[500px] flex flex-col border-border overflow-hidden\">\r\n      <div className=\"flex justify-between items-center mb-4 flex-shrink-0\">\r\n        <h2 className=\"text-lg font-bold\">Gestión de Procesos</h2>\r\n        <div className=\"flex gap-2\">\r\n          <Button size=\"sm\" onClick={() => setModalOpen(true)}>\r\n            <Plus className=\"w-4 h-4 mr-1\" /> Nuevo Proceso\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-5 gap-2 mb-2 text-xs font-semibold text-muted-foreground text-center flex-shrink-0\">\r\n        <div>PID / Estado</div>\r\n        <div>Memoria</div>\r\n        <div>CPU / Tiempos</div>\r\n        <div>Contadores</div>\r\n        <div>Segmentos</div>\r\n      </div>\r\n\r\n      <ScrollArea className=\"flex-1 min-h-0 overflow-y-auto\">\r\n        <div className=\"space-y-2 pr-4\">\r\n          {state.procesos.map((proc: any) => (\r\n            <div\r\n              key={proc.pid}\r\n              className={`p-3 rounded-lg border ${proc.estado === \"running\" ? \"border-green-500 bg-green-500/10\" : \"border-border bg-card\"\r\n                }`}\r\n            >\r\n              <div className=\"grid grid-cols-5 gap-2 text-xs items-center\">\r\n                {/* PID & Status */}\r\n                <div className=\"flex flex-col gap-1\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <span className=\"font-bold text-lg\">#{proc.pid}</span>\r\n                    <Badge variant=\"outline\" className={`${getStatusColor(proc.estado)} text-white border-none`}>\r\n                      {proc.estado.toUpperCase()}\r\n                    </Badge>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-1 mt-1\">\r\n                    <Button\r\n                      size=\"sm\"\r\n                      variant=\"ghost\"\r\n                      className=\"h-6 w-6 p-0 text-blue-500 hover:text-blue-700\"\r\n                      onClick={() => {\r\n                        setSelectedProcess(proc);\r\n                        setDetailsModalOpen(true);\r\n                      }}\r\n                      title=\"Ver detalles\"\r\n                    >\r\n                      <Info className=\"w-3 h-3\" />\r\n                    </Button>\r\n                    <Button\r\n                      size=\"sm\"\r\n                      variant=\"ghost\"\r\n                      className=\"h-6 w-6 p-0\"\r\n                      onClick={() => handleEditClick(proc.pid)}\r\n                      title=\"Editar proceso\"\r\n                    >\r\n                      <Edit className=\"w-3 h-3\" />\r\n                    </Button>\r\n                    <Button\r\n                      size=\"sm\"\r\n                      variant=\"ghost\"\r\n                      className=\"h-6 w-6 p-0 text-red-500 hover:text-red-700\"\r\n                      onClick={() => handleDeleteClick(proc.pid)}\r\n                      title=\"Eliminar proceso\"\r\n                    >\r\n                      <Trash2 className=\"w-3 h-3\" />\r\n                    </Button>\r\n                  </div>\r\n                  <span className=\"text-[10px] text-muted-foreground\">\r\n                    Prioridad: {proc.prioridad}\r\n                  </span>\r\n                </div>\r\n\r\n                {/* Memory */}\r\n                <div className=\"flex flex-col gap-1\">\r\n                  <div>Size: {(proc.tamanio / 1024).toFixed(0)} KB</div>\r\n                  <div className=\"text-[10px] text-muted-foreground\">\r\n                    Base: {proc.dirBase === -1 ? \"Pend.\" : `0x${proc.dirBase.toString(16).toUpperCase()}`}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* CPU */}\r\n                <div className=\"flex flex-col gap-1 w-full\">\r\n                  <div className=\"flex justify-between text-[10px]\">\r\n                    <span>PC: {proc.programCounter}</span>\r\n                    <span>{proc.porcentajeProcesado.toFixed(0)}%</span>\r\n                  </div>\r\n                  <Progress value={proc.porcentajeProcesado} className=\"h-1.5\" />\r\n                  <div className=\"text-[10px] text-muted-foreground mt-1\">\r\n                    Burst: {proc.burstTime} | Rest: {proc.tiempoRestante}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Counters */}\r\n                <div className=\"grid grid-cols-2 gap-x-2 gap-y-1 text-[10px]\">\r\n                  <div>Wait: {proc.tiempoEspera}</div>\r\n                  <div>Turn: {proc.tiempoTurnaround}</div>\r\n                  <div>Ctx: {proc.cambiosContexto}</div>\r\n                  <div>I/O: {proc.interrupciones}</div>\r\n                  <div className=\"text-red-500\">Err: {proc.errores}</div>\r\n                </div>\r\n\r\n                {/* Segments */}\r\n                <div className=\"flex flex-col gap-1 text-[10px]\">\r\n                  <div className=\"flex justify-between\">\r\n                    <span>Data: {proc.porcentajeDatos}%</span>\r\n                    <span>Var: {proc.porcentajeVariable}%</span>\r\n                  </div>\r\n                  <div className=\"w-full bg-muted h-1.5 rounded-full overflow-hidden flex\">\r\n                    <div className=\"bg-blue-400 h-full\" style={{ width: `${proc.porcentajeDatos}%` }} title=\"Data\" />\r\n                    <div className=\"bg-yellow-400 h-full\" style={{ width: `${proc.porcentajeVariable}%` }} title=\"Variable\" />\r\n                    <div className=\"bg-gray-300 h-full flex-1\" title=\"Code/Stack\" />\r\n                  </div>\r\n                  <div className=\"flex justify-between text-[9px] text-muted-foreground mt-0.5\">\r\n                    <span>SP: {proc.stackPointer}</span>\r\n                    <span>HP: {proc.heapPointer}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </ScrollArea>\r\n\r\n      {/* Modal de Creación de Proceso */}\r\n      <Dialog open={modalOpen} onOpenChange={setModalOpen}>\r\n        <DialogContent className=\"max-w-md max-h-[90vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle>Crear Nuevo Proceso</DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4 py-4\">\r\n            <div>\r\n              <Label htmlFor=\"nombre\">Nombre del Proceso</Label>\r\n              <Input\r\n                id=\"nombre\"\r\n                value={formData.nombre}\r\n                onChange={(e) => setFormData({ ...formData, nombre: e.target.value })}\r\n                placeholder=\"Nombre (opcional)\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"tamanio\">Tamaño (KB)</Label>\r\n              <Input\r\n                id=\"tamanio\"\r\n                type=\"number\"\r\n                min=\"32\"\r\n                max=\"512\"\r\n                value={formData.tamanio}\r\n                onChange={(e) => setFormData({ ...formData, tamanio: e.target.value })}\r\n                placeholder=\"32-512 KB\"\r\n              />\r\n              <p className=\"text-xs text-muted-foreground mt-1\">\r\n                Se ajustará a la potencia de 2 más cercana\r\n              </p>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"burst\">Burst Time</Label>\r\n              <Input\r\n                id=\"burst\"\r\n                type=\"number\"\r\n                min=\"5\"\r\n                max=\"20\"\r\n                value={formData.burst}\r\n                onChange={(e) => setFormData({ ...formData, burst: e.target.value })}\r\n                placeholder=\"5-20\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"prioridad\">Prioridad</Label>\r\n              <Input\r\n                id=\"prioridad\"\r\n                type=\"number\"\r\n                min=\"0\"\r\n                max=\"3\"\r\n                value={formData.prioridad}\r\n                onChange={(e) => setFormData({ ...formData, prioridad: e.target.value })}\r\n                placeholder=\"0-3 (menor = mayor prioridad)\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"dispositivoIO\">Tipo de Dispositivo I/O</Label>\r\n              <Select\r\n                value={formData.dispositivoIO}\r\n                onValueChange={(value) => setFormData({ ...formData, dispositivoIO: value })}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Seleccionar dispositivo\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"disk\">Disk</SelectItem>\r\n                  <SelectItem value=\"printer\">Printer</SelectItem>\r\n                  <SelectItem value=\"monitor\">Monitor</SelectItem>\r\n                  <SelectItem value=\"network\">Network</SelectItem>\r\n                  <SelectItem value=\"keyboard\">Keyboard</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n              <p className=\"text-xs text-muted-foreground mt-1\">\r\n                El dispositivo se asignará aleatoriamente si no se especifica\r\n              </p>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"maxInterrupciones\">Máximo de Interrupciones</Label>\r\n              <Input\r\n                id=\"maxInterrupciones\"\r\n                type=\"number\"\r\n                min=\"5\"\r\n                max=\"20\"\r\n                value={formData.maxInterrupciones}\r\n                onChange={(e) => setFormData({ ...formData, maxInterrupciones: e.target.value })}\r\n                placeholder=\"5-20\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"porcentajeDatos\">Porcentaje de Datos (%)</Label>\r\n              <Input\r\n                id=\"porcentajeDatos\"\r\n                type=\"number\"\r\n                min=\"10\"\r\n                max=\"40\"\r\n                value={formData.porcentajeDatos}\r\n                onChange={(e) => setFormData({ ...formData, porcentajeDatos: e.target.value })}\r\n                placeholder=\"10-40%\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"porcentajeVariable\">Porcentaje Variable (%)</Label>\r\n              <Input\r\n                id=\"porcentajeVariable\"\r\n                type=\"number\"\r\n                min=\"5\"\r\n                max=\"25\"\r\n                value={formData.porcentajeVariable}\r\n                onChange={(e) => setFormData({ ...formData, porcentajeVariable: e.target.value })}\r\n                placeholder=\"5-25%\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setModalOpen(false)}>\r\n              Cancelar\r\n            </Button>\r\n            <Button onClick={handleCreateProcess}>\r\n              Crear Proceso\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Modal de Edición de Proceso */}\r\n      <Dialog open={editModalOpen} onOpenChange={setEditModalOpen}>\r\n        <DialogContent className=\"max-w-md max-h-[90vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle>Editar Proceso PID {editingPid}</DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4 py-4\">\r\n            <div>\r\n              <Label htmlFor=\"edit-tamanio\">Tamaño (KB)</Label>\r\n              <Input\r\n                id=\"edit-tamanio\"\r\n                type=\"number\"\r\n                min=\"32\"\r\n                max=\"512\"\r\n                value={editFormData.tamanio}\r\n                onChange={(e) => setEditFormData({ ...editFormData, tamanio: e.target.value })}\r\n                placeholder=\"32-512 KB\"\r\n              />\r\n              <p className=\"text-xs text-muted-foreground mt-1\">\r\n                Se ajustará a la potencia de 2 más cercana\r\n              </p>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"edit-burst\">Burst Time</Label>\r\n              <Input\r\n                id=\"edit-burst\"\r\n                type=\"number\"\r\n                min=\"5\"\r\n                max=\"20\"\r\n                value={editFormData.burst}\r\n                onChange={(e) => setEditFormData({ ...editFormData, burst: e.target.value })}\r\n                placeholder=\"5-20\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"edit-prioridad\">Prioridad</Label>\r\n              <Input\r\n                id=\"edit-prioridad\"\r\n                type=\"number\"\r\n                min=\"0\"\r\n                max=\"3\"\r\n                value={editFormData.prioridad}\r\n                onChange={(e) => setEditFormData({ ...editFormData, prioridad: e.target.value })}\r\n                placeholder=\"0-3 (menor = mayor prioridad)\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"edit-maxInterrupciones\">Máximo de Interrupciones</Label>\r\n              <Input\r\n                id=\"edit-maxInterrupciones\"\r\n                type=\"number\"\r\n                min=\"5\"\r\n                max=\"20\"\r\n                value={editFormData.maxInterrupciones}\r\n                onChange={(e) => setEditFormData({ ...editFormData, maxInterrupciones: e.target.value })}\r\n                placeholder=\"5-20\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"edit-porcentajeDatos\">Porcentaje de Datos (%)</Label>\r\n              <Input\r\n                id=\"edit-porcentajeDatos\"\r\n                type=\"number\"\r\n                min=\"10\"\r\n                max=\"40\"\r\n                value={editFormData.porcentajeDatos}\r\n                onChange={(e) => setEditFormData({ ...editFormData, porcentajeDatos: e.target.value })}\r\n                placeholder=\"10-40%\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"edit-porcentajeVariable\">Porcentaje Variable (%)</Label>\r\n              <Input\r\n                id=\"edit-porcentajeVariable\"\r\n                type=\"number\"\r\n                min=\"5\"\r\n                max=\"25\"\r\n                value={editFormData.porcentajeVariable}\r\n                onChange={(e) => setEditFormData({ ...editFormData, porcentajeVariable: e.target.value })}\r\n                placeholder=\"5-25%\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setEditModalOpen(false)}>\r\n              Cancelar\r\n            </Button>\r\n            <Button onClick={handleEditProcess}>\r\n              Guardar Cambios\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Modal de Detalles de Proceso */}\r\n      <ProcessDetailsModal\r\n        process={selectedProcess}\r\n        isOpen={detailsModalOpen}\r\n        onClose={() => {\r\n          setDetailsModalOpen(false);\r\n          setSelectedProcess(null);\r\n        }}\r\n      />\r\n    </Card>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4437, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/components/panels/memory-panel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { AlertTriangle } from \"lucide-react\"\r\nimport { useState } from \"react\"\r\n\r\nexport default function MemoryPanel({ state, simulator }: any) {\r\n  if (!state) return null\r\n  const [isCompacting, setIsCompacting] = useState(false);\r\n\r\n  // El tamaño total de memoria es fijo: 2MB\r\n  const MEMORY_SIZE = 2 * 1024 * 1024; // 2MB\r\n  const totalMem = MEMORY_SIZE\r\n\r\n  // Calcular memoria usada: suma de bloques ocupados\r\n  const usedMem = state.memoria.reduce((acc: number, b: any) => acc + (b.ocupado ? b.tamanio : 0), 0)\r\n\r\n  // Calcular porcentaje de uso (asegurarse de que no exceda 100%)\r\n  const usagePct = totalMem > 0 ? Math.min((usedMem / totalMem) * 100, 100) : 0\r\n\r\n  // Calcular fragmentación usando los valores del estado\r\n  const fragmentation = state.fragmentation || { internal: 0, external: 0, externalHoles: 0, largestHole: 0 }\r\n  const internalFragKB = fragmentation.internal / 1024\r\n  const externalFragKB = fragmentation.external / 1024\r\n  const externalFragPct = totalMem > 0 ? (fragmentation.external / totalMem) * 100 : 0\r\n\r\n  const freeBlocks = state.memoria.filter((b: any) => !b.ocupado).length\r\n\r\n  // High fragmentation warning threshold\r\n  const isHighFragmentation = externalFragPct > 30 && fragmentation.externalHoles > 2;\r\n\r\n  const handleCompaction = async () => {\r\n    if (!simulator) return;\r\n    setIsCompacting(true);\r\n    try {\r\n      simulator.compactarMemoria();\r\n    } finally {\r\n      setTimeout(() => setIsCompacting(false), 500);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className=\"p-4 border border-border h-[400px] flex flex-col\">\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <h2 className=\"text-lg font-bold\">Gestión de Memoria</h2>\r\n        <div className=\"flex items-center gap-2\">\r\n          <div className=\"text-xs text-muted-foreground text-right\">\r\n            <div>Total: {(totalMem / 1024).toFixed(0)} KB</div>\r\n            <div>Uso: {usagePct.toFixed(1)}%</div>\r\n            <div>Bloques Libres: {freeBlocks}</div>\r\n          </div>\r\n          {simulator && fragmentation.externalHoles > 1 && (\r\n            <Button\r\n              size=\"sm\"\r\n              variant=\"outline\"\r\n              className=\"h-8 text-xs\"\r\n              onClick={handleCompaction}\r\n              disabled={isCompacting}\r\n            >\r\n              {isCompacting ? \"Compactando...\" : \"Compactar\"}\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* High Fragmentation Warning */}\r\n      {isHighFragmentation && (\r\n        <div className=\"mb-3 p-2 bg-yellow-500/10 border border-yellow-500 rounded flex items-center gap-2\">\r\n          <AlertTriangle className=\"h-4 w-4 text-yellow-500\" />\r\n          <span className=\"text-xs text-yellow-700\">\r\n            Alta fragmentación externa detectada ({externalFragKB.toFixed(1)} KB en {fragmentation.externalHoles} huecos)\r\n          </span>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"flex-1 relative bg-muted rounded-lg overflow-hidden border border-border\">\r\n        <ScrollArea className=\"h-full w-full\">\r\n          <div className=\"flex flex-wrap content-start p-1 gap-0.5\">\r\n            {state.memoria.map((bloque: any, idx: number) => {\r\n              const sizeKB = bloque.tamanio / 1024\r\n              // Identify unusable small holes (< 32KB and free)\r\n              const isUnusableHole = !bloque.ocupado && bloque.tamanio < 32 * 1024;\r\n\r\n              return (\r\n                <div\r\n                  key={idx}\r\n                  className={`\r\n                    h-16 border rounded flex flex-col items-center justify-center text-[10px] relative overflow-hidden transition-all\r\n                    ${bloque.ocupado\r\n                      ? \"bg-blue-500/20 border-blue-500 text-blue-700\"\r\n                      : isUnusableHole\r\n                        ? \"bg-red-500/20 border-red-500 text-red-700 animate-pulse\"\r\n                        : \"bg-green-500/10 border-green-500 text-green-700\"\r\n                    }\r\n                  `}\r\n                  style={{\r\n                    width: `calc(${(bloque.tamanio / totalMem) * 100}% - 2px)`,\r\n                    minWidth: \"40px\"\r\n                  }}\r\n                  title={`Addr: ${bloque.direccionInicio} - ${bloque.direccionFin} | Size: ${sizeKB}KB${isUnusableHole ? \" (Muy pequeño)\" : \"\"}`}\r\n                >\r\n                  <span className=\"font-bold\">{sizeKB} KB</span>\r\n                  {bloque.ocupado ? (\r\n                    <span className=\"text-xs font-bold\">PID {bloque.pid}</span>\r\n                  ) : (\r\n                    <span className=\"opacity-50\">\r\n                      {isUnusableHole ? \"Hueco\" : \"Free\"}\r\n                    </span>\r\n                  )}\r\n                  <div className=\"absolute bottom-0 right-1 text-[8px] opacity-50\">\r\n                    0x{bloque.direccionInicio.toString(16).toUpperCase()}\r\n                  </div>\r\n                </div>\r\n              )\r\n            })}\r\n          </div>\r\n        </ScrollArea>\r\n      </div>\r\n\r\n      <div className=\"mt-4 grid grid-cols-4 gap-4 text-xs\">\r\n        <div className=\"p-2 bg-muted rounded\">\r\n          <span className=\"font-bold block mb-1\">Fragmentación Externa</span>\r\n          <div>{externalFragKB.toFixed(1)} KB</div>\r\n          <div className=\"text-[10px] opacity-70\">{fragmentation.externalHoles} huecos</div>\r\n        </div>\r\n        <div className=\"p-2 bg-muted rounded\">\r\n          <span className=\"font-bold block mb-1\">Hueco Más Grande</span>\r\n          <div>{(fragmentation.largestHole / 1024).toFixed(1)} KB</div>\r\n        </div>\r\n        <div className=\"p-2 bg-muted rounded\">\r\n          <span className=\"font-bold block mb-1\">Frag. Interna</span>\r\n          <div>{internalFragKB.toFixed(1)} KB</div>\r\n        </div>\r\n        <div className=\"p-2 bg-muted rounded\">\r\n          <span className=\"font-bold block mb-1\">Rechazos</span>\r\n          <div className={fragmentation.rechazosFragmentacion > 0 ? \"text-red-500 font-bold\" : \"text-green-500\"}>\r\n            {fragmentation.rechazosFragmentacion || 0}\r\n          </div>\r\n          <div className=\"text-[10px] opacity-70\">por fragmentación</div>\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4835, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/components/panels/scheduler-panel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\n\r\nexport default function SchedulerPanel({ state, simulator, onStateChange }: any) {\r\n  const [quantum, setQuantum] = useState(state.quantum)\r\n\r\n  const changeScheduler = (scheduler: any) => {\r\n    simulator?.setScheduler(scheduler)\r\n    onStateChange()\r\n  }\r\n\r\n  const toggleApropiativo = () => {\r\n    simulator?.setApropiativo(!state.apropiativo)\r\n    onStateChange()\r\n  }\r\n\r\n  const updateQuantum = (value: string) => {\r\n    const numValue = parseInt(value, 10)\r\n    if (!isNaN(numValue) && numValue > 0) {\r\n      setQuantum(numValue)\r\n      simulator?.setQuantum(numValue)\r\n      onStateChange()\r\n    }\r\n  }\r\n\r\n  const changeMemoryStrategy = (strategy: \"FirstFit\" | \"BestFit\" | \"WorstFit\") => {\r\n    simulator?.setMemoryStrategy(strategy)\r\n    onStateChange()\r\n  }\r\n\r\n  return (\r\n    <Card className=\"p-4 border border-border\">\r\n      <h2 className=\"text-lg font-bold mb-4\">Scheduler</h2>\r\n\r\n      <div className=\"space-y-3\">\r\n        <div>\r\n          <p className=\"text-sm font-semibold mb-2\">Política Actual:</p>\r\n          <div className=\"grid grid-cols-2 gap-2\">\r\n            {[\"FCFS\", \"SJF\", \"RoundRobin\", \"Prioridades\"].map((sched) => (\r\n              <Button\r\n                key={sched}\r\n                onClick={() => changeScheduler(sched)}\r\n                variant={state.scheduler === sched ? \"default\" : \"outline\"}\r\n                size=\"sm\"\r\n                className=\"text-xs\"\r\n              >\r\n                {sched}\r\n              </Button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {state.scheduler === \"RoundRobin\" && (\r\n          <div>\r\n            <label className=\"text-sm font-semibold mb-2 block\">Quantum:</label>\r\n            <Input\r\n              type=\"number\"\r\n              min=\"1\"\r\n              max=\"100\"\r\n              value={quantum}\r\n              onChange={(e) => updateQuantum(e.target.value)}\r\n              className=\"w-full\"\r\n              placeholder=\"Ingrese el quantum\"\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        <div>\r\n          <p className=\"text-sm font-semibold mb-2\">Estrategia de Memoria:</p>\r\n          <div className=\"grid grid-cols-3 gap-2\">\r\n            {[\"FirstFit\", \"BestFit\", \"WorstFit\"].map((strategy) => (\r\n              <Button\r\n                key={strategy}\r\n                onClick={() => changeMemoryStrategy(strategy as \"FirstFit\" | \"BestFit\" | \"WorstFit\")}\r\n                variant={state.memoryStrategy === strategy ? \"default\" : \"outline\"}\r\n                size=\"sm\"\r\n                className=\"text-xs\"\r\n              >\r\n                {strategy}\r\n              </Button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-center justify-between p-2 bg-muted rounded\">\r\n          <span className=\"text-sm\">Modo Apropiativo</span>\r\n          <button\r\n            onClick={toggleApropiativo}\r\n            className={`w-12 h-6 rounded-full transition ${state.apropiativo ? \"bg-green-600\" : \"bg-gray-400\"}`}\r\n          >\r\n            <div\r\n              className={`w-5 h-5 bg-white rounded-full transition transform ${\r\n                state.apropiativo ? \"translate-x-6\" : \"translate-x-1\"\r\n              }`}\r\n            />\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"mt-4 p-3 bg-muted rounded text-xs space-y-1\">\r\n          <div>\r\n            Procesos Total: <span className=\"font-bold\">{state.procesos.length}</span>\r\n          </div>\r\n          <div>\r\n            Cambios Contexto: <span className=\"font-bold\">{state.cambiosContextoTotal}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS,eAAe,EAAE,KAAK,EAAE,SAAS,EAAE,aAAa,EAAO;;IAC7E,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,4QAAQ,EAAC,MAAM,OAAO;IAEpD,MAAM,kBAAkB,CAAC;QACvB,WAAW,aAAa;QACxB;IACF;IAEA,MAAM,oBAAoB;QACxB,WAAW,eAAe,CAAC,MAAM,WAAW;QAC5C;IACF;IAEA,MAAM,gBAAgB,CAAC;QACrB,MAAM,WAAW,SAAS,OAAO;QACjC,IAAI,CAAC,MAAM,aAAa,WAAW,GAAG;YACpC,WAAW;YACX,WAAW,WAAW;YACtB;QACF;IACF;IAEA,MAAM,uBAAuB,CAAC;QAC5B,WAAW,kBAAkB;QAC7B;IACF;IAEA,qBACE,gSAAC,uOAAI;QAAC,WAAU;;0BACd,gSAAC;gBAAG,WAAU;0BAAyB;;;;;;0BAEvC,gSAAC;gBAAI,WAAU;;kCACb,gSAAC;;0CACC,gSAAC;gCAAE,WAAU;0CAA6B;;;;;;0CAC1C,gSAAC;gCAAI,WAAU;0CACZ;oCAAC;oCAAQ;oCAAO;oCAAc;iCAAc,CAAC,GAAG,CAAC,CAAC,sBACjD,gSAAC,2OAAM;wCAEL,SAAS,IAAM,gBAAgB;wCAC/B,SAAS,MAAM,SAAS,KAAK,QAAQ,YAAY;wCACjD,MAAK;wCACL,WAAU;kDAET;uCANI;;;;;;;;;;;;;;;;oBAYZ,MAAM,SAAS,KAAK,8BACnB,gSAAC;;0CACC,gSAAC;gCAAM,WAAU;0CAAmC;;;;;;0CACpD,gSAAC,yOAAK;gCACJ,MAAK;gCACL,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;gCAC7C,WAAU;gCACV,aAAY;;;;;;;;;;;;kCAKlB,gSAAC;;0CACC,gSAAC;gCAAE,WAAU;0CAA6B;;;;;;0CAC1C,gSAAC;gCAAI,WAAU;0CACZ;oCAAC;oCAAY;oCAAW;iCAAW,CAAC,GAAG,CAAC,CAAC,yBACxC,gSAAC,2OAAM;wCAEL,SAAS,IAAM,qBAAqB;wCACpC,SAAS,MAAM,cAAc,KAAK,WAAW,YAAY;wCACzD,MAAK;wCACL,WAAU;kDAET;uCANI;;;;;;;;;;;;;;;;kCAYb,gSAAC;wBAAI,WAAU;;0CACb,gSAAC;gCAAK,WAAU;0CAAU;;;;;;0CAC1B,gSAAC;gCACC,SAAS;gCACT,WAAW,CAAC,iCAAiC,EAAE,MAAM,WAAW,GAAG,iBAAiB,eAAe;0CAEnG,cAAA,gSAAC;oCACC,WAAW,CAAC,mDAAmD,EAC7D,MAAM,WAAW,GAAG,kBAAkB,iBACtC;;;;;;;;;;;;;;;;;kCAKR,gSAAC;wBAAI,WAAU;;0CACb,gSAAC;;oCAAI;kDACa,gSAAC;wCAAK,WAAU;kDAAa,MAAM,QAAQ,CAAC,MAAM;;;;;;;;;;;;0CAEpE,gSAAC;;oCAAI;kDACe,gSAAC;wCAAK,WAAU;kDAAa,MAAM,oBAAoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMrF;GA1GwB;KAAA"}},
    {"offset": {"line": 5093, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/components/panels/interrupts-panel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { AlertCircle } from \"lucide-react\"\r\n\r\nexport default function InterruptsPanel({ state, simulator }: any) {\r\n  if (!state) return null\r\n\r\n  // Find manual interrupts (Keyboard) that are waiting\r\n  const manualInterrupt = state.interrupcionesActivas.find((i: any) => i.esManual && i.estado === \"active\")\r\n\r\n  const handleManualAction = (id: number, action: \"continuar\" | \"cancelar\") => {\r\n    simulator?.resolverInterrupcionManual(id, action)\r\n  }\r\n\r\n  return (\r\n    <Card className=\"p-4 border border-border flex flex-col gap-4\">\r\n      <div className=\"flex justify-between items-start\">\r\n        <h2 className=\"text-lg font-bold\">Interrupciones</h2>\r\n      </div>\r\n\r\n      {/* Manual Intervention Area */}\r\n      {manualInterrupt && (\r\n        <div className=\"bg-yellow-500/20 border border-yellow-500 p-3 rounded-lg animate-pulse\">\r\n          <div className=\"flex items-center gap-2 mb-2 text-yellow-700 font-bold text-sm\">\r\n            <AlertCircle className=\"w-4 h-4\" />\r\n            Interrupción de Teclado (PID {manualInterrupt.pidAsociado})\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            <Button \r\n              size=\"sm\" \r\n              variant=\"default\" \r\n              className=\"w-full bg-green-600 hover:bg-green-700\"\r\n              onClick={() => handleManualAction(manualInterrupt.id, \"continuar\")}\r\n            >\r\n              Continuar\r\n            </Button>\r\n            <Button \r\n              size=\"sm\" \r\n              variant=\"destructive\" \r\n              className=\"w-full\"\r\n              onClick={() => handleManualAction(manualInterrupt.id, \"cancelar\")}\r\n            >\r\n              Cancelar\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Active Interrupts List */}\r\n      <div className=\"space-y-2\">\r\n        <h3 className=\"text-sm font-semibold\">Interrupciones Activas</h3>\r\n        {state.interrupcionesActivas.length === 0 ? (\r\n          <div className=\"text-xs text-muted-foreground italic\">Ninguna interrupción activa</div>\r\n        ) : (\r\n          state.interrupcionesActivas.map((irq: any) => (\r\n            <div key={irq.id} className=\"text-xs p-2 bg-background border border-border rounded flex justify-between items-center\">\r\n              <div>\r\n                <span className=\"font-bold uppercase mr-2\">{irq.dispositivo}</span>\r\n                <span className=\"text-muted-foreground\">PID {irq.pidAsociado}</span>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <div className=\"w-16 h-1.5 bg-muted rounded-full overflow-hidden\">\r\n                  <div \r\n                    className=\"h-full bg-blue-500\" \r\n                    style={{ width: `${(irq.tiempoRestante / irq.duracion) * 100}%` }}\r\n                  />\r\n                </div>\r\n                <span className=\"w-8 text-right\">{irq.tiempoRestante}ms</span>\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </Card>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS,gBAAgB,EAAE,KAAK,EAAE,SAAS,EAAO;IAC/D,IAAI,CAAC,OAAO,OAAO;IAEnB,qDAAqD;IACrD,MAAM,kBAAkB,MAAM,qBAAqB,CAAC,IAAI,CAAC,CAAC,IAAW,EAAE,QAAQ,IAAI,EAAE,MAAM,KAAK;IAEhG,MAAM,qBAAqB,CAAC,IAAY;QACtC,WAAW,2BAA2B,IAAI;IAC5C;IAEA,qBACE,gSAAC,uOAAI;QAAC,WAAU;;0BACd,gSAAC;gBAAI,WAAU;0BACb,cAAA,gSAAC;oBAAG,WAAU;8BAAoB;;;;;;;;;;;YAInC,iCACC,gSAAC;gBAAI,WAAU;;kCACb,gSAAC;wBAAI,WAAU;;0CACb,gSAAC,yUAAW;gCAAC,WAAU;;;;;;4BAAY;4BACL,gBAAgB,WAAW;4BAAC;;;;;;;kCAE5D,gSAAC;wBAAI,WAAU;;0CACb,gSAAC,2OAAM;gCACL,MAAK;gCACL,SAAQ;gCACR,WAAU;gCACV,SAAS,IAAM,mBAAmB,gBAAgB,EAAE,EAAE;0CACvD;;;;;;0CAGD,gSAAC,2OAAM;gCACL,MAAK;gCACL,SAAQ;gCACR,WAAU;gCACV,SAAS,IAAM,mBAAmB,gBAAgB,EAAE,EAAE;0CACvD;;;;;;;;;;;;;;;;;;0BAQP,gSAAC;gBAAI,WAAU;;kCACb,gSAAC;wBAAG,WAAU;kCAAwB;;;;;;oBACrC,MAAM,qBAAqB,CAAC,MAAM,KAAK,kBACtC,gSAAC;wBAAI,WAAU;kCAAuC;;;;;+BAEtD,MAAM,qBAAqB,CAAC,GAAG,CAAC,CAAC,oBAC/B,gSAAC;4BAAiB,WAAU;;8CAC1B,gSAAC;;sDACC,gSAAC;4CAAK,WAAU;sDAA4B,IAAI,WAAW;;;;;;sDAC3D,gSAAC;4CAAK,WAAU;;gDAAwB;gDAAK,IAAI,WAAW;;;;;;;;;;;;;8CAE9D,gSAAC;oCAAI,WAAU;;sDACb,gSAAC;4CAAI,WAAU;sDACb,cAAA,gSAAC;gDACC,WAAU;gDACV,OAAO;oDAAE,OAAO,GAAG,AAAC,IAAI,cAAc,GAAG,IAAI,QAAQ,GAAI,IAAI,CAAC,CAAC;gDAAC;;;;;;;;;;;sDAGpE,gSAAC;4CAAK,WAAU;;gDAAkB,IAAI,cAAc;gDAAC;;;;;;;;;;;;;;2BAZ/C,IAAI,EAAE;;;;;;;;;;;;;;;;;AAoB5B;KAvEwB"}},
    {"offset": {"line": 5304, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/components/panels/devices-panel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\r\n\r\nexport default function DevicesPanel({ state }: any) {\r\n  if (!state) return null\r\n\r\n  const devices = [\"keyboard\", \"disk\", \"printer\", \"monitor\", \"network\"]\r\n\r\n  return (\r\n    <Card className=\"p-4 border border-border\">\r\n      <h2 className=\"text-lg font-bold mb-4\">Colas de Dispositivos (E/S)</h2>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-5 gap-3\">\r\n        {devices.map((device) => {\r\n          const queue = state.colasDispositivos[device] || []\r\n          const active = state.interrupcionesActivas.find((i: any) => i.dispositivo === device)\r\n\r\n          return (\r\n            <div key={device} className=\"flex flex-col h-48 bg-muted rounded border border-border overflow-hidden\">\r\n              <div className=\"p-2 bg-card border-b border-border flex justify-between items-center\">\r\n                <span className=\"font-semibold capitalize text-sm\">{device}</span>\r\n                <Badge variant={active ? \"default\" : \"secondary\"} className=\"text-[10px]\">\r\n                  {active ? \"BUSY\" : \"IDLE\"}\r\n                </Badge>\r\n              </div>\r\n\r\n              {/* Active Process */}\r\n              <div className=\"p-2 bg-blue-500/10 border-b border-border min-h-[50px] flex items-center justify-center\">\r\n                {active ? (\r\n                  <div className=\"text-center\">\r\n                    <div className=\"text-xs font-bold text-blue-600\">Procesando PID {active.pidAsociado}</div>\r\n                    <div className=\"text-[10px] text-muted-foreground\">Restante: {active.tiempoRestante}ms</div>\r\n                  </div>\r\n                ) : (\r\n                  <span className=\"text-[10px] text-muted-foreground\">Esperando solicitud...</span>\r\n                )}\r\n              </div>\r\n\r\n              {/* Queue */}\r\n              <ScrollArea className=\"flex-1 p-2\">\r\n                <div className=\"space-y-1\">\r\n                  {queue.length === 0 ? (\r\n                    <div className=\"text-[10px] text-center text-muted-foreground py-2\">Cola vacía</div>\r\n                  ) : (\r\n                    queue.map((proc: any, idx: number) => (\r\n                      <div key={proc.pid} className=\"text-[10px] p-1.5 bg-background rounded border border-border flex justify-between\">\r\n                        <span className=\"font-mono\">#{idx + 1}</span>\r\n                        <span className=\"font-bold\">PID {proc.pid}</span>\r\n                      </div>\r\n                    ))\r\n                  )}\r\n                </div>\r\n              </ScrollArea>\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n    </Card>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS,aAAa,EAAE,KAAK,EAAO;IACjD,IAAI,CAAC,OAAO,OAAO;IAEnB,MAAM,UAAU;QAAC;QAAY;QAAQ;QAAW;QAAW;KAAU;IAErE,qBACE,gSAAC,uOAAI;QAAC,WAAU;;0BACd,gSAAC;gBAAG,WAAU;0BAAyB;;;;;;0BAEvC,gSAAC;gBAAI,WAAU;0BACZ,QAAQ,GAAG,CAAC,CAAC;oBACZ,MAAM,QAAQ,MAAM,iBAAiB,CAAC,OAAO,IAAI,EAAE;oBACnD,MAAM,SAAS,MAAM,qBAAqB,CAAC,IAAI,CAAC,CAAC,IAAW,EAAE,WAAW,KAAK;oBAE9E,qBACE,gSAAC;wBAAiB,WAAU;;0CAC1B,gSAAC;gCAAI,WAAU;;kDACb,gSAAC;wCAAK,WAAU;kDAAoC;;;;;;kDACpD,gSAAC,yOAAK;wCAAC,SAAS,SAAS,YAAY;wCAAa,WAAU;kDACzD,SAAS,SAAS;;;;;;;;;;;;0CAKvB,gSAAC;gCAAI,WAAU;0CACZ,uBACC,gSAAC;oCAAI,WAAU;;sDACb,gSAAC;4CAAI,WAAU;;gDAAkC;gDAAgB,OAAO,WAAW;;;;;;;sDACnF,gSAAC;4CAAI,WAAU;;gDAAoC;gDAAW,OAAO,cAAc;gDAAC;;;;;;;;;;;;yDAGtF,gSAAC;oCAAK,WAAU;8CAAoC;;;;;;;;;;;0CAKxD,gSAAC,uPAAU;gCAAC,WAAU;0CACpB,cAAA,gSAAC;oCAAI,WAAU;8CACZ,MAAM,MAAM,KAAK,kBAChB,gSAAC;wCAAI,WAAU;kDAAqD;;;;;+CAEpE,MAAM,GAAG,CAAC,CAAC,MAAW,oBACpB,gSAAC;4CAAmB,WAAU;;8DAC5B,gSAAC;oDAAK,WAAU;;wDAAY;wDAAE,MAAM;;;;;;;8DACpC,gSAAC;oDAAK,WAAU;;wDAAY;wDAAK,KAAK,GAAG;;;;;;;;2CAFjC,KAAK,GAAG;;;;;;;;;;;;;;;;uBA3BlB;;;;;gBAqCd;;;;;;;;;;;;AAIR;KAxDwB"}},
    {"offset": {"line": 5498, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/components/panels/stats-panel.tsx"],"sourcesContent":["\"use client\"\r\nimport { Card } from \"@/components/ui/card\"\r\n\r\nexport default function StatsPanel({ state }: any) {\r\n  if (!state) return null\r\n\r\n  // El tamaño total de memoria es fijo: 2MB (2097152 bytes)\r\n  const MEMORY_SIZE = 2 * 1024 * 1024; // 2MB = 2097152 bytes\r\n  const totalMemory = MEMORY_SIZE\r\n  \r\n  // Calcular memoria usada: suma de bloques ocupados usando el tamaño del bloque\r\n  const usedMemory = state.memoria.reduce(\r\n    (sum: number, block: any) => sum + (block.ocupado && block.tamanio ? block.tamanio : 0),\r\n    0,\r\n  )\r\n  \r\n  // Asegurar que usedMemory no exceda totalMemory\r\n  const validUsedMemory = Math.min(usedMemory, totalMemory)\r\n  \r\n  // Calcular porcentaje de uso (asegurarse de que no exceda 100%)\r\n  const memoryUsagePercent = totalMemory > 0 \r\n    ? Math.min(Math.max(0, (validUsedMemory / totalMemory) * 100), 100) \r\n    : 0\r\n  \r\n  const freeBlocks = state.memoria.filter((b: any) => !b.ocupado).length\r\n  const occupiedBlocks = state.memoria.filter((b: any) => b.ocupado).length\r\n  \r\n  // Calcular uso de CPU basado en procesos corriendo vs totales\r\n  const totalProcesos = state.procesos.length\r\n  const procesosRunning = state.colaRunning ? 1 : 0\r\n  const cpuUsage = totalProcesos > 0 \r\n    ? Math.min((procesosRunning / totalProcesos) * 100, 100)\r\n    : 0\r\n\r\n  return (\r\n    <Card className=\"p-4 border border-border\">\r\n      <h2 className=\"text-lg font-bold mb-4\">Estadísticas en Tiempo Real</h2>\r\n\r\n      <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3\">\r\n        <div className=\"p-3 bg-muted rounded text-center\">\r\n          <div className=\"text-2xl font-bold text-blue-400\">{state.procesos.length}</div>\r\n          <div className=\"text-xs text-muted-foreground\">Procesos Totales</div>\r\n        </div>\r\n\r\n        <div className=\"p-3 bg-muted rounded text-center\">\r\n          <div className=\"text-2xl font-bold text-green-400\">{state.colaReady.length}</div>\r\n          <div className=\"text-xs text-muted-foreground\">En Ready</div>\r\n        </div>\r\n\r\n        <div className=\"p-3 bg-muted rounded text-center\">\r\n          <div className=\"text-2xl font-bold text-yellow-400\">{state.colaTerminated.length}</div>\r\n          <div className=\"text-xs text-muted-foreground\">Terminados</div>\r\n        </div>\r\n\r\n        <div className=\"p-3 bg-muted rounded text-center\">\r\n          <div className=\"text-2xl font-bold text-red-400\">{state.cambiosContextoTotal}</div>\r\n          <div className=\"text-xs text-muted-foreground\">Cambios Contexto</div>\r\n        </div>\r\n\r\n        <div className=\"p-3 bg-muted rounded text-center\">\r\n          <div className=\"text-2xl font-bold text-purple-400\">{state.erroresTotal}</div>\r\n          <div className=\"text-xs text-muted-foreground\">Errores</div>\r\n        </div>\r\n\r\n        <div className=\"p-3 bg-muted rounded text-center\">\r\n          <div className=\"text-2xl font-bold text-cyan-400\">{state.interrupcionesTotal}</div>\r\n          <div className=\"text-xs text-muted-foreground\">Interrupciones</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Métricas de memoria y CPU */}\r\n      <div className=\"mt-4 grid grid-cols-2 gap-3\">\r\n        <div className=\"p-3 bg-muted rounded\">\r\n          <div className=\"text-sm font-semibold mb-2\">Uso de Memoria</div>\r\n          <div className=\"text-xs mb-2\">\r\n            {memoryUsagePercent.toFixed(1)}% ({(validUsedMemory / 1024).toFixed(1)}/{(totalMemory / 1024).toFixed(0)} KB)\r\n          </div>\r\n          <div className=\"w-full bg-background rounded h-2\">\r\n            <div \r\n              className=\"bg-blue-500 h-full rounded transition-all\" \r\n              style={{ width: `${Math.min(memoryUsagePercent, 100)}%` }} \r\n            />\r\n          </div>\r\n          <div className=\"text-xs text-muted-foreground mt-2\">\r\n            Bloques: <span className=\"text-blue-600\">{occupiedBlocks} ocupados</span> / <span className=\"text-green-600\">{freeBlocks} libres</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-3 bg-muted rounded\">\r\n          <div className=\"text-sm font-semibold mb-2\">Uso de CPU</div>\r\n          <div className=\"text-xs mb-2\">{cpuUsage.toFixed(1)}%</div>\r\n          <div className=\"w-full bg-background rounded h-2\">\r\n            <div \r\n              className=\"bg-green-500 h-full rounded transition-all\" \r\n              style={{ width: `${Math.min(cpuUsage, 100)}%` }} \r\n            />\r\n          </div>\r\n          <div className=\"text-xs text-muted-foreground mt-2\">\r\n            {state.colaRunning ? `Ejecutando: PID ${state.colaRunning.pid}` : \"CPU Ociosa\"}\r\n          </div>\r\n          <div className=\"text-xs text-muted-foreground mt-1\">\r\n            {procesosRunning} de {totalProcesos} procesos activos\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5868, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/components/ui/checkbox.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as CheckboxPrimitive from '@radix-ui/react-checkbox'\r\nimport { CheckIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Checkbox({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {\r\n  return (\r\n    <CheckboxPrimitive.Root\r\n      data-slot=\"checkbox\"\r\n      className={cn(\r\n        'peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <CheckboxPrimitive.Indicator\r\n        data-slot=\"checkbox-indicator\"\r\n        className=\"flex items-center justify-center text-current transition-none\"\r\n      >\r\n        <CheckIcon className=\"size-3.5\" />\r\n      </CheckboxPrimitive.Indicator>\r\n    </CheckboxPrimitive.Root>\r\n  )\r\n}\r\n\r\nexport { Checkbox }\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,gSAAC,kRAAsB;QACrB,aAAU;QACV,WAAW,IAAA,wNAAE,EACX,+eACA;QAED,GAAG,KAAK;kBAET,cAAA,gSAAC,uRAA2B;YAC1B,aAAU;YACV,WAAU;sBAEV,cAAA,gSAAC,2TAAS;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI7B;KArBS"}},
    {"offset": {"line": 5918, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/components/panels/logs-panel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Checkbox } from \"@/components/ui/checkbox\"\r\nimport { LogEntry } from \"@/lib/types\"\r\nimport { useState } from \"react\"\r\n\r\nexport default function LogsPanel({ state, simulator }: any) {\r\n  if (!state || !state.logs) return null\r\n\r\n  // Filter state\r\n  const [filters, setFilters] = useState({\r\n    error: true,\r\n    context_switch: true,\r\n    process_state: true,\r\n    io: true,\r\n    memory: true,\r\n    scheduler: true,\r\n    interrupt: true,\r\n  });\r\n\r\n  const toggleFilter = (tipo: keyof typeof filters) => {\r\n    setFilters(prev => ({ ...prev, [tipo]: !prev[tipo] }));\r\n  };\r\n\r\n  const getLogTypeColor = (tipo: LogEntry[\"tipo\"]) => {\r\n    switch (tipo) {\r\n      case \"context_switch\": return \"bg-blue-500/20 text-blue-700 border-blue-500\"\r\n      case \"scheduler\": return \"bg-purple-500/20 text-purple-700 border-purple-500\"\r\n      case \"interrupt\": return \"bg-yellow-500/20 text-yellow-700 border-yellow-500\"\r\n      case \"process_state\": return \"bg-green-500/20 text-green-700 border-green-500\"\r\n      case \"error\": return \"bg-red-500/20 text-red-700 border-red-500\"\r\n      case \"memory\": return \"bg-cyan-500/20 text-cyan-700 border-cyan-500\"\r\n      case \"io\": return \"bg-orange-500/20 text-orange-700 border-orange-500\"\r\n      default: return \"bg-gray-500/20 text-gray-700 border-gray-500\"\r\n    }\r\n  }\r\n\r\n  const getLogTypeLabel = (tipo: LogEntry[\"tipo\"]) => {\r\n    switch (tipo) {\r\n      case \"context_switch\": return \"Cambio Contexto\"\r\n      case \"scheduler\": return \"Planificador\"\r\n      case \"interrupt\": return \"Interrupción\"\r\n      case \"process_state\": return \"Estado Proceso\"\r\n      case \"error\": return \"Error\"\r\n      case \"memory\": return \"Memoria\"\r\n      case \"io\": return \"I/O\"\r\n      default: return tipo\r\n    }\r\n  }\r\n\r\n  // Filter logs based on selected filters\r\n  const filteredLogs = state.logs.filter((log: LogEntry) => filters[log.tipo]);\r\n\r\n  // Count logs by type\r\n  const logCounts = state.logs.reduce((acc: any, log: LogEntry) => {\r\n    acc[log.tipo] = (acc[log.tipo] || 0) + 1;\r\n    return acc;\r\n  }, {});\r\n\r\n  return (\r\n    <Card className=\"p-4 border border-border h-[500px] flex flex-col overflow-hidden\">\r\n      <div className=\"flex justify-between items-center mb-3 flex-shrink-0\">\r\n        <h2 className=\"text-lg font-bold\">Logs del Simulador</h2>\r\n        <div className=\"flex gap-2\">\r\n          <div className=\"text-xs text-muted-foreground\">\r\n            {filteredLogs.length}/{state.logs.length} eventos\r\n          </div>\r\n          {simulator && (\r\n            <Button\r\n              size=\"sm\"\r\n              variant=\"outline\"\r\n              className=\"h-6 text-xs\"\r\n              onClick={() => simulator.clearLogs()}\r\n            >\r\n              Limpiar\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"mb-3 pb-3 border-b border-border flex-shrink-0\">\r\n        <div className=\"text-xs font-semibold mb-2 text-muted-foreground\">Filtros:</div>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-2\">\r\n          {Object.entries(filters).map(([tipo, enabled]) => (\r\n            <div key={tipo} className=\"flex items-center gap-1\">\r\n              <Checkbox\r\n                id={`filter-${tipo}`}\r\n                checked={enabled}\r\n                onCheckedChange={() => toggleFilter(tipo as keyof typeof filters)}\r\n              />\r\n              <label\r\n                htmlFor={`filter-${tipo}`}\r\n                className=\"text-[10px] cursor-pointer select-none\"\r\n              >\r\n                {getLogTypeLabel(tipo as LogEntry[\"tipo\"])} ({logCounts[tipo] || 0})\r\n              </label>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <ScrollArea className=\"flex-1 min-h-0\">\r\n        <div className=\"space-y-2 pr-4\">\r\n          {filteredLogs.length === 0 ? (\r\n            <div className=\"text-sm text-muted-foreground italic text-center py-8\">\r\n              {state.logs.length === 0\r\n                ? \"No hay eventos registrados aún\"\r\n                : \"No hay eventos que coincidan con los filtros seleccionados\"}\r\n            </div>\r\n          ) : (\r\n            filteredLogs.map((log: LogEntry) => (\r\n              <div\r\n                key={log.id}\r\n                className={`p-2 rounded border text-xs ${getLogTypeColor(log.tipo)}`}\r\n              >\r\n                <div className=\"flex items-center justify-between gap-2 mb-1\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Badge variant=\"outline\" className={`text-[10px] ${getLogTypeColor(log.tipo)}`}>\r\n                      {getLogTypeLabel(log.tipo)}\r\n                    </Badge>\r\n                    {log.pid && (\r\n                      <span className=\"font-bold text-[10px]\">PID {log.pid}</span>\r\n                    )}\r\n                  </div>\r\n                  <span className=\"text-[10px] opacity-70\">t={log.tiempo}</span>\r\n                </div>\r\n                <div className=\"text-[11px] font-medium\">{log.mensaje}</div>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      </ScrollArea>\r\n    </Card>\r\n  )\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6218, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/components/panels/metrics-dashboard.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { SimulationMetrics } from \"@/lib/types\"\r\n\r\ninterface MetricsDashboardProps {\r\n    metrics: SimulationMetrics;\r\n}\r\n\r\nexport default function MetricsDashboard({ metrics }: MetricsDashboardProps) {\r\n    return (\r\n        <Card className=\"p-4 border border-border\">\r\n            <h2 className=\"text-lg font-bold mb-4\">Métricas de Rendimiento</h2>\r\n\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4\">\r\n                {/* Average Waiting Time */}\r\n                <div className=\"p-3 bg-muted rounded text-center\">\r\n                    <div className=\"text-2xl font-bold text-blue-400\">\r\n                        {metrics.avgWaitingTime.toFixed(2)}\r\n                    </div>\r\n                    <div className=\"text-xs text-muted-foreground\">Tiempo Espera Promedio</div>\r\n                    <div className=\"text-[10px] text-muted-foreground mt-1\">\r\n                        (ticks)\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Average Turnaround Time */}\r\n                <div className=\"p-3 bg-muted rounded text-center\">\r\n                    <div className=\"text-2xl font-bold text-green-400\">\r\n                        {metrics.avgTurnaroundTime.toFixed(2)}\r\n                    </div>\r\n                    <div className=\"text-xs text-muted-foreground\">Tiempo Retorno Promedio</div>\r\n                    <div className=\"text-[10px] text-muted-foreground mt-1\">\r\n                        (ticks)\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Average Response Time */}\r\n                <div className=\"p-3 bg-muted rounded text-center\">\r\n                    <div className=\"text-2xl font-bold text-purple-400\">\r\n                        {metrics.avgResponseTime.toFixed(2)}\r\n                    </div>\r\n                    <div className=\"text-xs text-muted-foreground\">Tiempo Respuesta Promedio</div>\r\n                    <div className=\"text-[10px] text-muted-foreground mt-1\">\r\n                        (ticks)\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Throughput */}\r\n                <div className=\"p-3 bg-muted rounded text-center\">\r\n                    <div className=\"text-2xl font-bold text-orange-400\">\r\n                        {metrics.throughput.toFixed(4)}\r\n                    </div>\r\n                    <div className=\"text-xs text-muted-foreground\">Throughput</div>\r\n                    <div className=\"text-[10px] text-muted-foreground mt-1\">\r\n                        (procesos/tick)\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* CPU Utilization Bar */}\r\n            <div className=\"p-3 bg-muted rounded mb-3\">\r\n                <div className=\"flex justify-between items-center mb-2\">\r\n                    <div className=\"text-sm font-semibold\">Uso de CPU</div>\r\n                    <div className=\"text-sm font-bold text-cyan-400\">\r\n                        {metrics.cpuUtilization.toFixed(1)}%\r\n                    </div>\r\n                </div>\r\n                <div className=\"w-full bg-background rounded h-3\">\r\n                    <div\r\n                        className=\"bg-gradient-to-r from-cyan-500 to-blue-500 h-full rounded transition-all\"\r\n                        style={{ width: `${Math.min(metrics.cpuUtilization, 100)}%` }}\r\n                    />\r\n                </div>\r\n                <div className=\"text-xs text-muted-foreground mt-2\">\r\n                    Tiempo activo: {metrics.completedProcesses > 0 ? (metrics.totalProcesses - metrics.idleTime) : 0} ticks |\r\n                    Tiempo ocioso: {metrics.idleTime} ticks\r\n                </div>\r\n            </div>\r\n\r\n            {/* Process Summary */}\r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n                <div className=\"p-3 bg-muted rounded text-center\">\r\n                    <div className=\"text-xl font-bold text-yellow-400\">\r\n                        {metrics.completedProcesses}\r\n                    </div>\r\n                    <div className=\"text-xs text-muted-foreground\">Procesos Completados</div>\r\n                </div>\r\n\r\n                <div className=\"p-3 bg-muted rounded text-center\">\r\n                    <div className=\"text-xl font-bold text-red-400\">\r\n                        {metrics.totalProcesses - metrics.completedProcesses}\r\n                    </div>\r\n                    <div className=\"text-xs text-muted-foreground\">Procesos Activos</div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Formulas Info */}\r\n            {metrics.completedProcesses > 0 && (\r\n                <div className=\"mt-4 p-3 bg-muted/50 rounded border border-border\">\r\n                    <div className=\"text-xs font-semibold mb-1 text-muted-foreground\">Fórmulas:</div>\r\n                    <div className=\"text-[10px] text-muted-foreground space-y-1\">\r\n                        <div>• Tiempo Espera = T_inicio - T_llegada - T_burst</div>\r\n                        <div>• Tiempo Retorno = T_final - T_llegada</div>\r\n                        <div>• Tiempo Respuesta = Primera ejecución en CPU</div>\r\n                        <div>• Throughput = Procesos completados / Tiempo total</div>\r\n                        <div>• Uso CPU = (Tiempo total - Tiempo ocioso) / Tiempo total</div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {metrics.completedProcesses === 0 && (\r\n                <div className=\"mt-4 text-center text-sm text-muted-foreground italic\">\r\n                    Las métricas se calcularán cuando los procesos comiencen a completarse\r\n                </div>\r\n            )}\r\n        </Card>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AASe,SAAS,iBAAiB,EAAE,OAAO,EAAyB;IACvE,qBACI,gSAAC,uOAAI;QAAC,WAAU;;0BACZ,gSAAC;gBAAG,WAAU;0BAAyB;;;;;;0BAEvC,gSAAC;gBAAI,WAAU;;kCAEX,gSAAC;wBAAI,WAAU;;0CACX,gSAAC;gCAAI,WAAU;0CACV,QAAQ,cAAc,CAAC,OAAO,CAAC;;;;;;0CAEpC,gSAAC;gCAAI,WAAU;0CAAgC;;;;;;0CAC/C,gSAAC;gCAAI,WAAU;0CAAyC;;;;;;;;;;;;kCAM5D,gSAAC;wBAAI,WAAU;;0CACX,gSAAC;gCAAI,WAAU;0CACV,QAAQ,iBAAiB,CAAC,OAAO,CAAC;;;;;;0CAEvC,gSAAC;gCAAI,WAAU;0CAAgC;;;;;;0CAC/C,gSAAC;gCAAI,WAAU;0CAAyC;;;;;;;;;;;;kCAM5D,gSAAC;wBAAI,WAAU;;0CACX,gSAAC;gCAAI,WAAU;0CACV,QAAQ,eAAe,CAAC,OAAO,CAAC;;;;;;0CAErC,gSAAC;gCAAI,WAAU;0CAAgC;;;;;;0CAC/C,gSAAC;gCAAI,WAAU;0CAAyC;;;;;;;;;;;;kCAM5D,gSAAC;wBAAI,WAAU;;0CACX,gSAAC;gCAAI,WAAU;0CACV,QAAQ,UAAU,CAAC,OAAO,CAAC;;;;;;0CAEhC,gSAAC;gCAAI,WAAU;0CAAgC;;;;;;0CAC/C,gSAAC;gCAAI,WAAU;0CAAyC;;;;;;;;;;;;;;;;;;0BAOhE,gSAAC;gBAAI,WAAU;;kCACX,gSAAC;wBAAI,WAAU;;0CACX,gSAAC;gCAAI,WAAU;0CAAwB;;;;;;0CACvC,gSAAC;gCAAI,WAAU;;oCACV,QAAQ,cAAc,CAAC,OAAO,CAAC;oCAAG;;;;;;;;;;;;;kCAG3C,gSAAC;wBAAI,WAAU;kCACX,cAAA,gSAAC;4BACG,WAAU;4BACV,OAAO;gCAAE,OAAO,GAAG,KAAK,GAAG,CAAC,QAAQ,cAAc,EAAE,KAAK,CAAC,CAAC;4BAAC;;;;;;;;;;;kCAGpE,gSAAC;wBAAI,WAAU;;4BAAqC;4BAChC,QAAQ,kBAAkB,GAAG,IAAK,QAAQ,cAAc,GAAG,QAAQ,QAAQ,GAAI;4BAAE;4BACjF,QAAQ,QAAQ;4BAAC;;;;;;;;;;;;;0BAKzC,gSAAC;gBAAI,WAAU;;kCACX,gSAAC;wBAAI,WAAU;;0CACX,gSAAC;gCAAI,WAAU;0CACV,QAAQ,kBAAkB;;;;;;0CAE/B,gSAAC;gCAAI,WAAU;0CAAgC;;;;;;;;;;;;kCAGnD,gSAAC;wBAAI,WAAU;;0CACX,gSAAC;gCAAI,WAAU;0CACV,QAAQ,cAAc,GAAG,QAAQ,kBAAkB;;;;;;0CAExD,gSAAC;gCAAI,WAAU;0CAAgC;;;;;;;;;;;;;;;;;;YAKtD,QAAQ,kBAAkB,GAAG,mBAC1B,gSAAC;gBAAI,WAAU;;kCACX,gSAAC;wBAAI,WAAU;kCAAmD;;;;;;kCAClE,gSAAC;wBAAI,WAAU;;0CACX,gSAAC;0CAAI;;;;;;0CACL,gSAAC;0CAAI;;;;;;0CACL,gSAAC;0CAAI;;;;;;0CACL,gSAAC;0CAAI;;;;;;0CACL,gSAAC;0CAAI;;;;;;;;;;;;;;;;;;YAKhB,QAAQ,kBAAkB,KAAK,mBAC5B,gSAAC;gBAAI,WAAU;0BAAwD;;;;;;;;;;;;AAMvF;KA7GwB"}},
    {"offset": {"line": 6593, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/components/panels/gantt-chart.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\r\nimport { GanttEntry } from \"@/lib/types\"\r\nimport { useEffect, useRef } from \"react\"\r\n\r\ninterface GanttChartProps {\r\n    ganttChart: GanttEntry[];\r\n    procesos: any[];\r\n}\r\n\r\nexport default function GanttChart({ ganttChart, procesos }: GanttChartProps) {\r\n    const scrollRef = useRef<HTMLDivElement>(null);\r\n\r\n    // Auto-scroll to the end when new entries are added\r\n    useEffect(() => {\r\n        if (scrollRef.current) {\r\n            scrollRef.current.scrollLeft = scrollRef.current.scrollWidth;\r\n        }\r\n    }, [ganttChart.length]);\r\n\r\n    // Generate color for each PID\r\n    const getColorForPid = (pid: number | null): string => {\r\n        if (pid === null) return \"bg-gray-700\"; // IDLE\r\n\r\n        const colors = [\r\n            \"bg-blue-500\",\r\n            \"bg-green-500\",\r\n            \"bg-yellow-500\",\r\n            \"bg-purple-500\",\r\n            \"bg-pink-500\",\r\n            \"bg-indigo-500\",\r\n            \"bg-red-500\",\r\n            \"bg-teal-500\",\r\n            \"bg-orange-500\",\r\n            \"bg-cyan-500\",\r\n        ];\r\n        return colors[pid % colors.length];\r\n    };\r\n\r\n    const getBorderColorForPid = (pid: number | null): string => {\r\n        if (pid === null) return \"border-gray-500\";\r\n\r\n        const colors = [\r\n            \"border-blue-600\",\r\n            \"border-green-600\",\r\n            \"border-yellow-600\",\r\n            \"border-purple-600\",\r\n            \"border-pink-600\",\r\n            \"border-indigo-600\",\r\n            \"border-red-600\",\r\n            \"border-teal-600\",\r\n            \"border-orange-600\",\r\n            \"border-cyan-600\",\r\n        ];\r\n        return colors[pid % colors.length];\r\n    };\r\n\r\n    // Get unique PIDs for legend\r\n    const uniquePids = Array.from(new Set(ganttChart.filter(e => e.pid !== null).map(e => e.pid)));\r\n\r\n    // Group consecutive entries with same PID for better visualization\r\n    const groupedEntries: { pid: number | null; tipo: string; start: number; end: number }[] = [];\r\n    ganttChart.forEach((entry, idx) => {\r\n        const last = groupedEntries[groupedEntries.length - 1];\r\n        if (last && last.pid === entry.pid && last.tipo === entry.tipo) {\r\n            last.end = entry.tiempo;\r\n        } else {\r\n            groupedEntries.push({\r\n                pid: entry.pid,\r\n                tipo: entry.tipo,\r\n                start: entry.tiempo,\r\n                end: entry.tiempo,\r\n            });\r\n        }\r\n    });\r\n\r\n    return (\r\n        <Card className=\"p-4 border border-border\">\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n                <h2 className=\"text-lg font-bold\">Diagrama de Gantt</h2>\r\n                <div className=\"text-xs text-muted-foreground\">\r\n                    {ganttChart.length} eventos\r\n                </div>\r\n            </div>\r\n\r\n            {/* Legend */}\r\n            <div className=\"mb-3 flex flex-wrap gap-2\">\r\n                <div className=\"flex items-center gap-1\">\r\n                    <div className=\"w-3 h-3 bg-gray-700 rounded border border-gray-500\"></div>\r\n                    <span className=\"text-[10px] text-muted-foreground\">IDLE</span>\r\n                </div>\r\n                {uniquePids.slice(0, 10).map(pid => (\r\n                    <div key={pid} className=\"flex items-center gap-1\">\r\n                        <div className={`w-3 h-3 ${getColorForPid(pid)} rounded ${getBorderColorForPid(pid)} border`}></div>\r\n                        <span className=\"text-[10px] text-muted-foreground\">P{pid}</span>\r\n                    </div>\r\n                ))}\r\n                {uniquePids.length > 10 && (\r\n                    <span className=\"text-[10px] text-muted-foreground italic\">+{uniquePids.length - 10} más</span>\r\n                )}\r\n            </div>\r\n\r\n            {/* Gantt Chart Timeline */}\r\n            <ScrollArea className=\"w-full\" ref={scrollRef}>\r\n                <div className=\"min-w-max pb-2\">\r\n                    {ganttChart.length === 0 ? (\r\n                        <div className=\"text-sm text-muted-foreground italic text-center py-8\">\r\n                            El diagrama de Gantt aparecerá cuando inicie la simulación\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"flex items-center gap-0.5 min-h-[60px]\">\r\n                            {groupedEntries.map((group, idx) => {\r\n                                const width = Math.max((group.end - group.start + 1) * 8, 8); // 8px per tick minimum\r\n                                const isContextSwitch = group.tipo === \"context_switch\";\r\n                                const isIdle = group.pid === null;\r\n\r\n                                return (\r\n                                    <div\r\n                                        key={idx}\r\n                                        className={`\r\n                      ${getColorForPid(group.pid)} \r\n                      ${getBorderColorForPid(group.pid)}\r\n                      ${isContextSwitch ? 'border-2 border-white' : 'border'}\r\n                      ${isIdle ? 'opacity-40' : 'opacity-90'}\r\n                      transition-all\r\n                      flex items-center justify-center\r\n                      relative group/item\r\n                      h-12\r\n                    `}\r\n                                        style={{ width: `${width}px`, minWidth: '4px' }}\r\n                                    >\r\n                                        {/* Tooltip */}\r\n                                        <div className=\"absolute bottom-full mb-1 hidden group-hover/item:block z-10 bg-black text-white text-[10px] px-2 py-1 rounded whitespace-nowrap\">\r\n                                            {isIdle ? \"CPU IDLE\" : `P${group.pid}`}\r\n                                            {isContextSwitch && \" (Context Switch)\"}\r\n                                            <div className=\"text-[9px] opacity-75\">\r\n                                                t={group.start}{group.end !== group.start && `-${group.end}`}\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        {/* Label (only for wider blocks) */}\r\n                                        {width > 20 && (\r\n                                            <span className=\"text-[9px] font-bold text-white drop-shadow\">\r\n                                                {isIdle ? \"·\" : `P${group.pid}`}\r\n                                            </span>\r\n                                        )}\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </ScrollArea>\r\n\r\n            {/* Time axis */}\r\n            {ganttChart.length > 0 && (\r\n                <div className=\"mt-2 flex items-center gap-2 text-[10px] text-muted-foreground\">\r\n                    <span>Tiempo:</span>\r\n                    <span>0</span>\r\n                    <div className=\"flex-1 border-t border-dashed border-muted-foreground/30\"></div>\r\n                    <span>{ganttChart[ganttChart.length - 1]?.tiempo || 0}</span>\r\n                </div>\r\n            )}\r\n        </Card>\r\n    )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6915, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/components/panels/deadlock-alert.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter, DialogDescription } from \"@/components/ui/dialog\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { AlertTriangle } from \"lucide-react\"\r\nimport { DeadlockInfo } from \"@/lib/types\"\r\n\r\ninterface DeadlockAlertProps {\r\n    deadlockInfo: DeadlockInfo;\r\n    onResolve: (action: \"cancel_process\" | \"ignore\", pid?: number) => void;\r\n    onClose: () => void;\r\n}\r\n\r\nexport default function DeadlockAlert({ deadlockInfo, onResolve, onClose }: DeadlockAlertProps) {\r\n    if (!deadlockInfo.detected) return null;\r\n\r\n    const handleCancelProcess = () => {\r\n        // Cancel the first affected process\r\n        if (deadlockInfo.affectedProcesses.length > 0) {\r\n            onResolve(\"cancel_process\", deadlockInfo.affectedProcesses[0]);\r\n            onClose();  // Close modal\r\n        }\r\n    };\r\n\r\n    const handleIgnore = () => {\r\n        onResolve(\"ignore\");\r\n        onClose();\r\n    };\r\n\r\n    return (\r\n        <Dialog open={deadlockInfo.detected} onOpenChange={onClose}>\r\n            <DialogContent className=\"sm:max-w-[500px]\">\r\n                <DialogHeader>\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <AlertTriangle className=\"h-6 w-6 text-red-500\" />\r\n                        <DialogTitle className=\"text-red-600\">⚠️ Deadlock Detectado</DialogTitle>\r\n                    </div>\r\n                    <DialogDescription>\r\n                        Se ha detectado un deadlock en el sistema. Todos los procesos activos están bloqueados esperando por recursos.\r\n                    </DialogDescription>\r\n                </DialogHeader>\r\n\r\n                <div className=\"py-4 space-y-4\">\r\n                    {/* Deadlock Info */}\r\n                    <div className=\"p-3 bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded\">\r\n                        <div className=\"text-sm font-semibold mb-2\">Descripción del Deadlock:</div>\r\n                        <div className=\"text-sm text-muted-foreground\">\r\n                            {deadlockInfo.cycle}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Affected Processes */}\r\n                    <div>\r\n                        <div className=\"text-sm font-semibold mb-2\">Procesos Afectados:</div>\r\n                        <div className=\"flex flex-wrap gap-2\">\r\n                            {deadlockInfo.affectedProcesses.map(pid => (\r\n                                <div\r\n                                    key={pid}\r\n                                    className=\"px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-full text-sm font-medium\"\r\n                                >\r\n                                    PID {pid}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Timestamp */}\r\n                    <div className=\"text-xs text-muted-foreground\">\r\n                        Detectado en: Tick {deadlockInfo.timestamp}\r\n                    </div>\r\n\r\n                    {/* Resolution Options */}\r\n                    <div className=\"p-3 bg-muted rounded\">\r\n                        <div className=\"text-sm font-semibold mb-2\">Opciones de Resolución:</div>\r\n                        <ul className=\"text-sm text-muted-foreground space-y-1 list-disc list-inside\">\r\n                            <li><strong>Cancelar Proceso:</strong> Termina PID {deadlockInfo.affectedProcesses[0]} para liberar recursos</li>\r\n                            <li><strong>Ignorar:</strong> Continuar simulación (algunos procesos pueden quedar bloqueados indefinidamente)</li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <DialogFooter className=\"flex gap-2\">\r\n                    <Button\r\n                        variant=\"outline\"\r\n                        onClick={handleIgnore}\r\n                    >\r\n                        Ignorar y Continuar\r\n                    </Button>\r\n                    <Button\r\n                        variant=\"destructive\"\r\n                        onClick={handleCancelProcess}\r\n                    >\r\n                        Cancelar PID {deadlockInfo.affectedProcesses[0]}\r\n                    </Button>\r\n                </DialogFooter>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAae,SAAS,cAAc,EAAE,YAAY,EAAE,SAAS,EAAE,OAAO,EAAsB;IAC1F,IAAI,CAAC,aAAa,QAAQ,EAAE,OAAO;IAEnC,MAAM,sBAAsB;QACxB,oCAAoC;QACpC,IAAI,aAAa,iBAAiB,CAAC,MAAM,GAAG,GAAG;YAC3C,UAAU,kBAAkB,aAAa,iBAAiB,CAAC,EAAE;YAC7D,WAAY,cAAc;QAC9B;IACJ;IAEA,MAAM,eAAe;QACjB,UAAU;QACV;IACJ;IAEA,qBACI,gSAAC,2OAAM;QAAC,MAAM,aAAa,QAAQ;QAAE,cAAc;kBAC/C,cAAA,gSAAC,kPAAa;YAAC,WAAU;;8BACrB,gSAAC,iPAAY;;sCACT,gSAAC;4BAAI,WAAU;;8CACX,gSAAC,+UAAa;oCAAC,WAAU;;;;;;8CACzB,gSAAC,gPAAW;oCAAC,WAAU;8CAAe;;;;;;;;;;;;sCAE1C,gSAAC,sPAAiB;sCAAC;;;;;;;;;;;;8BAKvB,gSAAC;oBAAI,WAAU;;sCAEX,gSAAC;4BAAI,WAAU;;8CACX,gSAAC;oCAAI,WAAU;8CAA6B;;;;;;8CAC5C,gSAAC;oCAAI,WAAU;8CACV,aAAa,KAAK;;;;;;;;;;;;sCAK3B,gSAAC;;8CACG,gSAAC;oCAAI,WAAU;8CAA6B;;;;;;8CAC5C,gSAAC;oCAAI,WAAU;8CACV,aAAa,iBAAiB,CAAC,GAAG,CAAC,CAAA,oBAChC,gSAAC;4CAEG,WAAU;;gDACb;gDACQ;;2CAHA;;;;;;;;;;;;;;;;sCAUrB,gSAAC;4BAAI,WAAU;;gCAAgC;gCACvB,aAAa,SAAS;;;;;;;sCAI9C,gSAAC;4BAAI,WAAU;;8CACX,gSAAC;oCAAI,WAAU;8CAA6B;;;;;;8CAC5C,gSAAC;oCAAG,WAAU;;sDACV,gSAAC;;8DAAG,gSAAC;8DAAO;;;;;;gDAA0B;gDAAc,aAAa,iBAAiB,CAAC,EAAE;gDAAC;;;;;;;sDACtF,gSAAC;;8DAAG,gSAAC;8DAAO;;;;;;gDAAiB;;;;;;;;;;;;;;;;;;;;;;;;;8BAKzC,gSAAC,iPAAY;oBAAC,WAAU;;sCACpB,gSAAC,2OAAM;4BACH,SAAQ;4BACR,SAAS;sCACZ;;;;;;sCAGD,gSAAC,2OAAM;4BACH,SAAQ;4BACR,SAAS;;gCACZ;gCACiB,aAAa,iBAAiB,CAAC,EAAE;;;;;;;;;;;;;;;;;;;;;;;;AAMvE;KArFwB"}},
    {"offset": {"line": 7177, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/components/panels/state-diagram.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { Process, ProcessState } from \"@/lib/types\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\n\r\ninterface StateDiagramProps {\r\n    procesos: Process[];\r\n}\r\n\r\nexport default function StateDiagram({ procesos }: StateDiagramProps) {\r\n    // Contar procesos por estado\r\n    const countByState = {\r\n        new: procesos.filter(p => p.estado === \"new\").length,\r\n        ready: procesos.filter(p => p.estado === \"ready\").length,\r\n        running: procesos.filter(p => p.estado === \"running\").length,\r\n        blocked: procesos.filter(p => p.estado === \"blocked\").length,\r\n        terminated: procesos.filter(p => p.estado === \"terminated\").length,\r\n    };\r\n\r\n    // Obtener PIDs por estado\r\n    const pidsByState = {\r\n        new: procesos.filter(p => p.estado === \"new\").map(p => p.pid),\r\n        ready: procesos.filter(p => p.estado === \"ready\").map(p => p.pid),\r\n        running: procesos.filter(p => p.estado === \"running\").map(p => p.pid),\r\n        blocked: procesos.filter(p => p.estado === \"blocked\").map(p => p.pid),\r\n        terminated: procesos.filter(p => p.estado === \"terminated\").map(p => p.pid),\r\n    };\r\n\r\n    const StateBox = ({\r\n        estado,\r\n        color,\r\n        count,\r\n        pids\r\n    }: {\r\n        estado: string;\r\n        color: string;\r\n        count: number;\r\n        pids: number[]\r\n    }) => (\r\n        <div className=\"flex flex-col items-center\">\r\n            <div\r\n                className={`\r\n          relative\r\n          ${color} \r\n          border-2 border-${color.replace('bg-', 'border-')}\r\n          rounded-lg p-4 w-32 text-center\r\n          transition-all hover:scale-105 hover:shadow-lg\r\n          group\r\n        `}\r\n            >\r\n                <div className=\"font-bold text-white text-sm mb-1 uppercase\">\r\n                    {estado}\r\n                </div>\r\n                <div className=\"text-2xl font-bold text-white\">\r\n                    {count}\r\n                </div>\r\n                <div className=\"text-xs text-white/80 mt-1\">\r\n                    {count === 1 ? \"proceso\" : \"procesos\"}\r\n                </div>\r\n\r\n                {/* Tooltip con PIDs */}\r\n                {count > 0 && (\r\n                    <div className=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:block z-10\">\r\n                        <div className=\"bg-black text-white text-xs px-3 py-2 rounded whitespace-nowrap shadow-lg\">\r\n                            <div className=\"font-semibold mb-1\">PIDs:</div>\r\n                            <div className=\"flex flex-wrap gap-1\">\r\n                                {pids.slice(0, 10).map(pid => (\r\n                                    <Badge key={pid} variant=\"outline\" className=\"text-white border-white\">\r\n                                        {pid}\r\n                                    </Badge>\r\n                                ))}\r\n                                {pids.length > 10 && (\r\n                                    <span className=\"text-white/60\">+{pids.length - 10}</span>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const Arrow = ({ direction = \"right\", label = \"\" }: { direction?: \"right\" | \"down\" | \"up\"; label?: string }) => (\r\n        <div className={`flex items-center justify-center ${direction === \"down\" || direction === \"up\" ? \"flex-col\" : \"\"}`}>\r\n            <div className=\"relative\">\r\n                {direction === \"right\" && (\r\n                    <div className=\"flex items-center\">\r\n                        <div className=\"h-0.5 w-12 bg-muted-foreground\"></div>\r\n                        <div className=\"w-0 h-0 border-t-4 border-t-transparent border-b-4 border-b-transparent border-l-8 border-l-muted-foreground\"></div>\r\n                    </div>\r\n                )}\r\n                {direction === \"down\" && (\r\n                    <div className=\"flex flex-col items-center\">\r\n                        <div className=\"w-0.5 h-12 bg-muted-foreground\"></div>\r\n                        <div className=\"w-0 h-0 border-l-4 border-l-transparent border-r-4 border-r-transparent border-t-8 border-t-muted-foreground\"></div>\r\n                    </div>\r\n                )}\r\n                {direction === \"up\" && (\r\n                    <div className=\"flex flex-col items-center\">\r\n                        <div className=\"w-0 h-0 border-l-4 border-l-transparent border-r-4 border-r-transparent border-b-8 border-b-muted-foreground\"></div>\r\n                        <div className=\"w-0.5 h-12 bg-muted-foreground\"></div>\r\n                    </div>\r\n                )}\r\n                {label && (\r\n                    <div className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-background px-2 py-0.5 text-[9px] text-muted-foreground whitespace-nowrap border border-border rounded\">\r\n                        {label}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <Card className=\"p-6 border border-border\">\r\n            <h2 className=\"text-lg font-bold mb-6\">Diagrama de Estados de Procesos</h2>\r\n\r\n            {/* Diagrama de Flujo */}\r\n            <div className=\"flex flex-col items-center space-y-4\">\r\n                {/* Fila 1: NEW → READY */}\r\n                <div className=\"flex items-center gap-4\">\r\n                    <StateBox\r\n                        estado=\"NEW\"\r\n                        color=\"bg-gray-500\"\r\n                        count={countByState.new}\r\n                        pids={pidsByState.new}\r\n                    />\r\n                    <Arrow label=\"admit\" />\r\n                    <StateBox\r\n                        estado=\"READY\"\r\n                        color=\"bg-blue-500\"\r\n                        count={countByState.ready}\r\n                        pids={pidsByState.ready}\r\n                    />\r\n                </div>\r\n\r\n                {/* Fila 2: READY ↔ RUNNING */}\r\n                <div className=\"flex items-center gap-4\">\r\n                    <div className=\"w-32\"></div> {/* Spacer */}\r\n                    <div className=\"flex flex-col items-center\">\r\n                        <Arrow direction=\"down\" label=\"dispatch\" />\r\n                        <StateBox\r\n                            estado=\"RUNNING\"\r\n                            color=\"bg-green-500\"\r\n                            count={countByState.running}\r\n                            pids={pidsByState.running}\r\n                        />\r\n                        <Arrow direction=\"up\" label=\"preempt\" />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Fila 3: RUNNING ↔ BLOCKED */}\r\n                <div className=\"flex items-center gap-4\">\r\n                    <StateBox\r\n                        estado=\"BLOCKED\"\r\n                        color=\"bg-yellow-500\"\r\n                        count={countByState.blocked}\r\n                        pids={pidsByState.blocked}\r\n                    />\r\n                    <div className=\"flex flex-col items-center gap-2\">\r\n                        <Arrow direction=\"right\" label=\"I/O wait\" />\r\n                        <Arrow direction=\"right\" label=\"I/O complete\" />\r\n                    </div>\r\n                    <div className=\"w-32\"></div> {/* Spacer para running arriba */}\r\n                </div>\r\n\r\n                {/* Fila 4: RUNNING → TERMINATED */}\r\n                <div className=\"flex items-center gap-4\">\r\n                    <div className=\"w-32\"></div> {/* Spacer */}\r\n                    <div className=\"flex flex-col items-center\">\r\n                        <Arrow direction=\"down\" label=\"exit\" />\r\n                        <StateBox\r\n                            estado=\"TERMINATED\"\r\n                            color=\"bg-red-500\"\r\n                            count={countByState.terminated}\r\n                            pids={pidsByState.terminated}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Leyenda */}\r\n            <div className=\"mt-6 pt-4 border-t border-border\">\r\n                <div className=\"text-xs font-semibold mb-2 text-muted-foreground\">Transiciones:</div>\r\n                <div className=\"grid grid-cols-2 gap-2 text-[10px] text-muted-foreground\">\r\n                    <div>• <strong>admit:</strong> Asignación de memoria</div>\r\n                    <div>• <strong>dispatch:</strong> Selección por scheduler</div>\r\n                    <div>• <strong>preempt:</strong> Quantum agotado o expropiación</div>\r\n                    <div>• <strong>I/O wait:</strong> Solicitud de E/S</div>\r\n                    <div>• <strong>I/O complete:</strong> Finalización de E/S</div>\r\n                    <div>• <strong>exit:</strong> Proceso terminado</div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Resumen */}\r\n            <div className=\"mt-4 p-3 bg-muted rounded text-sm\">\r\n                <div className=\"font-semibold mb-1\">Resumen:</div>\r\n                <div className=\"text-xs text-muted-foreground\">\r\n                    Total de procesos: <strong>{procesos.length}</strong>\r\n                    {\" \"}| Activos: <strong>{procesos.filter(p => p.estado !== \"terminated\").length}</strong>\r\n                    {\" \"}| Completados: <strong>{countByState.terminated}</strong>\r\n                </div>\r\n            </div>\r\n        </Card>\r\n    )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7799, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/lib/comparison-util.ts"],"sourcesContent":["import { OSSimulator } from \"./os-simulator\";\r\nimport type { OSState } from \"./types\";\r\n\r\nexport interface StrategyMetrics {\r\n    strategy: \"FirstFit\" | \"BestFit\" | \"WorstFit\";\r\n    fragExternal: number; // %\r\n    fragInterna: number; // %\r\n    huecos: number;\r\n    rechazos: number;\r\n    utilizacion: number; // %\r\n    avgTurnaroundTime: number;\r\n    avgWaitingTime: number;\r\n    completedProcesses: number;\r\n    totalTicks: number;\r\n}\r\n\r\nexport interface ComparisonResult {\r\n    strategies: StrategyMetrics[];\r\n    bestPerformance: \"FirstFit\" | \"BestFit\" | \"WorstFit\";\r\n    bestOptimization: \"FirstFit\" | \"BestFit\" | \"WorstFit\";\r\n}\r\n\r\n/**\r\n * Run 3 simulations with different memory strategies\r\n * using the same initial configuration\r\n */\r\nexport function runStrategyComparison(\r\n    currentState: OSState,\r\n    maxTicks: number = 200\r\n): ComparisonResult {\r\n    const strategies: (\"FirstFit\" | \"BestFit\" | \"WorstFit\")[] = [\r\n        \"FirstFit\",\r\n        \"BestFit\",\r\n        \"WorstFit\"\r\n    ];\r\n\r\n    const results: StrategyMetrics[] = strategies.map(strategy => {\r\n        // Create new simulator\r\n        const simulator = new OSSimulator();\r\n\r\n        // Configure scheduler\r\n        simulator.setScheduler(currentState.scheduler);\r\n        simulator.setApropiativo(currentState.apropiativo);\r\n        simulator.setQuantum(currentState.quantum);\r\n\r\n        // Set memory strategy\r\n        simulator.setMemoryStrategy(strategy);\r\n\r\n        // Create same processes as current state (only non-terminated)\r\n        const activeProcesses = currentState.procesos.filter(p => p.estado !== 'terminated');\r\n        activeProcesses.forEach(p => {\r\n            simulator.crearProceso(\r\n                p.tamanio,\r\n                p.burstTime,\r\n                p.prioridad,\r\n                p.maxInterrupciones,\r\n                p.porcentajeDatos,\r\n                p.porcentajeVariable\r\n            );\r\n        });\r\n\r\n        // Run simulation\r\n        let ticksExecuted = 0;\r\n        for (let i = 0; i < maxTicks; i++) {\r\n            simulator.ejecutarTick();\r\n            ticksExecuted++;\r\n\r\n            // Stop if all processes completed\r\n            const state = simulator.getState();\r\n            if (state.colaTerminated.length >= activeProcesses.length && activeProcesses.length > 0) {\r\n                break;\r\n            }\r\n        }\r\n\r\n        // Collect metrics\r\n        const finalState = simulator.getState();\r\n        const totalMemory = 2 * 1024 * 1024; // 2MB\r\n        const occupiedMemory = finalState.memoria\r\n            .filter(b => b.ocupado)\r\n            .reduce((sum, b) => sum + b.tamanio, 0);\r\n\r\n        return {\r\n            strategy,\r\n            fragExternal: totalMemory > 0 ? (finalState.fragmentation.external / totalMemory) * 100 : 0,\r\n            fragInterna: totalMemory > 0 ? (finalState.fragmentation.internal / totalMemory) * 100 : 0,\r\n            huecos: finalState.fragmentation.externalHoles,\r\n            rechazos: finalState.fragmentation.rechazosFragmentacion,\r\n            utilizacion: totalMemory > 0 ? (occupiedMemory / totalMemory) * 100 : 0,\r\n            avgTurnaroundTime: finalState.metrics.avgTurnaroundTime,\r\n            avgWaitingTime: finalState.metrics.avgWaitingTime,\r\n            completedProcesses: finalState.metrics.completedProcesses,\r\n            totalTicks: ticksExecuted\r\n        };\r\n    });\r\n\r\n    // Determine best strategy for performance (lower turnaround time is better)\r\n    const bestPerformance = results.reduce((best, curr) => {\r\n        // If no processes completed, can't determine\r\n        if (curr.completedProcesses === 0 && best.completedProcesses === 0) return best;\r\n        if (curr.completedProcesses === 0) return best;\r\n        if (best.completedProcesses === 0) return curr;\r\n\r\n        return curr.avgTurnaroundTime < best.avgTurnaroundTime ? curr : best;\r\n    }).strategy;\r\n\r\n    // Determine best strategy for optimization (lower total fragmentation is better)\r\n    const bestOptimization = results.reduce((best, curr) => {\r\n        const currFrag = curr.fragExternal + curr.fragInterna;\r\n        const bestFrag = best.fragExternal + best.fragInterna;\r\n        return currFrag < bestFrag ? curr : best;\r\n    }).strategy;\r\n\r\n    return {\r\n        strategies: results,\r\n        bestPerformance,\r\n        bestOptimization\r\n    };\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AA0BO,SAAS,sBACZ,YAAqB,EACrB,WAAmB,GAAG;IAEtB,MAAM,aAAsD;QACxD;QACA;QACA;KACH;IAED,MAAM,UAA6B,WAAW,GAAG,CAAC,CAAA;QAC9C,uBAAuB;QACvB,MAAM,YAAY,IAAI,2OAAW;QAEjC,sBAAsB;QACtB,UAAU,YAAY,CAAC,aAAa,SAAS;QAC7C,UAAU,cAAc,CAAC,aAAa,WAAW;QACjD,UAAU,UAAU,CAAC,aAAa,OAAO;QAEzC,sBAAsB;QACtB,UAAU,iBAAiB,CAAC;QAE5B,+DAA+D;QAC/D,MAAM,kBAAkB,aAAa,QAAQ,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;QACvE,gBAAgB,OAAO,CAAC,CAAA;YACpB,UAAU,YAAY,CAClB,EAAE,OAAO,EACT,EAAE,SAAS,EACX,EAAE,SAAS,EACX,EAAE,iBAAiB,EACnB,EAAE,eAAe,EACjB,EAAE,kBAAkB;QAE5B;QAEA,iBAAiB;QACjB,IAAI,gBAAgB;QACpB,IAAK,IAAI,IAAI,GAAG,IAAI,UAAU,IAAK;YAC/B,UAAU,YAAY;YACtB;YAEA,kCAAkC;YAClC,MAAM,QAAQ,UAAU,QAAQ;YAChC,IAAI,MAAM,cAAc,CAAC,MAAM,IAAI,gBAAgB,MAAM,IAAI,gBAAgB,MAAM,GAAG,GAAG;gBACrF;YACJ;QACJ;QAEA,kBAAkB;QAClB,MAAM,aAAa,UAAU,QAAQ;QACrC,MAAM,cAAc,IAAI,OAAO,MAAM,MAAM;QAC3C,MAAM,iBAAiB,WAAW,OAAO,CACpC,MAAM,CAAC,CAAA,IAAK,EAAE,OAAO,EACrB,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,OAAO,EAAE;QAEzC,OAAO;YACH;YACA,cAAc,cAAc,IAAI,AAAC,WAAW,aAAa,CAAC,QAAQ,GAAG,cAAe,MAAM;YAC1F,aAAa,cAAc,IAAI,AAAC,WAAW,aAAa,CAAC,QAAQ,GAAG,cAAe,MAAM;YACzF,QAAQ,WAAW,aAAa,CAAC,aAAa;YAC9C,UAAU,WAAW,aAAa,CAAC,qBAAqB;YACxD,aAAa,cAAc,IAAI,AAAC,iBAAiB,cAAe,MAAM;YACtE,mBAAmB,WAAW,OAAO,CAAC,iBAAiB;YACvD,gBAAgB,WAAW,OAAO,CAAC,cAAc;YACjD,oBAAoB,WAAW,OAAO,CAAC,kBAAkB;YACzD,YAAY;QAChB;IACJ;IAEA,4EAA4E;IAC5E,MAAM,kBAAkB,QAAQ,MAAM,CAAC,CAAC,MAAM;QAC1C,6CAA6C;QAC7C,IAAI,KAAK,kBAAkB,KAAK,KAAK,KAAK,kBAAkB,KAAK,GAAG,OAAO;QAC3E,IAAI,KAAK,kBAAkB,KAAK,GAAG,OAAO;QAC1C,IAAI,KAAK,kBAAkB,KAAK,GAAG,OAAO;QAE1C,OAAO,KAAK,iBAAiB,GAAG,KAAK,iBAAiB,GAAG,OAAO;IACpE,GAAG,QAAQ;IAEX,iFAAiF;IACjF,MAAM,mBAAmB,QAAQ,MAAM,CAAC,CAAC,MAAM;QAC3C,MAAM,WAAW,KAAK,YAAY,GAAG,KAAK,WAAW;QACrD,MAAM,WAAW,KAAK,YAAY,GAAG,KAAK,WAAW;QACrD,OAAO,WAAW,WAAW,OAAO;IACxC,GAAG,QAAQ;IAEX,OAAO;QACH,YAAY;QACZ;QACA;IACJ;AACJ"}},
    {"offset": {"line": 7880, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/components/panels/strategy-comparison.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\r\nimport { runStrategyComparison, type ComparisonResult, type StrategyMetrics } from \"@/lib/comparison-util\"\r\nimport type { OSState } from \"@/lib/types\"\r\n\r\ninterface StrategyComparisonProps {\r\n    open: boolean;\r\n    onClose: () => void;\r\n    currentState: OSState;\r\n}\r\n\r\nexport default function StrategyComparison({\r\n    open,\r\n    onClose,\r\n    currentState\r\n}: StrategyComparisonProps) {\r\n    const [comparison, setComparison] = useState<ComparisonResult | null>(null);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    // Run comparison when modal opens\r\n    useEffect(() => {\r\n        if (open && !comparison) {\r\n            setLoading(true);\r\n            // Run in setTimeout to avoid blocking UI\r\n            setTimeout(() => {\r\n                try {\r\n                    const result = runStrategyComparison(currentState, 200);\r\n                    setComparison(result);\r\n                } catch (error) {\r\n                    console.error(\"Error running comparison:\", error);\r\n                } finally {\r\n                    setLoading(false);\r\n                }\r\n            }, 100);\r\n        }\r\n    }, [open]);\r\n\r\n    // Reset when modal closes\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setComparison(null);\r\n        }\r\n    }, [open]);\r\n\r\n    if (loading) {\r\n        return (\r\n            <Dialog open={open} onOpenChange={onClose}>\r\n                <DialogContent className=\"max-w-md\">\r\n                    <DialogHeader>\r\n                        <DialogTitle>Ejecutando Comparación</DialogTitle>\r\n                    </DialogHeader>\r\n                    <div className=\"flex flex-col items-center justify-center p-8 space-y-4\">\r\n                        <div className=\"animate-spin h-12 w-12 border-4 border-primary border-t-transparent rounded-full\"></div>\r\n                        <div className=\"text-center space-y-2\">\r\n                            <p className=\"font-semibold\">Ejecutando comparación de estrategias...</p>\r\n                            <p className=\"text-sm text-muted-foreground\">\r\n                                Simulando FirstFit, BestFit y WorstFit\r\n                            </p>\r\n                            <p className=\"text-xs text-muted-foreground\">\r\n                                Esto puede tomar unos segundos\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </DialogContent>\r\n            </Dialog>\r\n        );\r\n    }\r\n\r\n    if (!comparison) return null;\r\n\r\n    const comparisonData = comparison.strategies.map(s => ({\r\n        strategy: s.strategy,\r\n        color: s.strategy === \"FirstFit\" ? \"bg-blue-500\" :\r\n            s.strategy === \"BestFit\" ? \"bg-green-500\" : \"bg-orange-500\",\r\n        metrics: {\r\n            fragExternal: Number(s.fragExternal.toFixed(1)),\r\n            fragInterna: Number(s.fragInterna.toFixed(1)),\r\n            huecos: s.huecos,\r\n            rechazos: s.rechazos,\r\n            utilizacion: Number(s.utilizacion.toFixed(1)),\r\n            tiempoAsignacion: Number((s.avgTurnaroundTime / 1000).toFixed(2)),\r\n            avgWaiting: Number((s.avgWaitingTime / 1000).toFixed(2)),\r\n            completedProcesses: s.completedProcesses,\r\n            totalTicks: s.totalTicks\r\n        }\r\n    }));\r\n\r\n    const getBestBadge = (metric: string) => {\r\n        const values = comparisonData.map((d, idx) => {\r\n            switch (metric) {\r\n                case 'fragExternal': return { val: d.metrics.fragExternal, idx };\r\n                case 'fragInterna': return { val: d.metrics.fragInterna, idx };\r\n                case 'huecos': return { val: d.metrics.huecos, idx };\r\n                case 'rechazos': return { val: d.metrics.rechazos, idx };\r\n                case 'utilizacion': return { val: d.metrics.utilizacion, idx };\r\n                case 'tiempoAsignacion': return { val: d.metrics.tiempoAsignacion, idx };\r\n                case 'avgWaiting': return { val: d.metrics.avgWaiting, idx };\r\n                default: return { val: 0, idx };\r\n            }\r\n        });\r\n\r\n        const bestIndex = metric === 'utilizacion'\r\n            ? values.reduce((best, curr) => curr.val > best.val ? curr : best).idx\r\n            : values.reduce((best, curr) => curr.val < best.val ? curr : best).idx;\r\n\r\n        return bestIndex;\r\n    };\r\n\r\n    return (\r\n        <Dialog open={open} onOpenChange={onClose}>\r\n            <DialogContent className=\"max-w-5xl max-h-[90vh]\">\r\n                <DialogHeader>\r\n                    <DialogTitle className=\"text-2xl\">📊 Comparativa de Estrategias de Asignación</DialogTitle>\r\n                </DialogHeader>\r\n\r\n                <ScrollArea className=\"max-h-[75vh] pr-4\">\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800\">\r\n                            <p className=\"text-sm font-medium\">\r\n                                ✨ Comparación en tiempo real con tu configuración actual\r\n                            </p>\r\n                            <p className=\"text-xs text-muted-foreground mt-1\">\r\n                                Scheduler: <strong>{currentState.scheduler}</strong> |\r\n                                Quantum: <strong>{currentState.quantum}</strong> |\r\n                                Procesos analizados: <strong>{currentState.procesos.filter(p => p.estado !== 'terminated').length}</strong>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div className=\"overflow-x-auto\">\r\n                            <table className=\"w-full text-sm\">\r\n                                <thead>\r\n                                    <tr className=\"border-b-2 border-border\">\r\n                                        <th className=\"text-left p-3 font-bold\">Métrica</th>\r\n                                        <th className=\"text-center p-3 font-bold text-blue-600\">FirstFit</th>\r\n                                        <th className=\"text-center p-3 font-bold text-green-600\">BestFit</th>\r\n                                        <th className=\"text-center p-3 font-bold text-orange-600\">WorstFit</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr className=\"border-b border-border hover:bg-muted/50\">\r\n                                        <td className=\"p-3 font-medium\">Fragmentación Externa (%)</td>\r\n                                        {comparisonData.map((data, idx) => (\r\n                                            <td key={idx} className=\"text-center p-3\">\r\n                                                {data.metrics.fragExternal}%\r\n                                                {getBestBadge('fragExternal') === idx && <Badge className=\"ml-2 bg-green-500 text-xs\">✓ Mejor</Badge>}\r\n                                            </td>\r\n                                        ))}\r\n                                    </tr>\r\n                                    <tr className=\"border-b border-border hover:bg-muted/50\">\r\n                                        <td className=\"p-3 font-medium\">Fragmentación Interna (%)</td>\r\n                                        {comparisonData.map((data, idx) => (\r\n                                            <td key={idx} className=\"text-center p-3\">\r\n                                                {data.metrics.fragInterna}%\r\n                                                {getBestBadge('fragInterna') === idx && <Badge className=\"ml-2 bg-green-500 text-xs\">✓ Mejor</Badge>}\r\n                                            </td>\r\n                                        ))}\r\n                                    </tr>\r\n                                    <tr className=\"border-b border-border hover:bg-muted/50\">\r\n                                        <td className=\"p-3 font-medium\">Huecos Dispersos</td>\r\n                                        {comparisonData.map((data, idx) => (\r\n                                            <td key={idx} className=\"text-center p-3\">\r\n                                                {data.metrics.huecos}\r\n                                                {getBestBadge('huecos') === idx && <Badge className=\"ml-2 bg-green-500 text-xs\">✓ Mejor</Badge>}\r\n                                            </td>\r\n                                        ))}\r\n                                    </tr>\r\n                                    <tr className=\"border-b border-border hover:bg-muted/50\">\r\n                                        <td className=\"p-3 font-medium\">Rechazos por Fragmentación</td>\r\n                                        {comparisonData.map((data, idx) => (\r\n                                            <td key={idx} className=\"text-center p-3\">\r\n                                                {data.metrics.rechazos}\r\n                                                {getBestBadge('rechazos') === idx && <Badge className=\"ml-2 bg-green-500 text-xs\">✓ Mejor</Badge>}\r\n                                            </td>\r\n                                        ))}\r\n                                    </tr>\r\n                                    <tr className=\"border-b border-border hover:bg-muted/50\">\r\n                                        <td className=\"p-3 font-medium\">Utilización de Memoria (%)</td>\r\n                                        {comparisonData.map((data, idx) => (\r\n                                            <td key={idx} className=\"text-center p-3\">\r\n                                                {data.metrics.utilizacion}%\r\n                                                {getBestBadge('utilizacion') === idx && <Badge className=\"ml-2 bg-green-500 text-xs\">✓ Mejor</Badge>}\r\n                                            </td>\r\n                                        ))}\r\n                                    </tr>\r\n                                    <tr className=\"border-b border-border hover:bg-muted/50\">\r\n                                        <td className=\"p-3 font-medium\">Tiempo Promedio Turnaround (s)</td>\r\n                                        {comparisonData.map((data, idx) => (\r\n                                            <td key={idx} className=\"text-center p-3\">\r\n                                                {data.metrics.tiempoAsignacion}s\r\n                                                {getBestBadge('tiempoAsignacion') === idx && <Badge className=\"ml-2 bg-green-500 text-xs\">✓ Mejor</Badge>}\r\n                                            </td>\r\n                                        ))}\r\n                                    </tr>\r\n                                    <tr className=\"border-b border-border hover:bg-muted/50\">\r\n                                        <td className=\"p-3 font-medium\">Tiempo Promedio Espera (s)</td>\r\n                                        {comparisonData.map((data, idx) => (\r\n                                            <td key={idx} className=\"text-center p-3\">\r\n                                                {data.metrics.avgWaiting}s\r\n                                                {getBestBadge('avgWaiting') === idx && <Badge className=\"ml-2 bg-green-500 text-xs\">✓ Mejor</Badge>}\r\n                                            </td>\r\n                                        ))}\r\n                                    </tr>\r\n                                    <tr className=\"border-b border-border hover:bg-muted/50\">\r\n                                        <td className=\"p-3 font-medium\">Procesos Completados</td>\r\n                                        {comparisonData.map((data, idx) => (\r\n                                            <td key={idx} className=\"text-center p-3\">\r\n                                                {data.metrics.completedProcesses}\r\n                                            </td>\r\n                                        ))}\r\n                                    </tr>\r\n                                    <tr className=\"border-b border-border hover:bg-muted/50\">\r\n                                        <td className=\"p-3 font-medium\">Ticks Ejecutados</td>\r\n                                        {comparisonData.map((data, idx) => (\r\n                                            <td key={idx} className=\"text-center p-3\">\r\n                                                {data.metrics.totalTicks}\r\n                                            </td>\r\n                                        ))}\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                            <div className=\"space-y-2\">\r\n                                <h3 className=\"font-semibold text-sm\">Fragmentación Total (menor es mejor)</h3>\r\n                                <div className=\"space-y-2\">\r\n                                    {comparisonData.map((data, idx) => {\r\n                                        const totalFrag = data.metrics.fragExternal + data.metrics.fragInterna;\r\n                                        return (\r\n                                            <div key={idx}>\r\n                                                <div className=\"flex items-center gap-2 text-xs mb-1\">\r\n                                                    <span className=\"w-20 font-medium\">{data.strategy}</span>\r\n                                                    <span className=\"text-muted-foreground\">{totalFrag.toFixed(1)}%</span>\r\n                                                </div>\r\n                                                <div className=\"h-6 bg-muted rounded-full overflow-hidden\">\r\n                                                    <div\r\n                                                        className={`h-full ${data.color} transition-all`}\r\n                                                        style={{ width: `${Math.min((totalFrag / 50) * 100, 100)}%` }}\r\n                                                    ></div>\r\n                                                </div>\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"space-y-2\">\r\n                                <h3 className=\"font-semibold text-sm\">Utilización de Memoria (mayor es mejor)</h3>\r\n                                <div className=\"space-y-2\">\r\n                                    {comparisonData.map((data, idx) => (\r\n                                        <div key={idx}>\r\n                                            <div className=\"flex items-center gap-2 text-xs mb-1\">\r\n                                                <span className=\"w-20 font-medium\">{data.strategy}</span>\r\n                                                <span className=\"text-muted-foreground\">{data.metrics.utilizacion}%</span>\r\n                                            </div>\r\n                                            <div className=\"h-6 bg-muted rounded-full overflow-hidden\">\r\n                                                <div\r\n                                                    className={`h-full ${data.color} transition-all`}\r\n                                                    style={{ width: `${data.metrics.utilizacion}%` }}\r\n                                                ></div>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                            <div className=\"p-4 bg-blue-50 dark:bg-blue-950/20 border-2 border-blue-500 rounded-lg\">\r\n                                <div className=\"flex items-center gap-2 mb-2\">\r\n                                    <span className=\"text-2xl\">⚡</span>\r\n                                    <h3 className=\"font-bold text-blue-700 dark:text-blue-300\">Ganador en Performance</h3>\r\n                                </div>\r\n                                <div className=\"space-y-2 text-sm\">\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <Badge className={\r\n                                            comparison.bestPerformance === \"FirstFit\" ? \"bg-blue-500\" :\r\n                                                comparison.bestPerformance === \"BestFit\" ? \"bg-green-500\" : \"bg-orange-500\"\r\n                                        }>\r\n                                            {comparison.bestPerformance}\r\n                                        </Badge>\r\n                                        <span className=\"font-semibold\">\r\n                                            {comparisonData.find(d => d.strategy === comparison.bestPerformance)?.metrics.tiempoAsignacion}s turnaround\r\n                                        </span>\r\n                                    </div>\r\n                                    <p className=\"text-muted-foreground\">\r\n                                        <strong>{comparison.bestPerformance}</strong> tiene el menor tiempo promedio de turnaround,\r\n                                        completando procesos más rápidamente.\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"p-4 bg-green-50 dark:bg-green-950/20 border-2 border-green-500 rounded-lg\">\r\n                                <div className=\"flex items-center gap-2 mb-2\">\r\n                                    <span className=\"text-2xl\">🏆</span>\r\n                                    <h3 className=\"font-bold text-green-700 dark:text-green-300\">Ganador en Optimización</h3>\r\n                                </div>\r\n                                <div className=\"space-y-2 text-sm\">\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <Badge className={\r\n                                            comparison.bestOptimization === \"FirstFit\" ? \"bg-blue-500\" :\r\n                                                comparison.bestOptimization === \"BestFit\" ? \"bg-green-500\" : \"bg-orange-500\"\r\n                                        }>\r\n                                            {comparison.bestOptimization}\r\n                                        </Badge>\r\n                                        <span className=\"font-semibold\">\r\n                                            {(() => {\r\n                                                const data = comparisonData.find(d => d.strategy === comparison.bestOptimization);\r\n                                                return data ? (data.metrics.fragExternal + data.metrics.fragInterna).toFixed(1) : 0;\r\n                                            })()}% fragmentación total\r\n                                        </span>\r\n                                    </div>\r\n                                    <p className=\"text-muted-foreground\">\r\n                                        <strong>{comparison.bestOptimization}</strong> minimiza la fragmentación y maximiza\r\n                                        la utilización de memoria. <strong>Estrategia óptima</strong> para este escenario.\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"p-4 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-950/20 dark:to-blue-950/20 border-2 border-green-500 rounded-lg\">\r\n                            <h3 className=\"font-bold text-lg mb-3 flex items-center gap-2\">\r\n                                <span>🎯</span>\r\n                                Conclusión para Tu Configuración\r\n                            </h3>\r\n                            <div className=\"space-y-2 text-sm\">\r\n                                <p>\r\n                                    Con <strong>{currentState.procesos.filter(p => p.estado !== 'terminated').length} procesos</strong> y\r\n                                    scheduler <strong>{currentState.scheduler}</strong>:\r\n                                </p>\r\n                                <ul className=\"list-disc list-inside space-y-1 ml-2 text-muted-foreground\">\r\n                                    <li>\r\n                                        <strong>Mejor Performance:</strong> {comparison.bestPerformance}\r\n                                        ({comparisonData.find(d => d.strategy === comparison.bestPerformance)?.metrics.tiempoAsignacion}s turnaround)\r\n                                    </li>\r\n                                    <li>\r\n                                        <strong>Mejor Optimización:</strong> {comparison.bestOptimization}\r\n                                        ({(() => {\r\n                                            const data = comparisonData.find(d => d.strategy === comparison.bestOptimization);\r\n                                            return data ? (data.metrics.fragExternal + data.metrics.fragInterna).toFixed(1) : 0;\r\n                                        })()}% fragmentación)\r\n                                    </li>\r\n                                    <li>\r\n                                        <strong>Procesos completados:</strong> {comparisonData[0].metrics.completedProcesses} de {currentState.procesos.filter(p => p.estado !== 'terminated').length}\r\n                                    </li>\r\n                                </ul>\r\n                                {comparison.bestPerformance === comparison.bestOptimization ? (\r\n                                    <p className=\"mt-3 pt-3 border-t border-green-300 dark:border-green-700 font-semibold text-green-700 dark:text-green-300\">\r\n                                        ✅ <strong>{comparison.bestPerformance}</strong> es la mejor estrategia en ambos aspectos para esta configuración.\r\n                                    </p>\r\n                                ) : (\r\n                                    <p className=\"mt-3 pt-3 border-t border-green-300 dark:border-green-700\">\r\n                                        <strong>Trade-off:</strong> {comparison.bestPerformance} es más rápido,\r\n                                        pero {comparison.bestOptimization} optimiza mejor la memoria.\r\n                                    </p>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"text-xs text-muted-foreground p-3 bg-muted rounded border border-border\">\r\n                            <strong>Metodología:</strong> Resultados obtenidos ejecutando 3 simulaciones separadas (FirstFit, BestFit, WorstFit)\r\n                            con configuración idéntica: {currentState.procesos.filter(p => p.estado !== 'terminated').length} procesos,\r\n                            Scheduler {currentState.scheduler}, Quantum {currentState.quantum}.\r\n                            Simulaciones ejecutadas por hasta 200 ticks o hasta completar todos los procesos.\r\n                        </div>\r\n                    </div>\r\n                </ScrollArea>\r\n            </DialogContent>\r\n        </Dialog>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 9117, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xluck/Desktop/UNI/Sistemas%20Operativos/Proyecto%20Final/Proyecto-Sistemas-Operativos/components/os-simulator.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect, useRef } from \"react\"\r\nimport { OSSimulator } from \"@/lib/os-simulator\"\r\nimport { ScenarioManager } from \"@/lib/scenario-manager\"\r\nimport ProcessPanel from \"./panels/process-panel\"\r\nimport MemoryPanel from \"./panels/memory-panel\"\r\nimport SchedulerPanel from \"./panels/scheduler-panel\"\r\nimport InterruptsPanel from \"./panels/interrupts-panel\"\r\nimport DevicesPanel from \"./panels/devices-panel\"\r\nimport StatsPanel from \"./panels/stats-panel\"\r\nimport LogsPanel from \"./panels/logs-panel\"\r\nimport MetricsDashboard from \"./panels/metrics-dashboard\"\r\nimport GanttChart from \"./panels/gantt-chart\"\r\nimport DeadlockAlert from \"./panels/deadlock-alert\"\r\nimport StateDiagram from \"./panels/state-diagram\"\r\nimport StrategyComparison from \"./panels/strategy-comparison\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from \"@/components/ui/dialog\"\r\nimport { Download, Upload } from \"lucide-react\"\r\n\r\nexport default function OSSimulatorComponent() {\r\n  const simulatorRef = useRef<OSSimulator | null>(null)\r\n  const [state, setState] = useState<any>(null)\r\n  const [running, setRunning] = useState(false)\r\n  const [speed, setSpeed] = useState(100)\r\n  const [keyboardModalOpen, setKeyboardModalOpen] = useState(false)\r\n  const [pendingKeyboardIrq, setPendingKeyboardIrq] = useState<number | null>(null)\r\n  const [deadlockDetected, setDeadlockDetected] = useState(false)\r\n  const [comparisonModalOpen, setComparisonModalOpen] = useState(false)\r\n  const [resetModalOpen, setResetModalOpen] = useState(false)\r\n  const [processCount, setProcessCount] = useState(5)\r\n\r\n  const intervalRef = useRef<NodeJS.Timeout | null>(null)\r\n\r\n  useEffect(() => {\r\n    simulatorRef.current = new OSSimulator()\r\n    simulatorRef.current.generarProcesosIniciales(5)\r\n    setState(simulatorRef.current.getState())\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (running && simulatorRef.current) {\r\n      intervalRef.current = setInterval(\r\n        () => {\r\n          if (!simulatorRef.current) return\r\n\r\n          simulatorRef.current.ejecutarTick()\r\n          const newState = { ...simulatorRef.current.getState() }\r\n          setState(newState)\r\n\r\n          // Check for deadlock\r\n          if (newState.deadlockStatus?.detected && !deadlockDetected) {\r\n            setDeadlockDetected(true)\r\n            setRunning(false) // Pause simulation\r\n          }\r\n\r\n          // Check for manual keyboard interrupts\r\n          const manualIrq = newState.interrupcionesActivas.find((i: any) => i.esManual && i.estado === \"active\")\r\n          if (manualIrq && !keyboardModalOpen) {\r\n            setPendingKeyboardIrq(manualIrq.id)\r\n            setKeyboardModalOpen(true)\r\n            setRunning(false) // Pause for user input\r\n          }\r\n        },\r\n        Math.max(10, 200 - speed),\r\n      )\r\n    } else if (intervalRef.current) {\r\n      clearInterval(intervalRef.current)\r\n    }\r\n\r\n    return () => {\r\n      if (intervalRef.current) clearInterval(intervalRef.current)\r\n    }\r\n  }, [running, speed, keyboardModalOpen, deadlockDetected])\r\n\r\n  const handleKeyboardAction = (action: \"continuar\" | \"cancelar\") => {\r\n    if (simulatorRef.current && pendingKeyboardIrq) {\r\n      simulatorRef.current.resolverInterrupcionManual(pendingKeyboardIrq, action)\r\n      setState({ ...simulatorRef.current.getState() })\r\n      setKeyboardModalOpen(false)\r\n      setPendingKeyboardIrq(null)\r\n      setRunning(true) // Resume\r\n    }\r\n  }\r\n\r\n  const crearProceso = (\r\n    tamanio?: number,\r\n    burstTime?: number,\r\n    prioridad?: number,\r\n    maxInterrupciones?: number,\r\n    porcentajeDatos?: number,\r\n    porcentajeVariable?: number\r\n  ) => {\r\n    if (simulatorRef.current) {\r\n      simulatorRef.current.crearProceso(tamanio, burstTime, prioridad, maxInterrupciones, porcentajeDatos, porcentajeVariable)\r\n      setState({ ...simulatorRef.current.getState() })\r\n    }\r\n  }\r\n\r\n  const editarProceso = (\r\n    pid: number,\r\n    updates: {\r\n      tamanio?: number;\r\n      burstTime?: number;\r\n      prioridad?: number;\r\n      porcentajeDatos?: number;\r\n      porcentajeVariable?: number;\r\n      maxInterrupciones?: number;\r\n    }\r\n  ) => {\r\n    if (simulatorRef.current) {\r\n      simulatorRef.current.editarProceso(pid, updates)\r\n      setState({ ...simulatorRef.current.getState() })\r\n    }\r\n  }\r\n\r\n  const eliminarProceso = (pid: number) => {\r\n    if (simulatorRef.current) {\r\n      simulatorRef.current.eliminarProceso(pid)\r\n      setState({ ...simulatorRef.current.getState() })\r\n    }\r\n  }\r\n\r\n  // Export scenario\r\n  const handleExportScenario = () => {\r\n    if (simulatorRef.current) {\r\n      const currentState = simulatorRef.current.getState();\r\n      const scenario = ScenarioManager.exportScenario(currentState);\r\n      ScenarioManager.downloadScenario(scenario);\r\n    }\r\n  }\r\n\r\n  // Import scenario\r\n  const handleImportScenario = async () => {\r\n    const scenario = await ScenarioManager.loadScenarioFromFile();\r\n    if (!scenario || !simulatorRef.current) return;\r\n\r\n    // Reset simulator\r\n    simulatorRef.current = new OSSimulator();\r\n\r\n    // Apply scheduler configuration\r\n    simulatorRef.current.setScheduler(scenario.scheduler.algorithm);\r\n    simulatorRef.current.setApropiativo(scenario.scheduler.apropiativo);\r\n    simulatorRef.current.setQuantum(scenario.scheduler.quantum);\r\n    simulatorRef.current.setMemoryStrategy(scenario.memoryStrategy);\r\n\r\n    // Create processes from scenario\r\n    scenario.processes.forEach(pConfig => {\r\n      simulatorRef.current!.crearProceso(\r\n        pConfig.tamanio,\r\n        pConfig.burstTime,\r\n        pConfig.prioridad,\r\n        pConfig.maxInterrupciones,\r\n        pConfig.porcentajeDatos,\r\n        pConfig.porcentajeVariable\r\n      );\r\n    });\r\n\r\n    setState(simulatorRef.current.getState());\r\n    setRunning(false);\r\n  }\r\n\r\n  // Export logs\r\n  const handleExportLogs = () => {\r\n    if (state?.logs) {\r\n      ScenarioManager.exportLogs(state.logs);\r\n    }\r\n  }\r\n\r\n  // Handle deadlock resolution\r\n  const handleDeadlockResolve = (action: \"cancel_process\" | \"ignore\", pid?: number) => {\r\n    if (action === \"cancel_process\" && pid && simulatorRef.current) {\r\n      simulatorRef.current.eliminarProceso(pid);\r\n      setState({ ...simulatorRef.current.getState() });\r\n    }\r\n    setDeadlockDetected(false);\r\n  }\r\n\r\n  if (!state) return <div className=\"p-4\">Inicializando...</div>\r\n\r\n  return (\r\n    <div className=\"w-full h-full bg-background text-foreground overflow-auto\">\r\n      {/* Header */}\r\n      <div className=\"sticky top-0 z-50 bg-card border-b border-border p-4 space-y-3 shadow-sm\">\r\n        <div className=\"flex items-center justify-between gap-4\">\r\n          <h1 className=\"text-2xl font-bold\">Simulador de Procesos</h1>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Button onClick={() => setRunning(!running)} variant={running ? \"destructive\" : \"default\"}>\r\n              {running ? \"Pausar\" : \"Ejecutar\"}\r\n            </Button>\r\n            <Button\r\n              onClick={() => {\r\n                if (simulatorRef.current) {\r\n                  simulatorRef.current.ejecutarTick();\r\n                  setState({ ...simulatorRef.current.getState() });\r\n                }\r\n              }}\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              title=\"Ejecutar un solo tick de simulación\"\r\n              disabled={running}\r\n            >\r\n              ▶ Ejecutar 1 Tick\r\n            </Button>\r\n            <Button\r\n              onClick={() => setResetModalOpen(true)}\r\n              variant=\"outline\"\r\n            >\r\n              Reiniciar\r\n            </Button>\r\n            <Button\r\n              onClick={handleExportScenario}\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              title=\"Exportar configuración actual\"\r\n            >\r\n              <Download className=\"h-4 w-4 mr-1\" />\r\n              Exportar\r\n            </Button>\r\n            <Button\r\n              onClick={handleImportScenario}\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              title=\"Importar configuración desde archivo\"\r\n            >\r\n              <Upload className=\"h-4 w-4 mr-1\" />\r\n              Importar\r\n            </Button>\r\n            <Button\r\n              onClick={() => setComparisonModalOpen(true)}\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              title=\"Ver comparativa de estrategias de memoria\"\r\n              className=\"bg-gradient-to-r from-green-500/10 to-blue-500/10 border-green-500\"\r\n            >\r\n              📊 Comparativa\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          <label className=\"text-sm font-medium\">Velocidad:</label>\r\n          <input\r\n            type=\"range\"\r\n            min=\"0\"\r\n            max=\"190\"\r\n            step=\"5\"\r\n            value={speed}\r\n            onChange={(e) => setSpeed(Number(e.target.value))}\r\n            className=\"w-48\"\r\n          />\r\n          <span className=\"text-xs text-muted-foreground w-20\">\r\n            {speed === 0 ? \"Muy Lenta\" : speed < 50 ? \"Lenta\" : speed < 100 ? \"Media\" : speed < 150 ? \"Rápida\" : \"Muy Rápida\"}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Grid */}\r\n      <div className=\"p-4 space-y-4\">\r\n        {/* Row 1: Scheduler & Processes */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4\">\r\n          <div className=\"lg:col-span-1\">\r\n            <SchedulerPanel\r\n              state={state}\r\n              simulator={simulatorRef.current}\r\n              onStateChange={() => setState({ ...simulatorRef.current!.getState() })}\r\n            />\r\n          </div>\r\n          <div className=\"lg:col-span-2\">\r\n            <ProcessPanel\r\n              state={state}\r\n              onCreate={crearProceso}\r\n              onEdit={editarProceso}\r\n              onDelete={eliminarProceso}\r\n              simulator={simulatorRef.current}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Row 2: Metrics Dashboard */}\r\n        <div>\r\n          <MetricsDashboard metrics={state.metrics} />\r\n        </div>\r\n\r\n        {/* Row 3: Gantt Chart */}\r\n        <div>\r\n          <GanttChart ganttChart={state.ganttChart} procesos={state.procesos} />\r\n        </div>\r\n\r\n        {/* Row 4: State Diagram */}\r\n        <div>\r\n          <StateDiagram procesos={state.procesos} />\r\n        </div>\r\n\r\n        {/* Row 5: Memory & Interrupts */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n          <MemoryPanel state={state} simulator={simulatorRef.current} />\r\n          <InterruptsPanel state={state} simulator={simulatorRef.current} />\r\n        </div>\r\n\r\n        {/* Row 6: Devices */}\r\n        <div>\r\n          <DevicesPanel state={state} />\r\n        </div>\r\n\r\n        {/* Row 7: Stats & Logs */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n          <StatsPanel state={state} />\r\n          <LogsPanel state={state} simulator={simulatorRef.current} />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Keyboard Modal */}\r\n      <Dialog open={keyboardModalOpen} onOpenChange={() => { }}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>Interrupción de Teclado</DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"py-4\">\r\n            Un proceso ha solicitado entrada de teclado. ¿Desea continuar o cancelar la operación?\r\n          </div>\r\n          <DialogFooter>\r\n            <Button variant=\"destructive\" onClick={() => handleKeyboardAction(\"cancelar\")}>\r\n              Cancelar\r\n            </Button>\r\n            <Button onClick={() => handleKeyboardAction(\"continuar\")}>\r\n              Continuar\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Deadlock Alert Modal */}\r\n      {state?.deadlockStatus && (\r\n        <DeadlockAlert\r\n          deadlockInfo={state.deadlockStatus}\r\n          onResolve={handleDeadlockResolve}\r\n          onClose={() => setDeadlockDetected(false)}\r\n        />\r\n      )}\r\n\r\n      {/* Reset Modal */}\r\n      <Dialog open={resetModalOpen} onOpenChange={setResetModalOpen}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>Reiniciar Simulación</DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"py-4 space-y-4\">\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              Esto reiniciará el simulador y generará procesos aleatorios.\r\n            </p>\r\n            <div className=\"space-y-2\">\r\n              <label className=\"text-sm font-medium\">\r\n                ¿Cuántos procesos desea generar?\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                min=\"1\"\r\n                max=\"20\"\r\n                value={processCount}\r\n                onChange={(e) => setProcessCount(Math.max(1, Math.min(20, parseInt(e.target.value) || 1)))}\r\n                className=\"w-full px-3 py-2 border rounded-md\"\r\n              />\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                Rango: 1-20 procesos\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setResetModalOpen(false)}>\r\n              Cancelar\r\n            </Button>\r\n            <Button onClick={() => {\r\n              simulatorRef.current = new OSSimulator()\r\n              simulatorRef.current.generarProcesosIniciales(processCount)\r\n              setState(simulatorRef.current.getState())\r\n              setRunning(false)\r\n              setResetModalOpen(false)\r\n            }}>\r\n              Reiniciar con {processCount} proceso{processCount !== 1 ? 's' : ''}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Strategy Comparison Modal */}\r\n      <StrategyComparison\r\n        open={comparisonModalOpen}\r\n        onClose={() => setComparisonModalOpen(false)}\r\n        currentState={state}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}